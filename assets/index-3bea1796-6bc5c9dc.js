var x2=Object.defineProperty,A2=(e,t,r)=>t in e?x2(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ee=(e,t,r)=>(A2(e,typeof t!="symbol"?t+"":t,r),r),vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function os(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function I0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){if(this instanceof n){var a=[null];a.push.apply(a,arguments);var i=Function.bind.apply(t,a);return new i}return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var hc={exports:{}},Hn=typeof Reflect=="object"?Reflect:null,zd=Hn&&typeof Hn.apply=="function"?Hn.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},ji;Hn&&typeof Hn.ownKeys=="function"?ji=Hn.ownKeys:Object.getOwnPropertySymbols?ji=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:ji=function(e){return Object.getOwnPropertyNames(e)};function T2(e){console&&console.warn&&console.warn(e)}var O0=Number.isNaN||function(e){return e!==e};function ke(){ke.init.call(this)}hc.exports=ke;hc.exports.once=R2;ke.EventEmitter=ke;ke.prototype._events=void 0;ke.prototype._eventsCount=0;ke.prototype._maxListeners=void 0;var $d=10;function cs(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(ke,"defaultMaxListeners",{enumerable:!0,get:function(){return $d},set:function(e){if(typeof e!="number"||e<0||O0(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");$d=e}});ke.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ke.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||O0(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function x0(e){return e._maxListeners===void 0?ke.defaultMaxListeners:e._maxListeners}ke.prototype.getMaxListeners=function(){return x0(this)};ke.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n=e==="error",a=this._events;if(a!==void 0)n=n&&a.error===void 0;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var o=a[e];if(o===void 0)return!1;if(typeof o=="function")zd(o,this,t);else for(var d=o.length,f=C0(o,d),r=0;r<d;++r)zd(f[r],this,t);return!0};function A0(e,t,r,n){var a,i,s;if(cs(r),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),s===void 0)s=i[t]=r,++e._eventsCount;else if(typeof s=="function"?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),a=x0(e),a>0&&s.length>a&&!s.warned){s.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=e,o.type=t,o.count=s.length,T2(o)}return e}ke.prototype.addListener=function(e,t){return A0(this,e,t,!1)};ke.prototype.on=ke.prototype.addListener;ke.prototype.prependListener=function(e,t){return A0(this,e,t,!0)};function N2(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function T0(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},a=N2.bind(n);return a.listener=r,n.wrapFn=a,a}ke.prototype.once=function(e,t){return cs(t),this.on(e,T0(this,e,t)),this};ke.prototype.prependOnceListener=function(e,t){return cs(t),this.prependListener(e,T0(this,e,t)),this};ke.prototype.removeListener=function(e,t){var r,n,a,i,s;if(cs(t),n=this._events,n===void 0)return this;if(r=n[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(a=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,a=i;break}if(a<0)return this;a===0?r.shift():k2(r,a),r.length===1&&(n[e]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",e,s||t)}return this};ke.prototype.off=ke.prototype.removeListener;ke.prototype.removeAllListeners=function(e){var t,r,n;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var a=Object.keys(r),i;for(n=0;n<a.length;++n)i=a[n],i!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this};function N0(e,t,r){var n=e._events;if(n===void 0)return[];var a=n[t];return a===void 0?[]:typeof a=="function"?r?[a.listener||a]:[a]:r?C2(a):C0(a,a.length)}ke.prototype.listeners=function(e){return N0(this,e,!0)};ke.prototype.rawListeners=function(e){return N0(this,e,!1)};ke.listenerCount=function(e,t){return typeof e.listenerCount=="function"?e.listenerCount(t):k0.call(e,t)};ke.prototype.listenerCount=k0;function k0(e){var t=this._events;if(t!==void 0){var r=t[e];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}ke.prototype.eventNames=function(){return this._eventsCount>0?ji(this._events):[]};function C0(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function k2(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function C2(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}function R2(e,t){return new Promise(function(r,n){function a(s){e.removeListener(t,i),n(s)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",a),r([].slice.call(arguments))}R0(e,t,i,{once:!0}),t!=="error"&&P2(e,a,{once:!0})})}function P2(e,t,r){typeof e.on=="function"&&R0(e,"error",t,r)}function R0(e,t,r,n){if(typeof e.on=="function")n.once?e.once(t,r):e.on(t,r);else if(typeof e.addEventListener=="function")e.addEventListener(t,function a(i){n.once&&e.removeEventListener(t,a),r(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Ft=hc.exports;const P0=os(Ft);var ds={},L0={exports:{}};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */(function(e){var t,r,n,a,i,s,o,d,f,h,p,y,g,I,O,T,C,_,v,w,A,b,c;(function(u){var R=typeof vt=="object"?vt:typeof self=="object"?self:typeof this=="object"?this:{};u(E(R,E(e.exports)));function E(N,D){return N!==R&&(typeof Object.create=="function"?Object.defineProperty(N,"__esModule",{value:!0}):N.__esModule=!0),function($,S){return N[$]=D?D($,S):S}}})(function(u){var R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,N){E.__proto__=N}||function(E,N){for(var D in N)N.hasOwnProperty(D)&&(E[D]=N[D])};t=function(E,N){R(E,N);function D(){this.constructor=E}E.prototype=N===null?Object.create(N):(D.prototype=N.prototype,new D)},r=Object.assign||function(E){for(var N,D=1,$=arguments.length;D<$;D++){N=arguments[D];for(var S in N)Object.prototype.hasOwnProperty.call(N,S)&&(E[S]=N[S])}return E},n=function(E,N){var D={};for(var $ in E)Object.prototype.hasOwnProperty.call(E,$)&&N.indexOf($)<0&&(D[$]=E[$]);if(E!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,$=Object.getOwnPropertySymbols(E);S<$.length;S++)N.indexOf($[S])<0&&Object.prototype.propertyIsEnumerable.call(E,$[S])&&(D[$[S]]=E[$[S]]);return D},a=function(E,N,D,$){var S=arguments.length,m=S<3?N:$===null?$=Object.getOwnPropertyDescriptor(N,D):$,L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(E,N,D,$);else for(var z=E.length-1;z>=0;z--)(L=E[z])&&(m=(S<3?L(m):S>3?L(N,D,m):L(N,D))||m);return S>3&&m&&Object.defineProperty(N,D,m),m},i=function(E,N){return function(D,$){N(D,$,E)}},s=function(E,N){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(E,N)},o=function(E,N,D,$){function S(m){return m instanceof D?m:new D(function(L){L(m)})}return new(D||(D=Promise))(function(m,L){function z(H){try{M($.next(H))}catch(q){L(q)}}function F(H){try{M($.throw(H))}catch(q){L(q)}}function M(H){H.done?m(H.value):S(H.value).then(z,F)}M(($=$.apply(E,N||[])).next())})},d=function(E,N){var D={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},$,S,m,L;return L={next:z(0),throw:z(1),return:z(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function z(M){return function(H){return F([M,H])}}function F(M){if($)throw new TypeError("Generator is already executing.");for(;D;)try{if($=1,S&&(m=M[0]&2?S.return:M[0]?S.throw||((m=S.return)&&m.call(S),0):S.next)&&!(m=m.call(S,M[1])).done)return m;switch(S=0,m&&(M=[M[0]&2,m.value]),M[0]){case 0:case 1:m=M;break;case 4:return D.label++,{value:M[1],done:!1};case 5:D.label++,S=M[1],M=[0];continue;case 7:M=D.ops.pop(),D.trys.pop();continue;default:if(m=D.trys,!(m=m.length>0&&m[m.length-1])&&(M[0]===6||M[0]===2)){D=0;continue}if(M[0]===3&&(!m||M[1]>m[0]&&M[1]<m[3])){D.label=M[1];break}if(M[0]===6&&D.label<m[1]){D.label=m[1],m=M;break}if(m&&D.label<m[2]){D.label=m[2],D.ops.push(M);break}m[2]&&D.ops.pop(),D.trys.pop();continue}M=N.call(E,D)}catch(H){M=[6,H],S=0}finally{$=m=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}},c=function(E,N,D,$){$===void 0&&($=D),E[$]=N[D]},f=function(E,N){for(var D in E)D!=="default"&&!N.hasOwnProperty(D)&&(N[D]=E[D])},h=function(E){var N=typeof Symbol=="function"&&Symbol.iterator,D=N&&E[N],$=0;if(D)return D.call(E);if(E&&typeof E.length=="number")return{next:function(){return E&&$>=E.length&&(E=void 0),{value:E&&E[$++],done:!E}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")},p=function(E,N){var D=typeof Symbol=="function"&&E[Symbol.iterator];if(!D)return E;var $=D.call(E),S,m=[],L;try{for(;(N===void 0||N-- >0)&&!(S=$.next()).done;)m.push(S.value)}catch(z){L={error:z}}finally{try{S&&!S.done&&(D=$.return)&&D.call($)}finally{if(L)throw L.error}}return m},y=function(){for(var E=[],N=0;N<arguments.length;N++)E=E.concat(p(arguments[N]));return E},g=function(){for(var E=0,N=0,D=arguments.length;N<D;N++)E+=arguments[N].length;for(var $=Array(E),S=0,N=0;N<D;N++)for(var m=arguments[N],L=0,z=m.length;L<z;L++,S++)$[S]=m[L];return $},I=function(E){return this instanceof I?(this.v=E,this):new I(E)},O=function(E,N,D){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $=D.apply(E,N||[]),S,m=[];return S={},L("next"),L("throw"),L("return"),S[Symbol.asyncIterator]=function(){return this},S;function L(W){$[W]&&(S[W]=function(K){return new Promise(function(Q,Y){m.push([W,K,Q,Y])>1||z(W,K)})})}function z(W,K){try{F($[W](K))}catch(Q){q(m[0][3],Q)}}function F(W){W.value instanceof I?Promise.resolve(W.value.v).then(M,H):q(m[0][2],W)}function M(W){z("next",W)}function H(W){z("throw",W)}function q(W,K){W(K),m.shift(),m.length&&z(m[0][0],m[0][1])}},T=function(E){var N,D;return N={},$("next"),$("throw",function(S){throw S}),$("return"),N[Symbol.iterator]=function(){return this},N;function $(S,m){N[S]=E[S]?function(L){return(D=!D)?{value:I(E[S](L)),done:S==="return"}:m?m(L):L}:m}},C=function(E){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var N=E[Symbol.asyncIterator],D;return N?N.call(E):(E=typeof h=="function"?h(E):E[Symbol.iterator](),D={},$("next"),$("throw"),$("return"),D[Symbol.asyncIterator]=function(){return this},D);function $(m){D[m]=E[m]&&function(L){return new Promise(function(z,F){L=E[m](L),S(z,F,L.done,L.value)})}}function S(m,L,z,F){Promise.resolve(F).then(function(M){m({value:M,done:z})},L)}},_=function(E,N){return Object.defineProperty?Object.defineProperty(E,"raw",{value:N}):E.raw=N,E},v=function(E){if(E&&E.__esModule)return E;var N={};if(E!=null)for(var D in E)Object.hasOwnProperty.call(E,D)&&(N[D]=E[D]);return N.default=E,N},w=function(E){return E&&E.__esModule?E:{default:E}},A=function(E,N){if(!N.has(E))throw new TypeError("attempted to get private field on non-instance");return N.get(E)},b=function(E,N,D){if(!N.has(E))throw new TypeError("attempted to set private field on non-instance");return N.set(E,D),D},u("__extends",t),u("__assign",r),u("__rest",n),u("__decorate",a),u("__param",i),u("__metadata",s),u("__awaiter",o),u("__generator",d),u("__exportStar",f),u("__createBinding",c),u("__values",h),u("__read",p),u("__spread",y),u("__spreadArrays",g),u("__await",I),u("__asyncGenerator",O),u("__asyncDelegator",T),u("__asyncValues",C),u("__makeTemplateObject",_),u("__importStar",v),u("__importDefault",w),u("__classPrivateFieldGet",A),u("__classPrivateFieldSet",b)})})(L0);var Zt=L0.exports,Qa={};Object.defineProperty(Qa,"__esModule",{value:!0});function L2(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return JSON.parse(e)}catch{return e}}Qa.safeJsonParse=L2;function U2(e){return typeof e=="string"?e:JSON.stringify(e,(t,r)=>typeof r>"u"?null:r)}Qa.safeJsonStringify=U2;var xi={exports:{}},Fd;function D2(){return Fd||(Fd=1,function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof vt<"u"&&vt.localStorage?xi.exports=vt.localStorage:typeof window<"u"&&window.localStorage?xi.exports=window.localStorage:xi.exports=new t}()),xi.exports}var Hd={},pa={},qd;function M2(){if(qd)return pa;qd=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.IKeyValueStorage=void 0;class e{}return pa.IKeyValueStorage=e,pa}var ga={},Vd;function B2(){if(Vd)return ga;Vd=1,Object.defineProperty(ga,"__esModule",{value:!0}),ga.parseEntry=void 0;const e=Qa;function t(r){var n;return[r[0],e.safeJsonParse((n=r[1])!==null&&n!==void 0?n:"")]}return ga.parseEntry=t,ga}var Kd;function j2(){return Kd||(Kd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Zt;t.__exportStar(M2(),e),t.__exportStar(B2(),e)}(Hd)),Hd}Object.defineProperty(ds,"__esModule",{value:!0});ds.KeyValueStorage=void 0;const Dn=Zt,Gd=Qa,z2=Dn.__importDefault(D2()),$2=j2();class U0{constructor(){this.localStorage=z2.default}getKeys(){return Dn.__awaiter(this,void 0,void 0,function*(){return Object.keys(this.localStorage)})}getEntries(){return Dn.__awaiter(this,void 0,void 0,function*(){return Object.entries(this.localStorage).map($2.parseEntry)})}getItem(t){return Dn.__awaiter(this,void 0,void 0,function*(){const r=this.localStorage.getItem(t);if(r!==null)return Gd.safeJsonParse(r)})}setItem(t,r){return Dn.__awaiter(this,void 0,void 0,function*(){this.localStorage.setItem(t,Gd.safeJsonStringify(r))})}removeItem(t){return Dn.__awaiter(this,void 0,void 0,function*(){this.localStorage.removeItem(t)})}}ds.KeyValueStorage=U0;var F2=ds.default=U0,ei={},ya={},re={},Wd={},ma={},Yd;function H2(){if(Yd)return ma;Yd=1,Object.defineProperty(ma,"__esModule",{value:!0}),ma.delay=void 0;function e(t){return new Promise(r=>{setTimeout(()=>{r(!0)},t)})}return ma.delay=e,ma}var sn={},Zd={},kn={},Xd;function q2(){return Xd||(Xd=1,Object.defineProperty(kn,"__esModule",{value:!0}),kn.ONE_THOUSAND=kn.ONE_HUNDRED=void 0,kn.ONE_HUNDRED=100,kn.ONE_THOUSAND=1e3),kn}var Jd={},Qd;function V2(){return Qd||(Qd=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ONE_YEAR=e.FOUR_WEEKS=e.THREE_WEEKS=e.TWO_WEEKS=e.ONE_WEEK=e.THIRTY_DAYS=e.SEVEN_DAYS=e.FIVE_DAYS=e.THREE_DAYS=e.ONE_DAY=e.TWENTY_FOUR_HOURS=e.TWELVE_HOURS=e.SIX_HOURS=e.THREE_HOURS=e.ONE_HOUR=e.SIXTY_MINUTES=e.THIRTY_MINUTES=e.TEN_MINUTES=e.FIVE_MINUTES=e.ONE_MINUTE=e.SIXTY_SECONDS=e.THIRTY_SECONDS=e.TEN_SECONDS=e.FIVE_SECONDS=e.ONE_SECOND=void 0,e.ONE_SECOND=1,e.FIVE_SECONDS=5,e.TEN_SECONDS=10,e.THIRTY_SECONDS=30,e.SIXTY_SECONDS=60,e.ONE_MINUTE=e.SIXTY_SECONDS,e.FIVE_MINUTES=e.ONE_MINUTE*5,e.TEN_MINUTES=e.ONE_MINUTE*10,e.THIRTY_MINUTES=e.ONE_MINUTE*30,e.SIXTY_MINUTES=e.ONE_MINUTE*60,e.ONE_HOUR=e.SIXTY_MINUTES,e.THREE_HOURS=e.ONE_HOUR*3,e.SIX_HOURS=e.ONE_HOUR*6,e.TWELVE_HOURS=e.ONE_HOUR*12,e.TWENTY_FOUR_HOURS=e.ONE_HOUR*24,e.ONE_DAY=e.TWENTY_FOUR_HOURS,e.THREE_DAYS=e.ONE_DAY*3,e.FIVE_DAYS=e.ONE_DAY*5,e.SEVEN_DAYS=e.ONE_DAY*7,e.THIRTY_DAYS=e.ONE_DAY*30,e.ONE_WEEK=e.SEVEN_DAYS,e.TWO_WEEKS=e.ONE_WEEK*2,e.THREE_WEEKS=e.ONE_WEEK*3,e.FOUR_WEEKS=e.ONE_WEEK*4,e.ONE_YEAR=e.ONE_DAY*365}(Jd)),Jd}var ef;function D0(){return ef||(ef=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Zt;t.__exportStar(q2(),e),t.__exportStar(V2(),e)}(Zd)),Zd}var tf;function K2(){if(tf)return sn;tf=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.fromMiliseconds=sn.toMiliseconds=void 0;const e=D0();function t(n){return n*e.ONE_THOUSAND}sn.toMiliseconds=t;function r(n){return Math.floor(n/e.ONE_THOUSAND)}return sn.fromMiliseconds=r,sn}var rf;function G2(){return rf||(rf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Zt;t.__exportStar(H2(),e),t.__exportStar(K2(),e)}(Wd)),Wd}var Cn={},nf;function W2(){if(nf)return Cn;nf=1,Object.defineProperty(Cn,"__esModule",{value:!0}),Cn.Watch=void 0;class e{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const a=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:a})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Cn.Watch=e,Cn.default=e,Cn}var af={},wa={},sf;function Y2(){if(sf)return wa;sf=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.IWatch=void 0;class e{}return wa.IWatch=e,wa}var of;function Z2(){return of||(of=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Zt.__exportStar(Y2(),e)}(af)),af}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Zt;t.__exportStar(G2(),e),t.__exportStar(W2(),e),t.__exportStar(Z2(),e),t.__exportStar(D0(),e)})(re);var cf={},_a={};let In=class{};const X2=Object.freeze(Object.defineProperty({__proto__:null,IEvents:In},Symbol.toStringTag,{value:"Module"})),J2=I0(X2);var df;function Q2(){if(df)return _a;df=1,Object.defineProperty(_a,"__esModule",{value:!0}),_a.IHeartBeat=void 0;const e=J2;class t extends e.IEvents{constructor(n){super()}}return _a.IHeartBeat=t,_a}var ff;function M0(){return ff||(ff=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Zt.__exportStar(Q2(),e)}(cf)),cf}var hf={},on={},lf;function e5(){if(lf)return on;lf=1,Object.defineProperty(on,"__esModule",{value:!0}),on.HEARTBEAT_EVENTS=on.HEARTBEAT_INTERVAL=void 0;const e=re;return on.HEARTBEAT_INTERVAL=e.FIVE_SECONDS,on.HEARTBEAT_EVENTS={pulse:"heartbeat_pulse"},on}var uf;function B0(){return uf||(uf=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),Zt.__exportStar(e5(),e)}(hf)),hf}var bf;function t5(){if(bf)return ya;bf=1,Object.defineProperty(ya,"__esModule",{value:!0}),ya.HeartBeat=void 0;const e=Zt,t=Ft,r=re,n=M0(),a=B0();class i extends n.IHeartBeat{constructor(o){super(o),this.events=new t.EventEmitter,this.interval=a.HEARTBEAT_INTERVAL,this.interval=(o==null?void 0:o.interval)||a.HEARTBEAT_INTERVAL}static init(o){return e.__awaiter(this,void 0,void 0,function*(){const d=new i(o);return yield d.init(),d})}init(){return e.__awaiter(this,void 0,void 0,function*(){yield this.initialize()})}stop(){clearInterval(this.intervalRef)}on(o,d){this.events.on(o,d)}once(o,d){this.events.once(o,d)}off(o,d){this.events.off(o,d)}removeListener(o,d){this.events.removeListener(o,d)}initialize(){return e.__awaiter(this,void 0,void 0,function*(){this.intervalRef=setInterval(()=>this.pulse(),r.toMiliseconds(this.interval))})}pulse(){this.events.emit(a.HEARTBEAT_EVENTS.pulse)}}return ya.HeartBeat=i,ya}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Zt;t.__exportStar(t5(),e),t.__exportStar(M0(),e),t.__exportStar(B0(),e)})(ei);var Se={},zs,pf;function r5(){if(pf)return zs;pf=1;function e(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}zs=t;function t(r,n,a){var i=a&&a.stringify||e,s=1;if(typeof r=="object"&&r!==null){var o=n.length+s;if(o===1)return r;var d=new Array(o);d[0]=i(r);for(var f=1;f<o;f++)d[f]=i(n[f]);return d.join(" ")}if(typeof r!="string")return r;var h=n.length;if(h===0)return r;for(var p="",y=1-s,g=-1,I=r&&r.length||0,O=0;O<I;){if(r.charCodeAt(O)===37&&O+1<I){switch(g=g>-1?g:0,r.charCodeAt(O+1)){case 100:case 102:if(y>=h||n[y]==null)break;g<O&&(p+=r.slice(g,O)),p+=Number(n[y]),g=O+2,O++;break;case 105:if(y>=h||n[y]==null)break;g<O&&(p+=r.slice(g,O)),p+=Math.floor(Number(n[y])),g=O+2,O++;break;case 79:case 111:case 106:if(y>=h||n[y]===void 0)break;g<O&&(p+=r.slice(g,O));var T=typeof n[y];if(T==="string"){p+="'"+n[y]+"'",g=O+2,O++;break}if(T==="function"){p+=n[y].name||"<anonymous>",g=O+2,O++;break}p+=i(n[y]),g=O+2,O++;break;case 115:if(y>=h)break;g<O&&(p+=r.slice(g,O)),p+=String(n[y]),g=O+2,O++;break;case 37:g<O&&(p+=r.slice(g,O)),p+="%",g=O+2,O++,y--;break}++y}++O}return g===-1?r:(g<I&&(p+=r.slice(g)),p)}return zs}var $s,gf;function n5(){if(gf)return $s;gf=1;const e=r5();$s=a;const t=A().console||{},r={mapHttpRequest:I,mapHttpResponse:I,wrapRequestSerializer:O,wrapResponseSerializer:O,wrapErrorSerializer:O,req:I,res:I,err:y};function n(b,c){return Array.isArray(b)?b.filter(function(u){return u!=="!stdSerializers.err"}):b===!0?Object.keys(c):!1}function a(b){b=b||{},b.browser=b.browser||{};const c=b.browser.transmit;if(c&&typeof c.send!="function")throw Error("pino: transmit option must have a send function");const u=b.browser.write||t;b.browser.write&&(b.browser.asObject=!0);const R=b.serializers||{},E=n(b.browser.serialize,R);let N=b.browser.serialize;Array.isArray(b.browser.serialize)&&b.browser.serialize.indexOf("!stdSerializers.err")>-1&&(N=!1);const D=["error","fatal","warn","info","debug","trace"];typeof u=="function"&&(u.error=u.fatal=u.warn=u.info=u.debug=u.trace=u),b.enabled===!1&&(b.level="silent");const $=b.level||"info",S=Object.create(u);S.log||(S.log=T),Object.defineProperty(S,"levelVal",{get:L}),Object.defineProperty(S,"level",{get:z,set:F});const m={transmit:c,serialize:E,asObject:b.browser.asObject,levels:D,timestamp:g(b)};S.levels=a.levels,S.level=$,S.setMaxListeners=S.getMaxListeners=S.emit=S.addListener=S.on=S.prependListener=S.once=S.prependOnceListener=S.removeListener=S.removeAllListeners=S.listeners=S.listenerCount=S.eventNames=S.write=S.flush=T,S.serializers=R,S._serialize=E,S._stdErrSerialize=N,S.child=M,c&&(S._logEvent=p());function L(){return this.level==="silent"?1/0:this.levels.values[this.level]}function z(){return this._level}function F(H){if(H!=="silent"&&!this.levels.values[H])throw Error("unknown level "+H);this._level=H,i(m,S,"error","log"),i(m,S,"fatal","error"),i(m,S,"warn","error"),i(m,S,"info","log"),i(m,S,"debug","log"),i(m,S,"trace","log")}function M(H,q){if(!H)throw new Error("missing bindings for child Pino");q=q||{},E&&H.serializers&&(q.serializers=H.serializers);const W=q.serializers;if(E&&W){var K=Object.assign({},R,W),Q=b.browser.serialize===!0?Object.keys(K):E;delete H.serializers,d([H],Q,K,this._stdErrSerialize)}function Y(te){this._childLevel=(te._childLevel|0)+1,this.error=f(te,H,"error"),this.fatal=f(te,H,"fatal"),this.warn=f(te,H,"warn"),this.info=f(te,H,"info"),this.debug=f(te,H,"debug"),this.trace=f(te,H,"trace"),K&&(this.serializers=K,this._serialize=Q),c&&(this._logEvent=p([].concat(te._logEvent.bindings,H)))}return Y.prototype=this,new Y(this)}return S}a.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},a.stdSerializers=r,a.stdTimeFunctions=Object.assign({},{nullTime:C,epochTime:_,unixTime:v,isoTime:w});function i(b,c,u,R){const E=Object.getPrototypeOf(c);c[u]=c.levelVal>c.levels.values[u]?T:E[u]?E[u]:t[u]||t[R]||T,s(b,c,u)}function s(b,c,u){!b.transmit&&c[u]===T||(c[u]=function(R){return function(){const E=b.timestamp(),N=new Array(arguments.length),D=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var $=0;$<N.length;$++)N[$]=arguments[$];if(b.serialize&&!b.asObject&&d(N,this._serialize,this.serializers,this._stdErrSerialize),b.asObject?R.call(D,o(this,u,N,E)):R.apply(D,N),b.transmit){const S=b.transmit.level||c.level,m=a.levels.values[S],L=a.levels.values[u];if(L<m)return;h(this,{ts:E,methodLevel:u,methodValue:L,transmitLevel:S,transmitValue:a.levels.values[b.transmit.level||c.level],send:b.transmit.send,val:c.levelVal},N)}}}(c[u]))}function o(b,c,u,R){b._serialize&&d(u,b._serialize,b.serializers,b._stdErrSerialize);const E=u.slice();let N=E[0];const D={};R&&(D.time=R),D.level=a.levels.values[c];let $=(b._childLevel|0)+1;if($<1&&($=1),N!==null&&typeof N=="object"){for(;$--&&typeof E[0]=="object";)Object.assign(D,E.shift());N=E.length?e(E.shift(),E):void 0}else typeof N=="string"&&(N=e(E.shift(),E));return N!==void 0&&(D.msg=N),D}function d(b,c,u,R){for(const E in b)if(R&&b[E]instanceof Error)b[E]=a.stdSerializers.err(b[E]);else if(typeof b[E]=="object"&&!Array.isArray(b[E]))for(const N in b[E])c&&c.indexOf(N)>-1&&N in u&&(b[E][N]=u[N](b[E][N]))}function f(b,c,u){return function(){const R=new Array(1+arguments.length);R[0]=c;for(var E=1;E<R.length;E++)R[E]=arguments[E-1];return b[u].apply(this,R)}}function h(b,c,u){const R=c.send,E=c.ts,N=c.methodLevel,D=c.methodValue,$=c.val,S=b._logEvent.bindings;d(u,b._serialize||Object.keys(b.serializers),b.serializers,b._stdErrSerialize===void 0?!0:b._stdErrSerialize),b._logEvent.ts=E,b._logEvent.messages=u.filter(function(m){return S.indexOf(m)===-1}),b._logEvent.level.label=N,b._logEvent.level.value=D,R(N,b._logEvent,$),b._logEvent=p(S)}function p(b){return{ts:0,messages:[],bindings:b||[],level:{label:"",value:0}}}function y(b){const c={type:b.constructor.name,msg:b.message,stack:b.stack};for(const u in b)c[u]===void 0&&(c[u]=b[u]);return c}function g(b){return typeof b.timestamp=="function"?b.timestamp:b.timestamp===!1?C:_}function I(){return{}}function O(b){return b}function T(){}function C(){return!1}function _(){return Date.now()}function v(){return Math.round(Date.now()/1e3)}function w(){return new Date(Date.now()).toISOString()}function A(){function b(c){return typeof c<"u"&&c}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return b(self)||b(window)||b(this)||{}}}return $s}var Rn={},yf;function j0(){return yf||(yf=1,Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.PINO_CUSTOM_CONTEXT_KEY=Rn.PINO_LOGGER_DEFAULTS=void 0,Rn.PINO_LOGGER_DEFAULTS={level:"info"},Rn.PINO_CUSTOM_CONTEXT_KEY="custom_context"),Rn}var St={},mf;function a5(){if(mf)return St;mf=1,Object.defineProperty(St,"__esModule",{value:!0}),St.generateChildLogger=St.formatChildLoggerContext=St.getLoggerContext=St.setBrowserLoggerContext=St.getBrowserLoggerContext=St.getDefaultLoggerOptions=void 0;const e=j0();function t(o){return Object.assign(Object.assign({},o),{level:(o==null?void 0:o.level)||e.PINO_LOGGER_DEFAULTS.level})}St.getDefaultLoggerOptions=t;function r(o,d=e.PINO_CUSTOM_CONTEXT_KEY){return o[d]||""}St.getBrowserLoggerContext=r;function n(o,d,f=e.PINO_CUSTOM_CONTEXT_KEY){return o[f]=d,o}St.setBrowserLoggerContext=n;function a(o,d=e.PINO_CUSTOM_CONTEXT_KEY){let f="";return typeof o.bindings>"u"?f=r(o,d):f=o.bindings().context||"",f}St.getLoggerContext=a;function i(o,d,f=e.PINO_CUSTOM_CONTEXT_KEY){const h=a(o,f);return h.trim()?`${h}/${d}`:d}St.formatChildLoggerContext=i;function s(o,d,f=e.PINO_CUSTOM_CONTEXT_KEY){const h=i(o,d,f),p=o.child({context:h});return n(p,h,f)}return St.generateChildLogger=s,St}(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.pino=void 0;const t=Zt,r=t.__importDefault(n5());Object.defineProperty(e,"pino",{enumerable:!0,get:function(){return r.default}}),t.__exportStar(j0(),e),t.__exportStar(a5(),e)})(Se);class i5 extends In{constructor(t){super(),this.opts=t,this.protocol="wc",this.version=2}}class s5 extends In{constructor(t,r){super(),this.core=t,this.logger=r,this.records=new Map}}class o5{constructor(t,r){this.logger=t,this.core=r}}class c5 extends In{constructor(t,r){super(),this.relayer=t,this.logger=r}}let d5=class extends In{constructor(e){super()}},f5=class{constructor(e,t,r,n){this.core=e,this.logger=t,this.name=r}};class h5 extends In{constructor(t,r){super(),this.relayer=t,this.logger=r}}class l5 extends In{constructor(t,r){super(),this.core=t,this.logger=r}}class u5{constructor(t,r){this.projectId=t,this.logger=r}}let b5=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}};class p5{constructor(t){this.client=t}}const g5=e=>JSON.stringify(e,(t,r)=>typeof r=="bigint"?r.toString()+"n":r),y5=e=>{const t=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=e.replace(t,'$1"$2n"$3');return JSON.parse(r,(n,a)=>typeof a=="string"&&a.match(/^\d+n$/)?BigInt(a.substring(0,a.length-1)):a)};function z0(e){if(typeof e!="string")throw new Error(`Cannot safe json parse value of type ${typeof e}`);try{return y5(e)}catch{return e}}function lc(e){return typeof e=="string"?e:g5(e)||""}var uc={},ra={},fs={},hs={};Object.defineProperty(hs,"__esModule",{value:!0});hs.BrowserRandomSource=void 0;const wf=65536;class m5{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const t=typeof self<"u"?self.crypto||self.msCrypto:null;t&&t.getRandomValues!==void 0&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(t);for(let n=0;n<r.length;n+=wf)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,wf)));return r}}hs.BrowserRandomSource=m5;function w5(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ls={},Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});function _5(e){for(var t=0;t<e.length;t++)e[t]=0;return e}Ht.wipe=_5;const v5={},E5=Object.freeze(Object.defineProperty({__proto__:null,default:v5},Symbol.toStringTag,{value:"Module"})),S5=I0(E5);Object.defineProperty(ls,"__esModule",{value:!0});ls.NodeRandomSource=void 0;const I5=Ht;class O5{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof w5<"u"){const t=S5;t&&t.randomBytes&&(this._crypto=t,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(t){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(t);if(r.length!==t)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(t);for(let a=0;a<n.length;a++)n[a]=r[a];return(0,I5.wipe)(r),n}}ls.NodeRandomSource=O5;Object.defineProperty(fs,"__esModule",{value:!0});fs.SystemRandomSource=void 0;const x5=hs,A5=ls;class T5{constructor(){if(this.isAvailable=!1,this.name="",this._source=new x5.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new A5.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(t){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(t)}}fs.SystemRandomSource=T5;var se={},$0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});function t(o,d){var f=o>>>16&65535,h=o&65535,p=d>>>16&65535,y=d&65535;return h*y+(f*y+h*p<<16>>>0)|0}e.mul=Math.imul||t;function r(o,d){return o+d|0}e.add=r;function n(o,d){return o-d|0}e.sub=n;function a(o,d){return o<<d|o>>>32-d}e.rotl=a;function i(o,d){return o<<32-d|o>>>d}e.rotr=i;function s(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o}e.isInteger=Number.isInteger||s,e.MAX_SAFE_INTEGER=9007199254740991,e.isSafeInteger=function(o){return e.isInteger(o)&&o>=-e.MAX_SAFE_INTEGER&&o<=e.MAX_SAFE_INTEGER}})($0);Object.defineProperty(se,"__esModule",{value:!0});var F0=$0;function N5(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])<<16>>16}se.readInt16BE=N5;function k5(e,t){return t===void 0&&(t=0),(e[t+0]<<8|e[t+1])>>>0}se.readUint16BE=k5;function C5(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])<<16>>16}se.readInt16LE=C5;function R5(e,t){return t===void 0&&(t=0),(e[t+1]<<8|e[t])>>>0}se.readUint16LE=R5;function H0(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>8,t[r+1]=e>>>0,t}se.writeUint16BE=H0;se.writeInt16BE=H0;function q0(e,t,r){return t===void 0&&(t=new Uint8Array(2)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t}se.writeUint16LE=q0;se.writeInt16LE=q0;function So(e,t){return t===void 0&&(t=0),e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}se.readInt32BE=So;function Io(e,t){return t===void 0&&(t=0),(e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3])>>>0}se.readUint32BE=Io;function Oo(e,t){return t===void 0&&(t=0),e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]}se.readInt32LE=Oo;function xo(e,t){return t===void 0&&(t=0),(e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t])>>>0}se.readUint32LE=xo;function Vi(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>24,t[r+1]=e>>>16,t[r+2]=e>>>8,t[r+3]=e>>>0,t}se.writeUint32BE=Vi;se.writeInt32BE=Vi;function Ki(e,t,r){return t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0),t[r+0]=e>>>0,t[r+1]=e>>>8,t[r+2]=e>>>16,t[r+3]=e>>>24,t}se.writeUint32LE=Ki;se.writeInt32LE=Ki;function P5(e,t){t===void 0&&(t=0);var r=So(e,t),n=So(e,t+4);return r*4294967296+n-(n>>31)*4294967296}se.readInt64BE=P5;function L5(e,t){t===void 0&&(t=0);var r=Io(e,t),n=Io(e,t+4);return r*4294967296+n}se.readUint64BE=L5;function U5(e,t){t===void 0&&(t=0);var r=Oo(e,t),n=Oo(e,t+4);return n*4294967296+r-(r>>31)*4294967296}se.readInt64LE=U5;function D5(e,t){t===void 0&&(t=0);var r=xo(e,t),n=xo(e,t+4);return n*4294967296+r}se.readUint64LE=D5;function V0(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Vi(e/4294967296>>>0,t,r),Vi(e>>>0,t,r+4),t}se.writeUint64BE=V0;se.writeInt64BE=V0;function K0(e,t,r){return t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0),Ki(e>>>0,t,r),Ki(e/4294967296>>>0,t,r+4),t}se.writeUint64LE=K0;se.writeInt64LE=K0;function M5(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,a=1,i=e/8+r-1;i>=r;i--)n+=t[i]*a,a*=256;return n}se.readUintBE=M5;function B5(e,t,r){if(r===void 0&&(r=0),e%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(e/8>t.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,a=1,i=r;i<r+e/8;i++)n+=t[i]*a,a*=256;return n}se.readUintLE=B5;function j5(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!F0.isSafeInteger(t))throw new Error("writeUintBE value must be an integer");for(var a=1,i=e/8+n-1;i>=n;i--)r[i]=t/a&255,a*=256;return r}se.writeUintBE=j5;function z5(e,t,r,n){if(r===void 0&&(r=new Uint8Array(e/8)),n===void 0&&(n=0),e%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!F0.isSafeInteger(t))throw new Error("writeUintLE value must be an integer");for(var a=1,i=n;i<n+e/8;i++)r[i]=t/a&255,a*=256;return r}se.writeUintLE=z5;function $5(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t)}se.readFloat32BE=$5;function F5(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat32(t,!0)}se.readFloat32LE=F5;function H5(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t)}se.readFloat64BE=H5;function q5(e,t){t===void 0&&(t=0);var r=new DataView(e.buffer,e.byteOffset,e.byteLength);return r.getFloat64(t,!0)}se.readFloat64LE=q5;function V5(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e),t}se.writeFloat32BE=V5;function K5(e,t,r){t===void 0&&(t=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat32(r,e,!0),t}se.writeFloat32LE=K5;function G5(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e),t}se.writeFloat64BE=G5;function W5(e,t,r){t===void 0&&(t=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(t.buffer,t.byteOffset,t.byteLength);return n.setFloat64(r,e,!0),t}se.writeFloat64LE=W5;(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.randomStringForEntropy=e.randomString=e.randomUint32=e.randomBytes=e.defaultRandomSource=void 0;const t=fs,r=se,n=Ht;e.defaultRandomSource=new t.SystemRandomSource;function a(f,h=e.defaultRandomSource){return h.randomBytes(f)}e.randomBytes=a;function i(f=e.defaultRandomSource){const h=a(4,f),p=(0,r.readUint32LE)(h);return(0,n.wipe)(h),p}e.randomUint32=i;const s="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function o(f,h=s,p=e.defaultRandomSource){if(h.length<2)throw new Error("randomString charset is too short");if(h.length>256)throw new Error("randomString charset is too long");let y="";const g=h.length,I=256-256%g;for(;f>0;){const O=a(Math.ceil(f*256/I),p);for(let T=0;T<O.length&&f>0;T++){const C=O[T];C<I&&(y+=h.charAt(C%g),f--)}(0,n.wipe)(O)}return y}e.randomString=o;function d(f,h=s,p=e.defaultRandomSource){const y=Math.ceil(f/(Math.log(h.length)/Math.LN2));return o(y,h,p)}e.randomStringForEntropy=d})(ra);var G0={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=se,r=Ht;e.DIGEST_LENGTH=64,e.BLOCK_SIZE=128;var n=function(){function o(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},o.prototype.update=function(d,f){if(f===void 0&&(f=d.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var h=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<e.BLOCK_SIZE&&f>0;)this._buffer[this._bufferLength++]=d[h++],f--;this._bufferLength===this.blockSize&&(i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(h=i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,d,h,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=d[h++],f--;return this},o.prototype.finish=function(d){if(!this._finished){var f=this._bytesHashed,h=this._bufferLength,p=f/536870912|0,y=f<<3,g=f%128<112?128:256;this._buffer[h]=128;for(var I=h+1;I<g-8;I++)this._buffer[I]=0;t.writeUint32BE(p,this._buffer,g-8),t.writeUint32BE(y,this._buffer,g-4),i(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,g),this._finished=!0}for(var I=0;I<this.digestLength/8;I++)t.writeUint32BE(this._stateHi[I],d,I*8),t.writeUint32BE(this._stateLo[I],d,I*8+4);return this},o.prototype.digest=function(){var d=new Uint8Array(this.digestLength);return this.finish(d),d},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(d){return this._stateHi.set(d.stateHi),this._stateLo.set(d.stateLo),this._bufferLength=d.bufferLength,d.buffer&&this._buffer.set(d.buffer),this._bytesHashed=d.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(d){r.wipe(d.stateHi),r.wipe(d.stateLo),d.buffer&&r.wipe(d.buffer),d.bufferLength=0,d.bytesHashed=0},o}();e.SHA512=n;var a=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function i(o,d,f,h,p,y,g){for(var I=f[0],O=f[1],T=f[2],C=f[3],_=f[4],v=f[5],w=f[6],A=f[7],b=h[0],c=h[1],u=h[2],R=h[3],E=h[4],N=h[5],D=h[6],$=h[7],S,m,L,z,F,M,H,q;g>=128;){for(var W=0;W<16;W++){var K=8*W+y;o[W]=t.readUint32BE(p,K),d[W]=t.readUint32BE(p,K+4)}for(var W=0;W<80;W++){var Q=I,Y=O,te=T,B=C,j=_,P=v,l=w,k=A,G=b,Z=c,oe=u,pe=R,he=E,Oe=N,Fe=D,Me=$;if(S=A,m=$,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=(_>>>14|E<<32-14)^(_>>>18|E<<32-18)^(E>>>41-32|_<<32-(41-32)),m=(E>>>14|_<<32-14)^(E>>>18|_<<32-18)^(_>>>41-32|E<<32-(41-32)),F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,S=_&v^~_&w,m=E&N^~E&D,F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,S=a[W*2],m=a[W*2+1],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,S=o[W%16],m=d[W%16],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,L=H&65535|q<<16,z=F&65535|M<<16,S=L,m=z,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=(I>>>28|b<<32-28)^(b>>>34-32|I<<32-(34-32))^(b>>>39-32|I<<32-(39-32)),m=(b>>>28|I<<32-28)^(I>>>34-32|b<<32-(34-32))^(I>>>39-32|b<<32-(39-32)),F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,S=I&O^I&T^O&T,m=b&c^b&u^c&u,F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,k=H&65535|q<<16,Me=F&65535|M<<16,S=B,m=pe,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=L,m=z,F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,B=H&65535|q<<16,pe=F&65535|M<<16,O=Q,T=Y,C=te,_=B,v=j,w=P,A=l,I=k,c=G,u=Z,R=oe,E=pe,N=he,D=Oe,$=Fe,b=Me,W%16===15)for(var K=0;K<16;K++)S=o[K],m=d[K],F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=o[(K+9)%16],m=d[(K+9)%16],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,L=o[(K+1)%16],z=d[(K+1)%16],S=(L>>>1|z<<32-1)^(L>>>8|z<<32-8)^L>>>7,m=(z>>>1|L<<32-1)^(z>>>8|L<<32-8)^(z>>>7|L<<32-7),F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,L=o[(K+14)%16],z=d[(K+14)%16],S=(L>>>19|z<<32-19)^(z>>>61-32|L<<32-(61-32))^L>>>6,m=(z>>>19|L<<32-19)^(L>>>61-32|z<<32-(61-32))^(z>>>6|L<<32-6),F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,o[K]=H&65535|q<<16,d[K]=F&65535|M<<16}S=I,m=b,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[0],m=h[0],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[0]=I=H&65535|q<<16,h[0]=b=F&65535|M<<16,S=O,m=c,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[1],m=h[1],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[1]=O=H&65535|q<<16,h[1]=c=F&65535|M<<16,S=T,m=u,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[2],m=h[2],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[2]=T=H&65535|q<<16,h[2]=u=F&65535|M<<16,S=C,m=R,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[3],m=h[3],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[3]=C=H&65535|q<<16,h[3]=R=F&65535|M<<16,S=_,m=E,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[4],m=h[4],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[4]=_=H&65535|q<<16,h[4]=E=F&65535|M<<16,S=v,m=N,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[5],m=h[5],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[5]=v=H&65535|q<<16,h[5]=N=F&65535|M<<16,S=w,m=D,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[6],m=h[6],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[6]=w=H&65535|q<<16,h[6]=D=F&65535|M<<16,S=A,m=$,F=m&65535,M=m>>>16,H=S&65535,q=S>>>16,S=f[7],m=h[7],F+=m&65535,M+=m>>>16,H+=S&65535,q+=S>>>16,M+=F>>>16,H+=M>>>16,q+=H>>>16,f[7]=A=H&65535|q<<16,h[7]=$=F&65535|M<<16,y+=128,g-=128}return y}function s(o){var d=new n;d.update(o);var f=d.digest();return d.clean(),f}e.hash=s})(G0);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.convertSecretKeyToX25519=e.convertPublicKeyToX25519=e.verify=e.sign=e.extractPublicKeyFromSecretKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.SEED_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=e.SIGNATURE_LENGTH=void 0;const t=ra,r=G0,n=Ht;e.SIGNATURE_LENGTH=64,e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=64,e.SEED_LENGTH=32;function a(B){const j=new Float64Array(16);if(B)for(let P=0;P<B.length;P++)j[P]=B[P];return j}const i=new Uint8Array(32);i[0]=9;const s=a(),o=a([1]),d=a([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=a([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=a([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),p=a([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=a([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function g(B,j){for(let P=0;P<16;P++)B[P]=j[P]|0}function I(B){let j=1;for(let P=0;P<16;P++){let l=B[P]+j+65535;j=Math.floor(l/65536),B[P]=l-j*65536}B[0]+=j-1+37*(j-1)}function O(B,j,P){const l=~(P-1);for(let k=0;k<16;k++){const G=l&(B[k]^j[k]);B[k]^=G,j[k]^=G}}function T(B,j){const P=a(),l=a();for(let k=0;k<16;k++)l[k]=j[k];I(l),I(l),I(l);for(let k=0;k<2;k++){P[0]=l[0]-65517;for(let Z=1;Z<15;Z++)P[Z]=l[Z]-65535-(P[Z-1]>>16&1),P[Z-1]&=65535;P[15]=l[15]-32767-(P[14]>>16&1);const G=P[15]>>16&1;P[14]&=65535,O(l,P,1-G)}for(let k=0;k<16;k++)B[2*k]=l[k]&255,B[2*k+1]=l[k]>>8}function C(B,j){let P=0;for(let l=0;l<32;l++)P|=B[l]^j[l];return(1&P-1>>>8)-1}function _(B,j){const P=new Uint8Array(32),l=new Uint8Array(32);return T(P,B),T(l,j),C(P,l)}function v(B){const j=new Uint8Array(32);return T(j,B),j[0]&1}function w(B,j){for(let P=0;P<16;P++)B[P]=j[2*P]+(j[2*P+1]<<8);B[15]&=32767}function A(B,j,P){for(let l=0;l<16;l++)B[l]=j[l]+P[l]}function b(B,j,P){for(let l=0;l<16;l++)B[l]=j[l]-P[l]}function c(B,j,P){let l,k,G=0,Z=0,oe=0,pe=0,he=0,Oe=0,Fe=0,Me=0,_e=0,ye=0,ge=0,ue=0,le=0,fe=0,ce=0,ae=0,be=0,me=0,ie=0,ve=0,Ie=0,Te=0,Ne=0,xe=0,Xt=0,nr=0,Rr=0,Dt=0,tn=0,la=0,wi=0,qe=P[0],Be=P[1],Ve=P[2],Ke=P[3],Ge=P[4],je=P[5],tt=P[6],rt=P[7],nt=P[8],at=P[9],it=P[10],Xe=P[11],We=P[12],Le=P[13],st=P[14],ot=P[15];l=j[0],G+=l*qe,Z+=l*Be,oe+=l*Ve,pe+=l*Ke,he+=l*Ge,Oe+=l*je,Fe+=l*tt,Me+=l*rt,_e+=l*nt,ye+=l*at,ge+=l*it,ue+=l*Xe,le+=l*We,fe+=l*Le,ce+=l*st,ae+=l*ot,l=j[1],Z+=l*qe,oe+=l*Be,pe+=l*Ve,he+=l*Ke,Oe+=l*Ge,Fe+=l*je,Me+=l*tt,_e+=l*rt,ye+=l*nt,ge+=l*at,ue+=l*it,le+=l*Xe,fe+=l*We,ce+=l*Le,ae+=l*st,be+=l*ot,l=j[2],oe+=l*qe,pe+=l*Be,he+=l*Ve,Oe+=l*Ke,Fe+=l*Ge,Me+=l*je,_e+=l*tt,ye+=l*rt,ge+=l*nt,ue+=l*at,le+=l*it,fe+=l*Xe,ce+=l*We,ae+=l*Le,be+=l*st,me+=l*ot,l=j[3],pe+=l*qe,he+=l*Be,Oe+=l*Ve,Fe+=l*Ke,Me+=l*Ge,_e+=l*je,ye+=l*tt,ge+=l*rt,ue+=l*nt,le+=l*at,fe+=l*it,ce+=l*Xe,ae+=l*We,be+=l*Le,me+=l*st,ie+=l*ot,l=j[4],he+=l*qe,Oe+=l*Be,Fe+=l*Ve,Me+=l*Ke,_e+=l*Ge,ye+=l*je,ge+=l*tt,ue+=l*rt,le+=l*nt,fe+=l*at,ce+=l*it,ae+=l*Xe,be+=l*We,me+=l*Le,ie+=l*st,ve+=l*ot,l=j[5],Oe+=l*qe,Fe+=l*Be,Me+=l*Ve,_e+=l*Ke,ye+=l*Ge,ge+=l*je,ue+=l*tt,le+=l*rt,fe+=l*nt,ce+=l*at,ae+=l*it,be+=l*Xe,me+=l*We,ie+=l*Le,ve+=l*st,Ie+=l*ot,l=j[6],Fe+=l*qe,Me+=l*Be,_e+=l*Ve,ye+=l*Ke,ge+=l*Ge,ue+=l*je,le+=l*tt,fe+=l*rt,ce+=l*nt,ae+=l*at,be+=l*it,me+=l*Xe,ie+=l*We,ve+=l*Le,Ie+=l*st,Te+=l*ot,l=j[7],Me+=l*qe,_e+=l*Be,ye+=l*Ve,ge+=l*Ke,ue+=l*Ge,le+=l*je,fe+=l*tt,ce+=l*rt,ae+=l*nt,be+=l*at,me+=l*it,ie+=l*Xe,ve+=l*We,Ie+=l*Le,Te+=l*st,Ne+=l*ot,l=j[8],_e+=l*qe,ye+=l*Be,ge+=l*Ve,ue+=l*Ke,le+=l*Ge,fe+=l*je,ce+=l*tt,ae+=l*rt,be+=l*nt,me+=l*at,ie+=l*it,ve+=l*Xe,Ie+=l*We,Te+=l*Le,Ne+=l*st,xe+=l*ot,l=j[9],ye+=l*qe,ge+=l*Be,ue+=l*Ve,le+=l*Ke,fe+=l*Ge,ce+=l*je,ae+=l*tt,be+=l*rt,me+=l*nt,ie+=l*at,ve+=l*it,Ie+=l*Xe,Te+=l*We,Ne+=l*Le,xe+=l*st,Xt+=l*ot,l=j[10],ge+=l*qe,ue+=l*Be,le+=l*Ve,fe+=l*Ke,ce+=l*Ge,ae+=l*je,be+=l*tt,me+=l*rt,ie+=l*nt,ve+=l*at,Ie+=l*it,Te+=l*Xe,Ne+=l*We,xe+=l*Le,Xt+=l*st,nr+=l*ot,l=j[11],ue+=l*qe,le+=l*Be,fe+=l*Ve,ce+=l*Ke,ae+=l*Ge,be+=l*je,me+=l*tt,ie+=l*rt,ve+=l*nt,Ie+=l*at,Te+=l*it,Ne+=l*Xe,xe+=l*We,Xt+=l*Le,nr+=l*st,Rr+=l*ot,l=j[12],le+=l*qe,fe+=l*Be,ce+=l*Ve,ae+=l*Ke,be+=l*Ge,me+=l*je,ie+=l*tt,ve+=l*rt,Ie+=l*nt,Te+=l*at,Ne+=l*it,xe+=l*Xe,Xt+=l*We,nr+=l*Le,Rr+=l*st,Dt+=l*ot,l=j[13],fe+=l*qe,ce+=l*Be,ae+=l*Ve,be+=l*Ke,me+=l*Ge,ie+=l*je,ve+=l*tt,Ie+=l*rt,Te+=l*nt,Ne+=l*at,xe+=l*it,Xt+=l*Xe,nr+=l*We,Rr+=l*Le,Dt+=l*st,tn+=l*ot,l=j[14],ce+=l*qe,ae+=l*Be,be+=l*Ve,me+=l*Ke,ie+=l*Ge,ve+=l*je,Ie+=l*tt,Te+=l*rt,Ne+=l*nt,xe+=l*at,Xt+=l*it,nr+=l*Xe,Rr+=l*We,Dt+=l*Le,tn+=l*st,la+=l*ot,l=j[15],ae+=l*qe,be+=l*Be,me+=l*Ve,ie+=l*Ke,ve+=l*Ge,Ie+=l*je,Te+=l*tt,Ne+=l*rt,xe+=l*nt,Xt+=l*at,nr+=l*it,Rr+=l*Xe,Dt+=l*We,tn+=l*Le,la+=l*st,wi+=l*ot,G+=38*be,Z+=38*me,oe+=38*ie,pe+=38*ve,he+=38*Ie,Oe+=38*Te,Fe+=38*Ne,Me+=38*xe,_e+=38*Xt,ye+=38*nr,ge+=38*Rr,ue+=38*Dt,le+=38*tn,fe+=38*la,ce+=38*wi,k=1,l=G+k+65535,k=Math.floor(l/65536),G=l-k*65536,l=Z+k+65535,k=Math.floor(l/65536),Z=l-k*65536,l=oe+k+65535,k=Math.floor(l/65536),oe=l-k*65536,l=pe+k+65535,k=Math.floor(l/65536),pe=l-k*65536,l=he+k+65535,k=Math.floor(l/65536),he=l-k*65536,l=Oe+k+65535,k=Math.floor(l/65536),Oe=l-k*65536,l=Fe+k+65535,k=Math.floor(l/65536),Fe=l-k*65536,l=Me+k+65535,k=Math.floor(l/65536),Me=l-k*65536,l=_e+k+65535,k=Math.floor(l/65536),_e=l-k*65536,l=ye+k+65535,k=Math.floor(l/65536),ye=l-k*65536,l=ge+k+65535,k=Math.floor(l/65536),ge=l-k*65536,l=ue+k+65535,k=Math.floor(l/65536),ue=l-k*65536,l=le+k+65535,k=Math.floor(l/65536),le=l-k*65536,l=fe+k+65535,k=Math.floor(l/65536),fe=l-k*65536,l=ce+k+65535,k=Math.floor(l/65536),ce=l-k*65536,l=ae+k+65535,k=Math.floor(l/65536),ae=l-k*65536,G+=k-1+37*(k-1),k=1,l=G+k+65535,k=Math.floor(l/65536),G=l-k*65536,l=Z+k+65535,k=Math.floor(l/65536),Z=l-k*65536,l=oe+k+65535,k=Math.floor(l/65536),oe=l-k*65536,l=pe+k+65535,k=Math.floor(l/65536),pe=l-k*65536,l=he+k+65535,k=Math.floor(l/65536),he=l-k*65536,l=Oe+k+65535,k=Math.floor(l/65536),Oe=l-k*65536,l=Fe+k+65535,k=Math.floor(l/65536),Fe=l-k*65536,l=Me+k+65535,k=Math.floor(l/65536),Me=l-k*65536,l=_e+k+65535,k=Math.floor(l/65536),_e=l-k*65536,l=ye+k+65535,k=Math.floor(l/65536),ye=l-k*65536,l=ge+k+65535,k=Math.floor(l/65536),ge=l-k*65536,l=ue+k+65535,k=Math.floor(l/65536),ue=l-k*65536,l=le+k+65535,k=Math.floor(l/65536),le=l-k*65536,l=fe+k+65535,k=Math.floor(l/65536),fe=l-k*65536,l=ce+k+65535,k=Math.floor(l/65536),ce=l-k*65536,l=ae+k+65535,k=Math.floor(l/65536),ae=l-k*65536,G+=k-1+37*(k-1),B[0]=G,B[1]=Z,B[2]=oe,B[3]=pe,B[4]=he,B[5]=Oe,B[6]=Fe,B[7]=Me,B[8]=_e,B[9]=ye,B[10]=ge,B[11]=ue,B[12]=le,B[13]=fe,B[14]=ce,B[15]=ae}function u(B,j){c(B,j,j)}function R(B,j){const P=a();let l;for(l=0;l<16;l++)P[l]=j[l];for(l=253;l>=0;l--)u(P,P),l!==2&&l!==4&&c(P,P,j);for(l=0;l<16;l++)B[l]=P[l]}function E(B,j){const P=a();let l;for(l=0;l<16;l++)P[l]=j[l];for(l=250;l>=0;l--)u(P,P),l!==1&&c(P,P,j);for(l=0;l<16;l++)B[l]=P[l]}function N(B,j){const P=a(),l=a(),k=a(),G=a(),Z=a(),oe=a(),pe=a(),he=a(),Oe=a();b(P,B[1],B[0]),b(Oe,j[1],j[0]),c(P,P,Oe),A(l,B[0],B[1]),A(Oe,j[0],j[1]),c(l,l,Oe),c(k,B[3],j[3]),c(k,k,f),c(G,B[2],j[2]),A(G,G,G),b(Z,l,P),b(oe,G,k),A(pe,G,k),A(he,l,P),c(B[0],Z,oe),c(B[1],he,pe),c(B[2],pe,oe),c(B[3],Z,he)}function D(B,j,P){for(let l=0;l<4;l++)O(B[l],j[l],P)}function $(B,j){const P=a(),l=a(),k=a();R(k,j[2]),c(P,j[0],k),c(l,j[1],k),T(B,l),B[31]^=v(P)<<7}function S(B,j,P){g(B[0],s),g(B[1],o),g(B[2],o),g(B[3],s);for(let l=255;l>=0;--l){const k=P[l/8|0]>>(l&7)&1;D(B,j,k),N(j,B),N(B,B),D(B,j,k)}}function m(B,j){const P=[a(),a(),a(),a()];g(P[0],h),g(P[1],p),g(P[2],o),c(P[3],h,p),S(B,P,j)}function L(B){if(B.length!==e.SEED_LENGTH)throw new Error(`ed25519: seed must be ${e.SEED_LENGTH} bytes`);const j=(0,r.hash)(B);j[0]&=248,j[31]&=127,j[31]|=64;const P=new Uint8Array(32),l=[a(),a(),a(),a()];m(l,j),$(P,l);const k=new Uint8Array(64);return k.set(B),k.set(P,32),{publicKey:P,secretKey:k}}e.generateKeyPairFromSeed=L;function z(B){const j=(0,t.randomBytes)(32,B),P=L(j);return(0,n.wipe)(j),P}e.generateKeyPair=z;function F(B){if(B.length!==e.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${e.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(B.subarray(32))}e.extractPublicKeyFromSecretKey=F;const M=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function H(B,j){let P,l,k,G;for(l=63;l>=32;--l){for(P=0,k=l-32,G=l-12;k<G;++k)j[k]+=P-16*j[l]*M[k-(l-32)],P=Math.floor((j[k]+128)/256),j[k]-=P*256;j[k]+=P,j[l]=0}for(P=0,k=0;k<32;k++)j[k]+=P-(j[31]>>4)*M[k],P=j[k]>>8,j[k]&=255;for(k=0;k<32;k++)j[k]-=P*M[k];for(l=0;l<32;l++)j[l+1]+=j[l]>>8,B[l]=j[l]&255}function q(B){const j=new Float64Array(64);for(let P=0;P<64;P++)j[P]=B[P];for(let P=0;P<64;P++)B[P]=0;H(B,j)}function W(B,j){const P=new Float64Array(64),l=[a(),a(),a(),a()],k=(0,r.hash)(B.subarray(0,32));k[0]&=248,k[31]&=127,k[31]|=64;const G=new Uint8Array(64);G.set(k.subarray(32),32);const Z=new r.SHA512;Z.update(G.subarray(32)),Z.update(j);const oe=Z.digest();Z.clean(),q(oe),m(l,oe),$(G,l),Z.reset(),Z.update(G.subarray(0,32)),Z.update(B.subarray(32)),Z.update(j);const pe=Z.digest();q(pe);for(let he=0;he<32;he++)P[he]=oe[he];for(let he=0;he<32;he++)for(let Oe=0;Oe<32;Oe++)P[he+Oe]+=pe[he]*k[Oe];return H(G.subarray(32),P),G}e.sign=W;function K(B,j){const P=a(),l=a(),k=a(),G=a(),Z=a(),oe=a(),pe=a();return g(B[2],o),w(B[1],j),u(k,B[1]),c(G,k,d),b(k,k,B[2]),A(G,B[2],G),u(Z,G),u(oe,Z),c(pe,oe,Z),c(P,pe,k),c(P,P,G),E(P,P),c(P,P,k),c(P,P,G),c(P,P,G),c(B[0],P,G),u(l,B[0]),c(l,l,G),_(l,k)&&c(B[0],B[0],y),u(l,B[0]),c(l,l,G),_(l,k)?-1:(v(B[0])===j[31]>>7&&b(B[0],s,B[0]),c(B[3],B[0],B[1]),0)}function Q(B,j,P){const l=new Uint8Array(32),k=[a(),a(),a(),a()],G=[a(),a(),a(),a()];if(P.length!==e.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${e.SIGNATURE_LENGTH} bytes`);if(K(G,B))return!1;const Z=new r.SHA512;Z.update(P.subarray(0,32)),Z.update(B),Z.update(j);const oe=Z.digest();return q(oe),S(k,G,oe),m(G,P.subarray(32)),N(k,G),$(l,k),!C(P,l)}e.verify=Q;function Y(B){let j=[a(),a(),a(),a()];if(K(j,B))throw new Error("Ed25519: invalid public key");let P=a(),l=a(),k=j[1];A(P,o,k),b(l,o,k),R(l,l),c(P,P,l);let G=new Uint8Array(32);return T(G,P),G}e.convertPublicKeyToX25519=Y;function te(B){const j=(0,r.hash)(B.subarray(0,32));j[0]&=248,j[31]&=127,j[31]|=64;const P=new Uint8Array(j.subarray(0,32));return(0,n.wipe)(j),P}e.convertSecretKeyToX25519=te})(uc);const Y5="EdDSA",Z5="JWT",W0=".",Y0="base64url",X5="utf8",J5="utf8",Q5=":",e6="did",t6="key",_f="base58btc",r6="z",n6="K36",a6=32;function bc(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Z0(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?bc(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Ao(e,t){t||(t=e.reduce((a,i)=>a+i.length,0));const r=Z0(t);let n=0;for(const a of e)r.set(a,n),n+=a.length;return bc(r)}function i6(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var a=0;a<e.length;a++){var i=e.charAt(a),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=a}var o=e.length,d=e.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var O=0,T=0,C=0,_=I.length;C!==_&&I[C]===0;)C++,O++;for(var v=(_-C)*h+1>>>0,w=new Uint8Array(v);C!==_;){for(var A=I[C],b=0,c=v-1;(A!==0||b<T)&&c!==-1;c--,b++)A+=256*w[c]>>>0,w[c]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");T=b,C++}for(var u=v-T;u!==v&&w[u]===0;)u++;for(var R=d.repeat(O);u<v;++u)R+=e.charAt(w[u]);return R}function y(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;var O=0;if(I[O]!==" "){for(var T=0,C=0;I[O]===d;)T++,O++;for(var _=(I.length-O)*f+1>>>0,v=new Uint8Array(_);I[O];){var w=r[I.charCodeAt(O)];if(w===255)return;for(var A=0,b=_-1;(w!==0||A<C)&&b!==-1;b--,A++)w+=o*v[b]>>>0,v[b]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");C=A,O++}if(I[O]!==" "){for(var c=_-C;c!==_&&v[c]===0;)c++;for(var u=new Uint8Array(T+(_-c)),R=T;c!==_;)u[R++]=v[c++];return u}}}function g(I){var O=y(I);if(O)return O;throw new Error(`Non-${t} character`)}return{encode:p,decodeUnsafe:y,decode:g}}var s6=i6,o6=s6;const c6=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},d6=e=>new TextEncoder().encode(e),f6=e=>new TextDecoder().decode(e);class h6{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class l6{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return X0(this,t)}}class u6{constructor(t){this.decoders=t}or(t){return X0(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const X0=(e,t)=>new u6({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class b6{constructor(t,r,n,a){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=a,this.encoder=new h6(t,r,n),this.decoder=new l6(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const us=({name:e,prefix:t,encode:r,decode:n})=>new b6(e,t,r,n),ti=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:a}=o6(r,t);return us({prefix:e,name:t,encode:n,decode:i=>c6(a(i))})},p6=(e,t,r,n)=>{const a={};for(let h=0;h<t.length;++h)a[t[h]]=h;let i=e.length;for(;e[i-1]==="=";)--i;const s=new Uint8Array(i*r/8|0);let o=0,d=0,f=0;for(let h=0;h<i;++h){const p=a[e[h]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);d=d<<r|p,o+=r,o>=8&&(o-=8,s[f++]=255&d>>o)}if(o>=r||255&d<<8-o)throw new SyntaxError("Unexpected end of data");return s},g6=(e,t,r)=>{const n=t[t.length-1]==="=",a=(1<<r)-1;let i="",s=0,o=0;for(let d=0;d<e.length;++d)for(o=o<<8|e[d],s+=8;s>r;)s-=r,i+=t[a&o>>s];if(s&&(i+=t[a&o<<r-s]),n)for(;i.length*r&7;)i+="=";return i},gt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>us({prefix:t,name:e,encode(a){return g6(a,n,r)},decode(a){return p6(a,n,r,e)}}),y6=us({prefix:"\0",name:"identity",encode:e=>f6(e),decode:e=>d6(e)}),m6=Object.freeze(Object.defineProperty({__proto__:null,identity:y6},Symbol.toStringTag,{value:"Module"})),w6=gt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),_6=Object.freeze(Object.defineProperty({__proto__:null,base2:w6},Symbol.toStringTag,{value:"Module"})),v6=gt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),E6=Object.freeze(Object.defineProperty({__proto__:null,base8:v6},Symbol.toStringTag,{value:"Module"})),S6=ti({prefix:"9",name:"base10",alphabet:"0123456789"}),I6=Object.freeze(Object.defineProperty({__proto__:null,base10:S6},Symbol.toStringTag,{value:"Module"})),O6=gt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),x6=gt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),A6=Object.freeze(Object.defineProperty({__proto__:null,base16:O6,base16upper:x6},Symbol.toStringTag,{value:"Module"})),T6=gt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),N6=gt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),k6=gt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),C6=gt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),R6=gt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),P6=gt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),L6=gt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),U6=gt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),D6=gt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),M6=Object.freeze(Object.defineProperty({__proto__:null,base32:T6,base32hex:R6,base32hexpad:L6,base32hexpadupper:U6,base32hexupper:P6,base32pad:k6,base32padupper:C6,base32upper:N6,base32z:D6},Symbol.toStringTag,{value:"Module"})),B6=ti({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),j6=ti({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),z6=Object.freeze(Object.defineProperty({__proto__:null,base36:B6,base36upper:j6},Symbol.toStringTag,{value:"Module"})),$6=ti({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),F6=ti({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),H6=Object.freeze(Object.defineProperty({__proto__:null,base58btc:$6,base58flickr:F6},Symbol.toStringTag,{value:"Module"})),q6=gt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),V6=gt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),K6=gt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),G6=gt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),W6=Object.freeze(Object.defineProperty({__proto__:null,base64:q6,base64pad:V6,base64url:K6,base64urlpad:G6},Symbol.toStringTag,{value:"Module"})),J0=Array.from(""),Y6=J0.reduce((e,t,r)=>(e[r]=t,e),[]),Z6=J0.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function X6(e){return e.reduce((t,r)=>(t+=Y6[r],t),"")}function J6(e){const t=[];for(const r of e){const n=Z6[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Q6=us({prefix:"",name:"base256emoji",encode:X6,decode:J6}),e3=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Q6},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const vf={...m6,..._6,...E6,...I6,...A6,...M6,...z6,...H6,...W6,...e3};function Q0(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const Ef=Q0("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Fs=Q0("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Z0(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),el={utf8:Ef,"utf-8":Ef,hex:vf.base16,latin1:Fs,ascii:Fs,binary:Fs,...vf};function Nt(e,t="utf8"){const r=el[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Rt(e,t="utf8"){const r=el[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?bc(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function Gi(e){return Nt(Rt(lc(e),X5),Y0)}function tl(e){const t=Rt(n6,_f),r=r6+Nt(Ao([t,e]),_f);return[e6,t6,r].join(Q5)}function t3(e){return Nt(e,Y0)}function r3(e){return Rt([Gi(e.header),Gi(e.payload)].join(W0),J5)}function n3(e){return[Gi(e.header),Gi(e.payload),t3(e.signature)].join(W0)}function Sf(e=ra.randomBytes(a6)){return uc.generateKeyPairFromSeed(e)}async function a3(e,t,r,n,a=re.fromMiliseconds(Date.now())){const i={alg:Y5,typ:Z5},s=tl(n.publicKey),o=a+r,d={iss:s,sub:e,aud:t,iat:a,exp:o},f=r3({header:i,payload:d}),h=uc.sign(n.secretKey,f);return n3({header:i,payload:d,signature:h})}var pc={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});var wt=se,To=Ht,i3=20;function s3(e,t,r){for(var n=1634760805,a=857760878,i=2036477234,s=1797285236,o=r[3]<<24|r[2]<<16|r[1]<<8|r[0],d=r[7]<<24|r[6]<<16|r[5]<<8|r[4],f=r[11]<<24|r[10]<<16|r[9]<<8|r[8],h=r[15]<<24|r[14]<<16|r[13]<<8|r[12],p=r[19]<<24|r[18]<<16|r[17]<<8|r[16],y=r[23]<<24|r[22]<<16|r[21]<<8|r[20],g=r[27]<<24|r[26]<<16|r[25]<<8|r[24],I=r[31]<<24|r[30]<<16|r[29]<<8|r[28],O=t[3]<<24|t[2]<<16|t[1]<<8|t[0],T=t[7]<<24|t[6]<<16|t[5]<<8|t[4],C=t[11]<<24|t[10]<<16|t[9]<<8|t[8],_=t[15]<<24|t[14]<<16|t[13]<<8|t[12],v=n,w=a,A=i,b=s,c=o,u=d,R=f,E=h,N=p,D=y,$=g,S=I,m=O,L=T,z=C,F=_,M=0;M<i3;M+=2)v=v+c|0,m^=v,m=m>>>32-16|m<<16,N=N+m|0,c^=N,c=c>>>32-12|c<<12,w=w+u|0,L^=w,L=L>>>32-16|L<<16,D=D+L|0,u^=D,u=u>>>32-12|u<<12,A=A+R|0,z^=A,z=z>>>32-16|z<<16,$=$+z|0,R^=$,R=R>>>32-12|R<<12,b=b+E|0,F^=b,F=F>>>32-16|F<<16,S=S+F|0,E^=S,E=E>>>32-12|E<<12,A=A+R|0,z^=A,z=z>>>32-8|z<<8,$=$+z|0,R^=$,R=R>>>32-7|R<<7,b=b+E|0,F^=b,F=F>>>32-8|F<<8,S=S+F|0,E^=S,E=E>>>32-7|E<<7,w=w+u|0,L^=w,L=L>>>32-8|L<<8,D=D+L|0,u^=D,u=u>>>32-7|u<<7,v=v+c|0,m^=v,m=m>>>32-8|m<<8,N=N+m|0,c^=N,c=c>>>32-7|c<<7,v=v+u|0,F^=v,F=F>>>32-16|F<<16,$=$+F|0,u^=$,u=u>>>32-12|u<<12,w=w+R|0,m^=w,m=m>>>32-16|m<<16,S=S+m|0,R^=S,R=R>>>32-12|R<<12,A=A+E|0,L^=A,L=L>>>32-16|L<<16,N=N+L|0,E^=N,E=E>>>32-12|E<<12,b=b+c|0,z^=b,z=z>>>32-16|z<<16,D=D+z|0,c^=D,c=c>>>32-12|c<<12,A=A+E|0,L^=A,L=L>>>32-8|L<<8,N=N+L|0,E^=N,E=E>>>32-7|E<<7,b=b+c|0,z^=b,z=z>>>32-8|z<<8,D=D+z|0,c^=D,c=c>>>32-7|c<<7,w=w+R|0,m^=w,m=m>>>32-8|m<<8,S=S+m|0,R^=S,R=R>>>32-7|R<<7,v=v+u|0,F^=v,F=F>>>32-8|F<<8,$=$+F|0,u^=$,u=u>>>32-7|u<<7;wt.writeUint32LE(v+n|0,e,0),wt.writeUint32LE(w+a|0,e,4),wt.writeUint32LE(A+i|0,e,8),wt.writeUint32LE(b+s|0,e,12),wt.writeUint32LE(c+o|0,e,16),wt.writeUint32LE(u+d|0,e,20),wt.writeUint32LE(R+f|0,e,24),wt.writeUint32LE(E+h|0,e,28),wt.writeUint32LE(N+p|0,e,32),wt.writeUint32LE(D+y|0,e,36),wt.writeUint32LE($+g|0,e,40),wt.writeUint32LE(S+I|0,e,44),wt.writeUint32LE(m+O|0,e,48),wt.writeUint32LE(L+T|0,e,52),wt.writeUint32LE(z+C|0,e,56),wt.writeUint32LE(F+_|0,e,60)}function rl(e,t,r,n,a){if(a===void 0&&(a=0),e.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var i,s;if(a===0){if(t.length!==8&&t.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");i=new Uint8Array(16),s=i.length-t.length,i.set(t,s)}else{if(t.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");i=t,s=a}for(var o=new Uint8Array(64),d=0;d<r.length;d+=64){s3(o,i,e);for(var f=d;f<d+64&&f<r.length;f++)n[f]=r[f]^o[f-d];c3(i,0,s)}return To.wipe(o),a===0&&To.wipe(i),n}bs.streamXOR=rl;function o3(e,t,r,n){return n===void 0&&(n=0),To.wipe(r),rl(e,t,r,r,n)}bs.stream=o3;function c3(e,t,r){for(var n=1;r--;)n=n+(e[t]&255)|0,e[t]=n&255,n>>>=8,t++;if(n>0)throw new Error("ChaCha: counter overflow")}var nl={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});function d3(e,t,r){return~(e-1)&t|e-1&r}Jr.select=d3;function f3(e,t){return(e|0)-(t|0)-1>>>31&1}Jr.lessOrEqual=f3;function al(e,t){if(e.length!==t.length)return 0;for(var r=0,n=0;n<e.length;n++)r|=e[n]^t[n];return 1&r-1>>>8}Jr.compare=al;function h3(e,t){return e.length===0||t.length===0?!1:al(e,t)!==0}Jr.equal=h3;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=Jr,r=Ht;e.DIGEST_LENGTH=16;var n=function(){function s(o){this.digestLength=e.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var d=o[0]|o[1]<<8;this._r[0]=d&8191;var f=o[2]|o[3]<<8;this._r[1]=(d>>>13|f<<3)&8191;var h=o[4]|o[5]<<8;this._r[2]=(f>>>10|h<<6)&7939;var p=o[6]|o[7]<<8;this._r[3]=(h>>>7|p<<9)&8191;var y=o[8]|o[9]<<8;this._r[4]=(p>>>4|y<<12)&255,this._r[5]=y>>>1&8190;var g=o[10]|o[11]<<8;this._r[6]=(y>>>14|g<<2)&8191;var I=o[12]|o[13]<<8;this._r[7]=(g>>>11|I<<5)&8065;var O=o[14]|o[15]<<8;this._r[8]=(I>>>8|O<<8)&8191,this._r[9]=O>>>5&127,this._pad[0]=o[16]|o[17]<<8,this._pad[1]=o[18]|o[19]<<8,this._pad[2]=o[20]|o[21]<<8,this._pad[3]=o[22]|o[23]<<8,this._pad[4]=o[24]|o[25]<<8,this._pad[5]=o[26]|o[27]<<8,this._pad[6]=o[28]|o[29]<<8,this._pad[7]=o[30]|o[31]<<8}return s.prototype._blocks=function(o,d,f){for(var h=this._fin?0:2048,p=this._h[0],y=this._h[1],g=this._h[2],I=this._h[3],O=this._h[4],T=this._h[5],C=this._h[6],_=this._h[7],v=this._h[8],w=this._h[9],A=this._r[0],b=this._r[1],c=this._r[2],u=this._r[3],R=this._r[4],E=this._r[5],N=this._r[6],D=this._r[7],$=this._r[8],S=this._r[9];f>=16;){var m=o[d+0]|o[d+1]<<8;p+=m&8191;var L=o[d+2]|o[d+3]<<8;y+=(m>>>13|L<<3)&8191;var z=o[d+4]|o[d+5]<<8;g+=(L>>>10|z<<6)&8191;var F=o[d+6]|o[d+7]<<8;I+=(z>>>7|F<<9)&8191;var M=o[d+8]|o[d+9]<<8;O+=(F>>>4|M<<12)&8191,T+=M>>>1&8191;var H=o[d+10]|o[d+11]<<8;C+=(M>>>14|H<<2)&8191;var q=o[d+12]|o[d+13]<<8;_+=(H>>>11|q<<5)&8191;var W=o[d+14]|o[d+15]<<8;v+=(q>>>8|W<<8)&8191,w+=W>>>5|h;var K=0,Q=K;Q+=p*A,Q+=y*(5*S),Q+=g*(5*$),Q+=I*(5*D),Q+=O*(5*N),K=Q>>>13,Q&=8191,Q+=T*(5*E),Q+=C*(5*R),Q+=_*(5*u),Q+=v*(5*c),Q+=w*(5*b),K+=Q>>>13,Q&=8191;var Y=K;Y+=p*b,Y+=y*A,Y+=g*(5*S),Y+=I*(5*$),Y+=O*(5*D),K=Y>>>13,Y&=8191,Y+=T*(5*N),Y+=C*(5*E),Y+=_*(5*R),Y+=v*(5*u),Y+=w*(5*c),K+=Y>>>13,Y&=8191;var te=K;te+=p*c,te+=y*b,te+=g*A,te+=I*(5*S),te+=O*(5*$),K=te>>>13,te&=8191,te+=T*(5*D),te+=C*(5*N),te+=_*(5*E),te+=v*(5*R),te+=w*(5*u),K+=te>>>13,te&=8191;var B=K;B+=p*u,B+=y*c,B+=g*b,B+=I*A,B+=O*(5*S),K=B>>>13,B&=8191,B+=T*(5*$),B+=C*(5*D),B+=_*(5*N),B+=v*(5*E),B+=w*(5*R),K+=B>>>13,B&=8191;var j=K;j+=p*R,j+=y*u,j+=g*c,j+=I*b,j+=O*A,K=j>>>13,j&=8191,j+=T*(5*S),j+=C*(5*$),j+=_*(5*D),j+=v*(5*N),j+=w*(5*E),K+=j>>>13,j&=8191;var P=K;P+=p*E,P+=y*R,P+=g*u,P+=I*c,P+=O*b,K=P>>>13,P&=8191,P+=T*A,P+=C*(5*S),P+=_*(5*$),P+=v*(5*D),P+=w*(5*N),K+=P>>>13,P&=8191;var l=K;l+=p*N,l+=y*E,l+=g*R,l+=I*u,l+=O*c,K=l>>>13,l&=8191,l+=T*b,l+=C*A,l+=_*(5*S),l+=v*(5*$),l+=w*(5*D),K+=l>>>13,l&=8191;var k=K;k+=p*D,k+=y*N,k+=g*E,k+=I*R,k+=O*u,K=k>>>13,k&=8191,k+=T*c,k+=C*b,k+=_*A,k+=v*(5*S),k+=w*(5*$),K+=k>>>13,k&=8191;var G=K;G+=p*$,G+=y*D,G+=g*N,G+=I*E,G+=O*R,K=G>>>13,G&=8191,G+=T*u,G+=C*c,G+=_*b,G+=v*A,G+=w*(5*S),K+=G>>>13,G&=8191;var Z=K;Z+=p*S,Z+=y*$,Z+=g*D,Z+=I*N,Z+=O*E,K=Z>>>13,Z&=8191,Z+=T*R,Z+=C*u,Z+=_*c,Z+=v*b,Z+=w*A,K+=Z>>>13,Z&=8191,K=(K<<2)+K|0,K=K+Q|0,Q=K&8191,K=K>>>13,Y+=K,p=Q,y=Y,g=te,I=B,O=j,T=P,C=l,_=k,v=G,w=Z,d+=16,f-=16}this._h[0]=p,this._h[1]=y,this._h[2]=g,this._h[3]=I,this._h[4]=O,this._h[5]=T,this._h[6]=C,this._h[7]=_,this._h[8]=v,this._h[9]=w},s.prototype.finish=function(o,d){d===void 0&&(d=0);var f=new Uint16Array(10),h,p,y,g;if(this._leftover){for(g=this._leftover,this._buffer[g++]=1;g<16;g++)this._buffer[g]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(h=this._h[1]>>>13,this._h[1]&=8191,g=2;g<10;g++)this._h[g]+=h,h=this._h[g]>>>13,this._h[g]&=8191;for(this._h[0]+=h*5,h=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=h,h=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=h,f[0]=this._h[0]+5,h=f[0]>>>13,f[0]&=8191,g=1;g<10;g++)f[g]=this._h[g]+h,h=f[g]>>>13,f[g]&=8191;for(f[9]-=8192,p=(h^1)-1,g=0;g<10;g++)f[g]&=p;for(p=~p,g=0;g<10;g++)this._h[g]=this._h[g]&p|f[g];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,y=this._h[0]+this._pad[0],this._h[0]=y&65535,g=1;g<8;g++)y=(this._h[g]+this._pad[g]|0)+(y>>>16)|0,this._h[g]=y&65535;return o[d+0]=this._h[0]>>>0,o[d+1]=this._h[0]>>>8,o[d+2]=this._h[1]>>>0,o[d+3]=this._h[1]>>>8,o[d+4]=this._h[2]>>>0,o[d+5]=this._h[2]>>>8,o[d+6]=this._h[3]>>>0,o[d+7]=this._h[3]>>>8,o[d+8]=this._h[4]>>>0,o[d+9]=this._h[4]>>>8,o[d+10]=this._h[5]>>>0,o[d+11]=this._h[5]>>>8,o[d+12]=this._h[6]>>>0,o[d+13]=this._h[6]>>>8,o[d+14]=this._h[7]>>>0,o[d+15]=this._h[7]>>>8,this._finished=!0,this},s.prototype.update=function(o){var d=0,f=o.length,h;if(this._leftover){h=16-this._leftover,h>f&&(h=f);for(var p=0;p<h;p++)this._buffer[this._leftover+p]=o[d+p];if(f-=h,d+=h,this._leftover+=h,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(f>=16&&(h=f-f%16,this._blocks(o,d,h),d+=h,f-=h),f){for(var p=0;p<f;p++)this._buffer[this._leftover+p]=o[d+p];this._leftover+=f}return this},s.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var o=new Uint8Array(16);return this.finish(o),o},s.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},s}();e.Poly1305=n;function a(s,o){var d=new n(s);d.update(o);var f=d.digest();return d.clean(),f}e.oneTimeAuth=a;function i(s,o){return s.length!==e.DIGEST_LENGTH||o.length!==e.DIGEST_LENGTH?!1:t.equal(s,o)}e.equal=i})(nl);(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=bs,r=nl,n=Ht,a=se,i=Jr;e.KEY_LENGTH=32,e.NONCE_LENGTH=12,e.TAG_LENGTH=16;var s=new Uint8Array(16),o=function(){function d(f){if(this.nonceLength=e.NONCE_LENGTH,this.tagLength=e.TAG_LENGTH,f.length!==e.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(f)}return d.prototype.seal=function(f,h,p,y){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var g=new Uint8Array(16);g.set(f,g.length-f.length);var I=new Uint8Array(32);t.stream(this._key,g,I,4);var O=h.length+this.tagLength,T;if(y){if(y.length!==O)throw new Error("ChaCha20Poly1305: incorrect destination length");T=y}else T=new Uint8Array(O);return t.streamXOR(this._key,g,h,T,4),this._authenticate(T.subarray(T.length-this.tagLength,T.length),I,T.subarray(0,T.length-this.tagLength),p),n.wipe(g),T},d.prototype.open=function(f,h,p,y){if(f.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(h.length<this.tagLength)return null;var g=new Uint8Array(16);g.set(f,g.length-f.length);var I=new Uint8Array(32);t.stream(this._key,g,I,4);var O=new Uint8Array(this.tagLength);if(this._authenticate(O,I,h.subarray(0,h.length-this.tagLength),p),!i.equal(O,h.subarray(h.length-this.tagLength,h.length)))return null;var T=h.length-this.tagLength,C;if(y){if(y.length!==T)throw new Error("ChaCha20Poly1305: incorrect destination length");C=y}else C=new Uint8Array(T);return t.streamXOR(this._key,g,h.subarray(0,h.length-this.tagLength),C,4),n.wipe(g),C},d.prototype.clean=function(){return n.wipe(this._key),this},d.prototype._authenticate=function(f,h,p,y){var g=new r.Poly1305(h);y&&(g.update(y),y.length%16>0&&g.update(s.subarray(y.length%16))),g.update(p),p.length%16>0&&g.update(s.subarray(p.length%16));var I=new Uint8Array(8);y&&a.writeUint64LE(y.length,I),g.update(I),a.writeUint64LE(p.length,I),g.update(I);for(var O=g.digest(),T=0;T<O.length;T++)f[T]=O[T];g.clean(),n.wipe(O),n.wipe(I)},d}();e.ChaCha20Poly1305=o})(pc);var il={},ri={},gc={};Object.defineProperty(gc,"__esModule",{value:!0});function l3(e){return typeof e.saveState<"u"&&typeof e.restoreState<"u"&&typeof e.cleanSavedState<"u"}gc.isSerializableHash=l3;Object.defineProperty(ri,"__esModule",{value:!0});var ar=gc,u3=Jr,b3=Ht,sl=function(){function e(t,r){this._finished=!1,this._inner=new t,this._outer=new t,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var a=0;a<n.length;a++)n[a]^=54;this._inner.update(n);for(var a=0;a<n.length;a++)n[a]^=106;this._outer.update(n),ar.isSerializableHash(this._inner)&&ar.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),b3.wipe(n)}return e.prototype.reset=function(){if(!ar.isSerializableHash(this._inner)||!ar.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.clean=function(){ar.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),ar.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},e.prototype.update=function(t){return this._inner.update(t),this},e.prototype.finish=function(t){return this._finished?(this._outer.finish(t),this):(this._inner.finish(t),this._outer.update(t.subarray(0,this.digestLength)).finish(t),this._finished=!0,this)},e.prototype.digest=function(){var t=new Uint8Array(this.digestLength);return this.finish(t),t},e.prototype.saveState=function(){if(!ar.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},e.prototype.restoreState=function(t){if(!ar.isSerializableHash(this._inner)||!ar.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(t),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},e.prototype.cleanSavedState=function(t){if(!ar.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(t)},e}();ri.HMAC=sl;function p3(e,t,r){var n=new sl(e,t);n.update(r);var a=n.digest();return n.clean(),a}ri.hmac=p3;ri.equal=u3.equal;Object.defineProperty(il,"__esModule",{value:!0});var If=ri,Of=Ht,g3=function(){function e(t,r,n,a){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=t,this._info=a;var i=If.hmac(this._hash,n,r);this._hmac=new If.HMAC(t,i),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return e.prototype._fillBuffer=function(){this._counter[0]++;var t=this._counter[0];if(t===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),t>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},e.prototype.expand=function(t){for(var r=new Uint8Array(t),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},e.prototype.clean=function(){this._hmac.clean(),Of.wipe(this._buffer),Of.wipe(this._counter),this._bufpos=0},e}(),y3=il.HKDF=g3,ps={};(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t=se,r=Ht;e.DIGEST_LENGTH=32,e.BLOCK_SIZE=64;var n=function(){function o(){this.digestLength=e.DIGEST_LENGTH,this.blockSize=e.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return o.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},o.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},o.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},o.prototype.update=function(d,f){if(f===void 0&&(f=d.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var h=0;if(this._bytesHashed+=f,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&f>0;)this._buffer[this._bufferLength++]=d[h++],f--;this._bufferLength===this.blockSize&&(i(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(f>=this.blockSize&&(h=i(this._temp,this._state,d,h,f),f%=this.blockSize);f>0;)this._buffer[this._bufferLength++]=d[h++],f--;return this},o.prototype.finish=function(d){if(!this._finished){var f=this._bytesHashed,h=this._bufferLength,p=f/536870912|0,y=f<<3,g=f%64<56?64:128;this._buffer[h]=128;for(var I=h+1;I<g-8;I++)this._buffer[I]=0;t.writeUint32BE(p,this._buffer,g-8),t.writeUint32BE(y,this._buffer,g-4),i(this._temp,this._state,this._buffer,0,g),this._finished=!0}for(var I=0;I<this.digestLength/4;I++)t.writeUint32BE(this._state[I],d,I*4);return this},o.prototype.digest=function(){var d=new Uint8Array(this.digestLength);return this.finish(d),d},o.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},o.prototype.restoreState=function(d){return this._state.set(d.state),this._bufferLength=d.bufferLength,d.buffer&&this._buffer.set(d.buffer),this._bytesHashed=d.bytesHashed,this._finished=!1,this},o.prototype.cleanSavedState=function(d){r.wipe(d.state),d.buffer&&r.wipe(d.buffer),d.bufferLength=0,d.bytesHashed=0},o}();e.SHA256=n;var a=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function i(o,d,f,h,p){for(;p>=64;){for(var y=d[0],g=d[1],I=d[2],O=d[3],T=d[4],C=d[5],_=d[6],v=d[7],w=0;w<16;w++){var A=h+w*4;o[w]=t.readUint32BE(f,A)}for(var w=16;w<64;w++){var b=o[w-2],c=(b>>>17|b<<32-17)^(b>>>19|b<<32-19)^b>>>10;b=o[w-15];var u=(b>>>7|b<<32-7)^(b>>>18|b<<32-18)^b>>>3;o[w]=(c+o[w-7]|0)+(u+o[w-16]|0)}for(var w=0;w<64;w++){var c=(((T>>>6|T<<26)^(T>>>11|T<<21)^(T>>>25|T<<7))+(T&C^~T&_)|0)+(v+(a[w]+o[w]|0)|0)|0,u=((y>>>2|y<<32-2)^(y>>>13|y<<32-13)^(y>>>22|y<<32-22))+(y&g^y&I^g&I)|0;v=_,_=C,C=T,T=O+c|0,O=I,I=g,g=y,y=c+u|0}d[0]+=y,d[1]+=g,d[2]+=I,d[3]+=O,d[4]+=T,d[5]+=C,d[6]+=_,d[7]+=v,h+=64,p-=64}return h}function s(o){var d=new n;d.update(o);var f=d.digest();return d.clean(),f}e.hash=s})(ps);var yc={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.sharedKey=e.generateKeyPair=e.generateKeyPairFromSeed=e.scalarMultBase=e.scalarMult=e.SHARED_KEY_LENGTH=e.SECRET_KEY_LENGTH=e.PUBLIC_KEY_LENGTH=void 0;const t=ra,r=Ht;e.PUBLIC_KEY_LENGTH=32,e.SECRET_KEY_LENGTH=32,e.SHARED_KEY_LENGTH=32;function n(w){const A=new Float64Array(16);if(w)for(let b=0;b<w.length;b++)A[b]=w[b];return A}const a=new Uint8Array(32);a[0]=9;const i=n([56129,1]);function s(w){let A=1;for(let b=0;b<16;b++){let c=w[b]+A+65535;A=Math.floor(c/65536),w[b]=c-A*65536}w[0]+=A-1+37*(A-1)}function o(w,A,b){const c=~(b-1);for(let u=0;u<16;u++){const R=c&(w[u]^A[u]);w[u]^=R,A[u]^=R}}function d(w,A){const b=n(),c=n();for(let u=0;u<16;u++)c[u]=A[u];s(c),s(c),s(c);for(let u=0;u<2;u++){b[0]=c[0]-65517;for(let E=1;E<15;E++)b[E]=c[E]-65535-(b[E-1]>>16&1),b[E-1]&=65535;b[15]=c[15]-32767-(b[14]>>16&1);const R=b[15]>>16&1;b[14]&=65535,o(c,b,1-R)}for(let u=0;u<16;u++)w[2*u]=c[u]&255,w[2*u+1]=c[u]>>8}function f(w,A){for(let b=0;b<16;b++)w[b]=A[2*b]+(A[2*b+1]<<8);w[15]&=32767}function h(w,A,b){for(let c=0;c<16;c++)w[c]=A[c]+b[c]}function p(w,A,b){for(let c=0;c<16;c++)w[c]=A[c]-b[c]}function y(w,A,b){let c,u,R=0,E=0,N=0,D=0,$=0,S=0,m=0,L=0,z=0,F=0,M=0,H=0,q=0,W=0,K=0,Q=0,Y=0,te=0,B=0,j=0,P=0,l=0,k=0,G=0,Z=0,oe=0,pe=0,he=0,Oe=0,Fe=0,Me=0,_e=b[0],ye=b[1],ge=b[2],ue=b[3],le=b[4],fe=b[5],ce=b[6],ae=b[7],be=b[8],me=b[9],ie=b[10],ve=b[11],Ie=b[12],Te=b[13],Ne=b[14],xe=b[15];c=A[0],R+=c*_e,E+=c*ye,N+=c*ge,D+=c*ue,$+=c*le,S+=c*fe,m+=c*ce,L+=c*ae,z+=c*be,F+=c*me,M+=c*ie,H+=c*ve,q+=c*Ie,W+=c*Te,K+=c*Ne,Q+=c*xe,c=A[1],E+=c*_e,N+=c*ye,D+=c*ge,$+=c*ue,S+=c*le,m+=c*fe,L+=c*ce,z+=c*ae,F+=c*be,M+=c*me,H+=c*ie,q+=c*ve,W+=c*Ie,K+=c*Te,Q+=c*Ne,Y+=c*xe,c=A[2],N+=c*_e,D+=c*ye,$+=c*ge,S+=c*ue,m+=c*le,L+=c*fe,z+=c*ce,F+=c*ae,M+=c*be,H+=c*me,q+=c*ie,W+=c*ve,K+=c*Ie,Q+=c*Te,Y+=c*Ne,te+=c*xe,c=A[3],D+=c*_e,$+=c*ye,S+=c*ge,m+=c*ue,L+=c*le,z+=c*fe,F+=c*ce,M+=c*ae,H+=c*be,q+=c*me,W+=c*ie,K+=c*ve,Q+=c*Ie,Y+=c*Te,te+=c*Ne,B+=c*xe,c=A[4],$+=c*_e,S+=c*ye,m+=c*ge,L+=c*ue,z+=c*le,F+=c*fe,M+=c*ce,H+=c*ae,q+=c*be,W+=c*me,K+=c*ie,Q+=c*ve,Y+=c*Ie,te+=c*Te,B+=c*Ne,j+=c*xe,c=A[5],S+=c*_e,m+=c*ye,L+=c*ge,z+=c*ue,F+=c*le,M+=c*fe,H+=c*ce,q+=c*ae,W+=c*be,K+=c*me,Q+=c*ie,Y+=c*ve,te+=c*Ie,B+=c*Te,j+=c*Ne,P+=c*xe,c=A[6],m+=c*_e,L+=c*ye,z+=c*ge,F+=c*ue,M+=c*le,H+=c*fe,q+=c*ce,W+=c*ae,K+=c*be,Q+=c*me,Y+=c*ie,te+=c*ve,B+=c*Ie,j+=c*Te,P+=c*Ne,l+=c*xe,c=A[7],L+=c*_e,z+=c*ye,F+=c*ge,M+=c*ue,H+=c*le,q+=c*fe,W+=c*ce,K+=c*ae,Q+=c*be,Y+=c*me,te+=c*ie,B+=c*ve,j+=c*Ie,P+=c*Te,l+=c*Ne,k+=c*xe,c=A[8],z+=c*_e,F+=c*ye,M+=c*ge,H+=c*ue,q+=c*le,W+=c*fe,K+=c*ce,Q+=c*ae,Y+=c*be,te+=c*me,B+=c*ie,j+=c*ve,P+=c*Ie,l+=c*Te,k+=c*Ne,G+=c*xe,c=A[9],F+=c*_e,M+=c*ye,H+=c*ge,q+=c*ue,W+=c*le,K+=c*fe,Q+=c*ce,Y+=c*ae,te+=c*be,B+=c*me,j+=c*ie,P+=c*ve,l+=c*Ie,k+=c*Te,G+=c*Ne,Z+=c*xe,c=A[10],M+=c*_e,H+=c*ye,q+=c*ge,W+=c*ue,K+=c*le,Q+=c*fe,Y+=c*ce,te+=c*ae,B+=c*be,j+=c*me,P+=c*ie,l+=c*ve,k+=c*Ie,G+=c*Te,Z+=c*Ne,oe+=c*xe,c=A[11],H+=c*_e,q+=c*ye,W+=c*ge,K+=c*ue,Q+=c*le,Y+=c*fe,te+=c*ce,B+=c*ae,j+=c*be,P+=c*me,l+=c*ie,k+=c*ve,G+=c*Ie,Z+=c*Te,oe+=c*Ne,pe+=c*xe,c=A[12],q+=c*_e,W+=c*ye,K+=c*ge,Q+=c*ue,Y+=c*le,te+=c*fe,B+=c*ce,j+=c*ae,P+=c*be,l+=c*me,k+=c*ie,G+=c*ve,Z+=c*Ie,oe+=c*Te,pe+=c*Ne,he+=c*xe,c=A[13],W+=c*_e,K+=c*ye,Q+=c*ge,Y+=c*ue,te+=c*le,B+=c*fe,j+=c*ce,P+=c*ae,l+=c*be,k+=c*me,G+=c*ie,Z+=c*ve,oe+=c*Ie,pe+=c*Te,he+=c*Ne,Oe+=c*xe,c=A[14],K+=c*_e,Q+=c*ye,Y+=c*ge,te+=c*ue,B+=c*le,j+=c*fe,P+=c*ce,l+=c*ae,k+=c*be,G+=c*me,Z+=c*ie,oe+=c*ve,pe+=c*Ie,he+=c*Te,Oe+=c*Ne,Fe+=c*xe,c=A[15],Q+=c*_e,Y+=c*ye,te+=c*ge,B+=c*ue,j+=c*le,P+=c*fe,l+=c*ce,k+=c*ae,G+=c*be,Z+=c*me,oe+=c*ie,pe+=c*ve,he+=c*Ie,Oe+=c*Te,Fe+=c*Ne,Me+=c*xe,R+=38*Y,E+=38*te,N+=38*B,D+=38*j,$+=38*P,S+=38*l,m+=38*k,L+=38*G,z+=38*Z,F+=38*oe,M+=38*pe,H+=38*he,q+=38*Oe,W+=38*Fe,K+=38*Me,u=1,c=R+u+65535,u=Math.floor(c/65536),R=c-u*65536,c=E+u+65535,u=Math.floor(c/65536),E=c-u*65536,c=N+u+65535,u=Math.floor(c/65536),N=c-u*65536,c=D+u+65535,u=Math.floor(c/65536),D=c-u*65536,c=$+u+65535,u=Math.floor(c/65536),$=c-u*65536,c=S+u+65535,u=Math.floor(c/65536),S=c-u*65536,c=m+u+65535,u=Math.floor(c/65536),m=c-u*65536,c=L+u+65535,u=Math.floor(c/65536),L=c-u*65536,c=z+u+65535,u=Math.floor(c/65536),z=c-u*65536,c=F+u+65535,u=Math.floor(c/65536),F=c-u*65536,c=M+u+65535,u=Math.floor(c/65536),M=c-u*65536,c=H+u+65535,u=Math.floor(c/65536),H=c-u*65536,c=q+u+65535,u=Math.floor(c/65536),q=c-u*65536,c=W+u+65535,u=Math.floor(c/65536),W=c-u*65536,c=K+u+65535,u=Math.floor(c/65536),K=c-u*65536,c=Q+u+65535,u=Math.floor(c/65536),Q=c-u*65536,R+=u-1+37*(u-1),u=1,c=R+u+65535,u=Math.floor(c/65536),R=c-u*65536,c=E+u+65535,u=Math.floor(c/65536),E=c-u*65536,c=N+u+65535,u=Math.floor(c/65536),N=c-u*65536,c=D+u+65535,u=Math.floor(c/65536),D=c-u*65536,c=$+u+65535,u=Math.floor(c/65536),$=c-u*65536,c=S+u+65535,u=Math.floor(c/65536),S=c-u*65536,c=m+u+65535,u=Math.floor(c/65536),m=c-u*65536,c=L+u+65535,u=Math.floor(c/65536),L=c-u*65536,c=z+u+65535,u=Math.floor(c/65536),z=c-u*65536,c=F+u+65535,u=Math.floor(c/65536),F=c-u*65536,c=M+u+65535,u=Math.floor(c/65536),M=c-u*65536,c=H+u+65535,u=Math.floor(c/65536),H=c-u*65536,c=q+u+65535,u=Math.floor(c/65536),q=c-u*65536,c=W+u+65535,u=Math.floor(c/65536),W=c-u*65536,c=K+u+65535,u=Math.floor(c/65536),K=c-u*65536,c=Q+u+65535,u=Math.floor(c/65536),Q=c-u*65536,R+=u-1+37*(u-1),w[0]=R,w[1]=E,w[2]=N,w[3]=D,w[4]=$,w[5]=S,w[6]=m,w[7]=L,w[8]=z,w[9]=F,w[10]=M,w[11]=H,w[12]=q,w[13]=W,w[14]=K,w[15]=Q}function g(w,A){y(w,A,A)}function I(w,A){const b=n();for(let c=0;c<16;c++)b[c]=A[c];for(let c=253;c>=0;c--)g(b,b),c!==2&&c!==4&&y(b,b,A);for(let c=0;c<16;c++)w[c]=b[c]}function O(w,A){const b=new Uint8Array(32),c=new Float64Array(80),u=n(),R=n(),E=n(),N=n(),D=n(),$=n();for(let z=0;z<31;z++)b[z]=w[z];b[31]=w[31]&127|64,b[0]&=248,f(c,A);for(let z=0;z<16;z++)R[z]=c[z];u[0]=N[0]=1;for(let z=254;z>=0;--z){const F=b[z>>>3]>>>(z&7)&1;o(u,R,F),o(E,N,F),h(D,u,E),p(u,u,E),h(E,R,N),p(R,R,N),g(N,D),g($,u),y(u,E,u),y(E,R,D),h(D,u,E),p(u,u,E),g(R,u),p(E,N,$),y(u,E,i),h(u,u,N),y(E,E,u),y(u,N,$),y(N,R,c),g(R,D),o(u,R,F),o(E,N,F)}for(let z=0;z<16;z++)c[z+16]=u[z],c[z+32]=E[z],c[z+48]=R[z],c[z+64]=N[z];const S=c.subarray(32),m=c.subarray(16);I(S,S),y(m,m,S);const L=new Uint8Array(32);return d(L,m),L}e.scalarMult=O;function T(w){return O(w,a)}e.scalarMultBase=T;function C(w){if(w.length!==e.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${e.SECRET_KEY_LENGTH} bytes`);const A=new Uint8Array(w);return{publicKey:T(A),secretKey:A}}e.generateKeyPairFromSeed=C;function _(w){const A=(0,t.randomBytes)(32,w),b=C(A);return(0,r.wipe)(A),b}e.generateKeyPair=_;function v(w,A,b=!1){if(w.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(A.length!==e.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const c=O(w,A);if(b){let u=0;for(let R=0;R<c.length;R++)u|=c[R];if(u===0)throw new Error("X25519: invalid shared key")}return c}e.sharedKey=v})(yc);var xf=globalThis&&globalThis.__spreadArray||function(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))},m3=function(){function e(t,r,n){this.name=t,this.version=r,this.os=n,this.type="browser"}return e}(),w3=function(){function e(t){this.version=t,this.type="node",this.name="node",this.os=process.platform}return e}(),_3=function(){function e(t,r,n,a){this.name=t,this.version=r,this.os=n,this.bot=a,this.type="bot-device"}return e}(),v3=function(){function e(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return e}(),E3=function(){function e(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return e}(),S3=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,I3=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,Af=3,O3=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",S3]],Tf=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function ol(e){return e?Nf(e):typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new E3:typeof navigator<"u"?Nf(navigator.userAgent):T3()}function x3(e){return e!==""&&O3.reduce(function(t,r){var n=r[0],a=r[1];if(t)return t;var i=a.exec(e);return!!i&&[n,i]},!1)}function Nf(e){var t=x3(e);if(!t)return null;var r=t[0],n=t[1];if(r==="searchbot")return new v3;var a=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);a?a.length<Af&&(a=xf(xf([],a,!0),N3(Af-a.length),!0)):a=[];var i=a.join("."),s=A3(e),o=I3.exec(e);return o&&o[1]?new _3(r,i,s,o[1]):new m3(r,i,s)}function A3(e){for(var t=0,r=Tf.length;t<r;t++){var n=Tf[t],a=n[0],i=n[1],s=i.exec(e);if(s)return a}return null}function T3(){var e=typeof process<"u"&&process.version;return e?new w3(process.version.slice(1)):null}function N3(e){for(var t=[],r=0;r<e;r++)t.push("0");return t}var Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.getLocalStorage=Re.getLocalStorageOrThrow=Re.getCrypto=Re.getCryptoOrThrow=dl=Re.getLocation=Re.getLocationOrThrow=mc=Re.getNavigator=Re.getNavigatorOrThrow=cl=Re.getDocument=Re.getDocumentOrThrow=Re.getFromWindowOrThrow=Re.getFromWindow=void 0;function On(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}Re.getFromWindow=On;function na(e){const t=On(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Re.getFromWindowOrThrow=na;function k3(){return na("document")}Re.getDocumentOrThrow=k3;function C3(){return On("document")}var cl=Re.getDocument=C3;function R3(){return na("navigator")}Re.getNavigatorOrThrow=R3;function P3(){return On("navigator")}var mc=Re.getNavigator=P3;function L3(){return na("location")}Re.getLocationOrThrow=L3;function U3(){return On("location")}var dl=Re.getLocation=U3;function D3(){return na("crypto")}Re.getCryptoOrThrow=D3;function M3(){return On("crypto")}Re.getCrypto=M3;function B3(){return na("localStorage")}Re.getLocalStorageOrThrow=B3;function j3(){return On("localStorage")}Re.getLocalStorage=j3;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});var fl=wc.getWindowMetadata=void 0;const kf=Re;function z3(){let e,t;try{e=kf.getDocumentOrThrow(),t=kf.getLocationOrThrow()}catch{return null}function r(){const h=e.getElementsByTagName("link"),p=[];for(let y=0;y<h.length;y++){const g=h[y],I=g.getAttribute("rel");if(I&&I.toLowerCase().indexOf("icon")>-1){const O=g.getAttribute("href");if(O)if(O.toLowerCase().indexOf("https:")===-1&&O.toLowerCase().indexOf("http:")===-1&&O.indexOf("//")!==0){let T=t.protocol+"//"+t.host;if(O.indexOf("/")===0)T+=O;else{const C=t.pathname.split("/");C.pop();const _=C.join("/");T+=_+"/"+O}p.push(T)}else if(O.indexOf("//")===0){const T=t.protocol+O;p.push(T)}else p.push(O)}}return p}function n(...h){const p=e.getElementsByTagName("meta");for(let y=0;y<p.length;y++){const g=p[y],I=["itemprop","property","name"].map(O=>g.getAttribute(O)).filter(O=>O?h.includes(O):!1);if(I.length&&I){const O=g.getAttribute("content");if(O)return O}}return""}function a(){let h=n("name","og:site_name","og:title","twitter:title");return h||(h=e.title),h}function i(){return n("description","og:description","twitter:description","keywords")}const s=a(),o=i(),d=t.origin,f=r();return{description:o,url:d,icons:f,name:s}}fl=wc.getWindowMetadata=z3;var ja={},$3=e=>encodeURIComponent(e).replace(/[!'()*]/g,t=>`%${t.charCodeAt(0).toString(16).toUpperCase()}`),hl="%[a-f0-9]{2}",Cf=new RegExp("("+hl+")|([^%]+?)","gi"),Rf=new RegExp("("+hl+")+","gi");function No(e,t){try{return[decodeURIComponent(e.join(""))]}catch{}if(e.length===1)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],No(r),No(n))}function F3(e){try{return decodeURIComponent(e)}catch{for(var t=e.match(Cf)||[],r=1;r<t.length;r++)e=No(t,r).join(""),t=e.match(Cf)||[];return e}}function H3(e){for(var t={"%FE%FF":"","%FF%FE":""},r=Rf.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch{var n=F3(r[0]);n!==r[0]&&(t[r[0]]=n)}r=Rf.exec(e)}t["%C2"]="";for(var a=Object.keys(t),i=0;i<a.length;i++){var s=a[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}var q3=function(e){if(typeof e!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch{return H3(e)}},V3=(e,t)=>{if(!(typeof e=="string"&&typeof t=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t==="")return[e];const r=e.indexOf(t);return r===-1?[e]:[e.slice(0,r),e.slice(r+t.length)]},K3=function(e,t){for(var r={},n=Object.keys(e),a=Array.isArray(t),i=0;i<n.length;i++){var s=n[i],o=e[s];(a?t.indexOf(s)!==-1:t(s,o,e))&&(r[s]=o)}return r};(function(e){const t=$3,r=q3,n=V3,a=K3,i=_=>_==null,s=Symbol("encodeFragmentIdentifier");function o(_){switch(_.arrayFormat){case"index":return v=>(w,A)=>{const b=w.length;return A===void 0||_.skipNull&&A===null||_.skipEmptyString&&A===""?w:A===null?[...w,[h(v,_),"[",b,"]"].join("")]:[...w,[h(v,_),"[",h(b,_),"]=",h(A,_)].join("")]};case"bracket":return v=>(w,A)=>A===void 0||_.skipNull&&A===null||_.skipEmptyString&&A===""?w:A===null?[...w,[h(v,_),"[]"].join("")]:[...w,[h(v,_),"[]=",h(A,_)].join("")];case"colon-list-separator":return v=>(w,A)=>A===void 0||_.skipNull&&A===null||_.skipEmptyString&&A===""?w:A===null?[...w,[h(v,_),":list="].join("")]:[...w,[h(v,_),":list=",h(A,_)].join("")];case"comma":case"separator":case"bracket-separator":{const v=_.arrayFormat==="bracket-separator"?"[]=":"=";return w=>(A,b)=>b===void 0||_.skipNull&&b===null||_.skipEmptyString&&b===""?A:(b=b===null?"":b,A.length===0?[[h(w,_),v,h(b,_)].join("")]:[[A,h(b,_)].join(_.arrayFormatSeparator)])}default:return v=>(w,A)=>A===void 0||_.skipNull&&A===null||_.skipEmptyString&&A===""?w:A===null?[...w,h(v,_)]:[...w,[h(v,_),"=",h(A,_)].join("")]}}function d(_){let v;switch(_.arrayFormat){case"index":return(w,A,b)=>{if(v=/\[(\d*)\]$/.exec(w),w=w.replace(/\[\d*\]$/,""),!v){b[w]=A;return}b[w]===void 0&&(b[w]={}),b[w][v[1]]=A};case"bracket":return(w,A,b)=>{if(v=/(\[\])$/.exec(w),w=w.replace(/\[\]$/,""),!v){b[w]=A;return}if(b[w]===void 0){b[w]=[A];return}b[w]=[].concat(b[w],A)};case"colon-list-separator":return(w,A,b)=>{if(v=/(:list)$/.exec(w),w=w.replace(/:list$/,""),!v){b[w]=A;return}if(b[w]===void 0){b[w]=[A];return}b[w]=[].concat(b[w],A)};case"comma":case"separator":return(w,A,b)=>{const c=typeof A=="string"&&A.includes(_.arrayFormatSeparator),u=typeof A=="string"&&!c&&p(A,_).includes(_.arrayFormatSeparator);A=u?p(A,_):A;const R=c||u?A.split(_.arrayFormatSeparator).map(E=>p(E,_)):A===null?A:p(A,_);b[w]=R};case"bracket-separator":return(w,A,b)=>{const c=/(\[\])$/.test(w);if(w=w.replace(/\[\]$/,""),!c){b[w]=A&&p(A,_);return}const u=A===null?[]:A.split(_.arrayFormatSeparator).map(R=>p(R,_));if(b[w]===void 0){b[w]=u;return}b[w]=[].concat(b[w],u)};default:return(w,A,b)=>{if(b[w]===void 0){b[w]=A;return}b[w]=[].concat(b[w],A)}}}function f(_){if(typeof _!="string"||_.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function h(_,v){return v.encode?v.strict?t(_):encodeURIComponent(_):_}function p(_,v){return v.decode?r(_):_}function y(_){return Array.isArray(_)?_.sort():typeof _=="object"?y(Object.keys(_)).sort((v,w)=>Number(v)-Number(w)).map(v=>_[v]):_}function g(_){const v=_.indexOf("#");return v!==-1&&(_=_.slice(0,v)),_}function I(_){let v="";const w=_.indexOf("#");return w!==-1&&(v=_.slice(w)),v}function O(_){_=g(_);const v=_.indexOf("?");return v===-1?"":_.slice(v+1)}function T(_,v){return v.parseNumbers&&!Number.isNaN(Number(_))&&typeof _=="string"&&_.trim()!==""?_=Number(_):v.parseBooleans&&_!==null&&(_.toLowerCase()==="true"||_.toLowerCase()==="false")&&(_=_.toLowerCase()==="true"),_}function C(_,v){v=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},v),f(v.arrayFormatSeparator);const w=d(v),A=Object.create(null);if(typeof _!="string"||(_=_.trim().replace(/^[?#&]/,""),!_))return A;for(const b of _.split("&")){if(b==="")continue;let[c,u]=n(v.decode?b.replace(/\+/g," "):b,"=");u=u===void 0?null:["comma","separator","bracket-separator"].includes(v.arrayFormat)?u:p(u,v),w(p(c,v),u,A)}for(const b of Object.keys(A)){const c=A[b];if(typeof c=="object"&&c!==null)for(const u of Object.keys(c))c[u]=T(c[u],v);else A[b]=T(c,v)}return v.sort===!1?A:(v.sort===!0?Object.keys(A).sort():Object.keys(A).sort(v.sort)).reduce((b,c)=>{const u=A[c];return u&&typeof u=="object"&&!Array.isArray(u)?b[c]=y(u):b[c]=u,b},Object.create(null))}e.extract=O,e.parse=C,e.stringify=(_,v)=>{if(!_)return"";v=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},v),f(v.arrayFormatSeparator);const w=u=>v.skipNull&&i(_[u])||v.skipEmptyString&&_[u]==="",A=o(v),b={};for(const u of Object.keys(_))w(u)||(b[u]=_[u]);const c=Object.keys(b);return v.sort!==!1&&c.sort(v.sort),c.map(u=>{const R=_[u];return R===void 0?"":R===null?h(u,v):Array.isArray(R)?R.length===0&&v.arrayFormat==="bracket-separator"?h(u,v)+"[]":R.reduce(A(u),[]).join("&"):h(u,v)+"="+h(R,v)}).filter(u=>u.length>0).join("&")},e.parseUrl=(_,v)=>{v=Object.assign({decode:!0},v);const[w,A]=n(_,"#");return Object.assign({url:w.split("?")[0]||"",query:C(O(_),v)},v&&v.parseFragmentIdentifier&&A?{fragmentIdentifier:p(A,v)}:{})},e.stringifyUrl=(_,v)=>{v=Object.assign({encode:!0,strict:!0,[s]:!0},v);const w=g(_.url).split("?")[0]||"",A=e.extract(_.url),b=e.parse(A,{sort:!1}),c=Object.assign(b,_.query);let u=e.stringify(c,v);u&&(u=`?${u}`);let R=I(_.url);return _.fragmentIdentifier&&(R=`#${v[s]?h(_.fragmentIdentifier,v):_.fragmentIdentifier}`),`${w}${u}${R}`},e.pick=(_,v,w)=>{w=Object.assign({parseFragmentIdentifier:!0,[s]:!1},w);const{url:A,query:b,fragmentIdentifier:c}=e.parseUrl(_,w);return e.stringifyUrl({url:A,query:a(b,v),fragmentIdentifier:c},w)},e.exclude=(_,v,w)=>{const A=Array.isArray(v)?b=>!v.includes(b):(b,c)=>!v(b,c);return e.pick(_,A,w)}})(ja);const G3={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe"}},ll=":";function W3(e){const{namespace:t,reference:r}=e;return[t,r].join(ll)}function Y3(e){const[t,r,n]=e.split(ll);return{namespace:t,reference:r,address:n}}function Z3(e,t){const r=[];return e.forEach(n=>{const a=t(n);r.includes(a)||r.push(a)}),r}function X3(e){const{namespace:t,reference:r}=Y3(e);return W3({namespace:t,reference:r})}function J3(e){return Z3(e,X3)}function ul(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const a=e[n];r.push(...a.accounts)}),r}function bl(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const a=e[n];r.push(...J3(a.accounts))}),r}function Q3(e,t=[]){const r=[];return Object.keys(e).forEach(n=>{if(t.length&&!t.includes(n))return;const a=e[n];r.push(..._c(n,a))}),r}function _c(e,t){return e.includes(":")?[e]:t.chains||[]}const pl="base10",Tt="base16",ko="base64pad",vc="utf8",gl=0,xn=1,e8=0,Pf=1,Co=12,Ec=32;function t8(){const e=yc.generateKeyPair();return{privateKey:Nt(e.secretKey,Tt),publicKey:Nt(e.publicKey,Tt)}}function Ro(){const e=ra.randomBytes(Ec);return Nt(e,Tt)}function r8(e,t){const r=yc.sharedKey(Rt(e,Tt),Rt(t,Tt)),n=new y3(ps.SHA256,r).expand(Ec);return Nt(n,Tt)}function n8(e){const t=ps.hash(Rt(e,Tt));return Nt(t,Tt)}function qn(e){const t=ps.hash(Rt(e,vc));return Nt(t,Tt)}function a8(e){return Rt(`${e}`,pl)}function ni(e){return Number(Nt(e,pl))}function i8(e){const t=a8(typeof e.type<"u"?e.type:gl);if(ni(t)===xn&&typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof e.senderPublicKey<"u"?Rt(e.senderPublicKey,Tt):void 0,n=typeof e.iv<"u"?Rt(e.iv,Tt):ra.randomBytes(Co),a=new pc.ChaCha20Poly1305(Rt(e.symKey,Tt)).seal(n,Rt(e.message,vc));return o8({type:t,sealed:a,iv:n,senderPublicKey:r})}function s8(e){const t=new pc.ChaCha20Poly1305(Rt(e.symKey,Tt)),{sealed:r,iv:n}=Wi(e.encoded),a=t.open(n,r);if(a===null)throw new Error("Failed to decrypt");return Nt(a,vc)}function o8(e){if(ni(e.type)===xn){if(typeof e.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Nt(Ao([e.type,e.senderPublicKey,e.iv,e.sealed]),ko)}return Nt(Ao([e.type,e.iv,e.sealed]),ko)}function Wi(e){const t=Rt(e,ko),r=t.slice(e8,Pf),n=Pf;if(ni(r)===xn){const o=n+Ec,d=o+Co,f=t.slice(n,o),h=t.slice(o,d),p=t.slice(d);return{type:r,sealed:p,iv:h,senderPublicKey:f}}const a=n+Co,i=t.slice(n,a),s=t.slice(a);return{type:r,sealed:s,iv:i}}function c8(e,t){const r=Wi(e);return yl({type:ni(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Nt(r.senderPublicKey,Tt):void 0,receiverPublicKey:t==null?void 0:t.receiverPublicKey})}function yl(e){const t=(e==null?void 0:e.type)||gl;if(t===xn){if(typeof(e==null?void 0:e.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(e==null?void 0:e.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:t,senderPublicKey:e==null?void 0:e.senderPublicKey,receiverPublicKey:e==null?void 0:e.receiverPublicKey}}function Lf(e){return e.type===xn&&typeof e.senderPublicKey=="string"&&typeof e.receiverPublicKey=="string"}var d8=Object.defineProperty,Uf=Object.getOwnPropertySymbols,f8=Object.prototype.hasOwnProperty,h8=Object.prototype.propertyIsEnumerable,Df=(e,t,r)=>t in e?d8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mf=(e,t)=>{for(var r in t||(t={}))f8.call(t,r)&&Df(e,r,t[r]);if(Uf)for(var r of Uf(t))h8.call(t,r)&&Df(e,r,t[r]);return e};const l8="ReactNative",ln={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},u8="js";function Sc(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ml(){return!cl()&&!!mc()&&navigator.product===l8}function Ic(){return!Sc()&&!!mc()}function wl(){return ml()?ln.reactNative:Sc()?ln.node:Ic()?ln.browser:ln.unknown}function b8(e,t){let r=ja.parse(e);return r=Mf(Mf({},r),t),e=ja.stringify(r),e}function p8(){return fl()||{name:"",description:"",url:"",icons:[""]}}function g8(){const e=ol();if(e===null)return"unknown";const t=e.os?e.os.replace(" ","").toLowerCase():"unknown";return e.type==="browser"?[t,e.name,e.version].join("-"):[t,e.version].join("-")}function y8(){var e;const t=wl();return t===ln.browser?[t,((e=dl())==null?void 0:e.host)||"unknown"].join(":"):t}function m8(e,t,r){const n=g8(),a=y8();return[[e,t].join("-"),[u8,r].join("-"),n,a].join("/")}function w8({protocol:e,version:t,relayUrl:r,sdkVersion:n,auth:a,projectId:i,useOnCloseEvent:s}){const o=r.split("?"),d=m8(e,t,n),f={auth:a,ua:d,projectId:i,useOnCloseEvent:s||void 0},h=b8(o[1]||"",f);return o[0]+"?"+h}function un(e,t){return e.filter(r=>t.includes(r)).length===e.length}function _l(e){return Object.fromEntries(e.entries())}function vl(e){return new Map(Object.entries(e))}function Mn(e=re.FIVE_MINUTES,t){const r=re.toMiliseconds(e||re.FIVE_MINUTES);let n,a,i;return{resolve:s=>{i&&n&&(clearTimeout(i),n(s))},reject:s=>{i&&a&&(clearTimeout(i),a(s))},done:()=>new Promise((s,o)=>{i=setTimeout(()=>{o(new Error(t))},r),n=s,a=o})}}function Yi(e,t,r){return new Promise(async(n,a)=>{const i=setTimeout(()=>a(new Error(r)),t);try{const s=await e;n(s)}catch(s){a(s)}clearTimeout(i)})}function El(e,t){if(typeof t=="string"&&t.startsWith(`${e}:`))return t;if(e.toLowerCase()==="topic"){if(typeof t!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${t}`}else if(e.toLowerCase()==="id"){if(typeof t!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${t}`}throw new Error(`Unknown expirer target type: ${e}`)}function _8(e){return El("topic",e)}function v8(e){return El("id",e)}function Sl(e){const[t,r]=e.split(":"),n={id:void 0,topic:void 0};if(t==="topic"&&typeof r=="string")n.topic=r;else if(t==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${t}:${r}`);return n}function dr(e,t){return re.fromMiliseconds((t||Date.now())+re.toMiliseconds(e))}function Br(e){return Date.now()>=re.toMiliseconds(e)}function Ye(e,t){return`${e}${t?`:${t}`:""}`}async function E8({id:e,topic:t,wcDeepLink:r}){var n;try{if(!r)return;let a=(n=typeof r=="string"?JSON.parse(r):r)==null?void 0:n.href;if(typeof a!="string")return;a.endsWith("/")&&(a=a.slice(0,-1));const i=`${a}/wc?requestId=${e}&sessionTopic=${t}`,s=wl();s===ln.browser?window.open(i,"_self","noreferrer noopener"):s===ln.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(i)}catch(a){console.error(a)}}const S8="irn";function Po(e){return(e==null?void 0:e.relay)||{protocol:S8}}function zi(e){const t=G3[e];if(typeof t>"u")throw new Error(`Relay Protocol not supported: ${e}`);return t}var I8=Object.defineProperty,Bf=Object.getOwnPropertySymbols,O8=Object.prototype.hasOwnProperty,x8=Object.prototype.propertyIsEnumerable,jf=(e,t,r)=>t in e?I8(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,A8=(e,t)=>{for(var r in t||(t={}))O8.call(t,r)&&jf(e,r,t[r]);if(Bf)for(var r of Bf(t))x8.call(t,r)&&jf(e,r,t[r]);return e};function T8(e,t="-"){const r={},n="relay"+t;return Object.keys(e).forEach(a=>{if(a.startsWith(n)){const i=a.replace(n,""),s=e[a];r[i]=s}}),r}function N8(e){const t=e.indexOf(":"),r=e.indexOf("?")!==-1?e.indexOf("?"):void 0,n=e.substring(0,t),a=e.substring(t+1,r).split("@"),i=typeof r<"u"?e.substring(r):"",s=ja.parse(i);return{protocol:n,topic:k8(a[0]),version:parseInt(a[1],10),symKey:s.symKey,relay:T8(s)}}function k8(e){return e.startsWith("//")?e.substring(2):e}function C8(e,t="-"){const r="relay",n={};return Object.keys(e).forEach(a=>{const i=r+t+a;e[a]&&(n[i]=e[a])}),n}function R8(e){return`${e.protocol}:${e.topic}@${e.version}?`+ja.stringify(A8({symKey:e.symKey},C8(e.relay)))}function aa(e){const t=[];return e.forEach(r=>{const[n,a]=r.split(":");t.push(`${n}:${a}`)}),t}function P8(e){const t=[];return Object.values(e).forEach(r=>{t.push(...aa(r.accounts))}),t}function L8(e,t){const r=[];return Object.values(e).forEach(n=>{aa(n.accounts).includes(t)&&r.push(...n.methods)}),r}function U8(e,t){const r=[];return Object.values(e).forEach(n=>{aa(n.accounts).includes(t)&&r.push(...n.events)}),r}function D8(e,t){const r=$i(e,t);if(r)throw new Error(r.message);const n={};for(const[a,i]of Object.entries(e))n[a]={methods:i.methods,events:i.events,chains:i.accounts.map(s=>`${s.split(":")[0]}:${s.split(":")[1]}`)};return n}const M8={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},B8={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function X(e,t){const{message:r,code:n}=B8[e];return{message:t?`${r} ${t}`:r,code:n}}function Qe(e,t){const{message:r,code:n}=M8[e];return{message:t?`${r} ${t}`:r,code:n}}function ai(e,t){return Array.isArray(e)?typeof t<"u"&&e.length?e.every(t):!0:!1}function Ra(e){return Object.getPrototypeOf(e)===Object.prototype&&Object.keys(e).length}function xt(e){return typeof e>"u"}function ht(e,t){return t&&xt(e)?!0:typeof e=="string"&&!!e.trim().length}function Oc(e,t){return t&&xt(e)?!0:typeof e=="number"&&!isNaN(e)}function j8(e,t){const{requiredNamespaces:r}=t,n=Object.keys(e.namespaces),a=Object.keys(r);let i=!0;return un(a,n)?(n.forEach(s=>{const{accounts:o,methods:d,events:f}=e.namespaces[s],h=aa(o),p=r[s];(!un(_c(s,p),h)||!un(p.methods,d)||!un(p.events,f))&&(i=!1)}),i):!1}function xc(e){return ht(e,!1)&&e.includes(":")?e.split(":").length===2:!1}function z8(e){if(ht(e,!1)&&e.includes(":")){const t=e.split(":");if(t.length===3){const r=t[0]+":"+t[1];return!!t[2]&&xc(r)}}return!1}function $8(e){if(ht(e,!1))try{return typeof new URL(e)<"u"}catch{return!1}return!1}function F8(e){var t;return(t=e==null?void 0:e.proposer)==null?void 0:t.publicKey}function H8(e){return e==null?void 0:e.topic}function q8(e,t){let r=null;return ht(e==null?void 0:e.publicKey,!1)||(r=X("MISSING_OR_INVALID",`${t} controller public key should be a string`)),r}function zf(e){let t=!0;return ai(e)?e.length&&(t=e.every(r=>ht(r,!1))):t=!1,t}function V8(e,t,r){let n=null;return ai(t)?t.forEach(a=>{n||(!xc(a)||!a.includes(e))&&(n=Qe("UNSUPPORTED_CHAINS",`${r}, chain ${a} should be a string and conform to "namespace:chainId" format`))}):n=Qe("UNSUPPORTED_CHAINS",`${r}, chains ${t} should be an array of strings conforming to "namespace:chainId" format`),n}function K8(e,t){let r=null;return Object.entries(e).forEach(([n,a])=>{if(r)return;const i=V8(n,_c(n,a),`${t} requiredNamespace`);i&&(r=i)}),r}function G8(e,t){let r=null;return ai(e)?e.forEach(n=>{r||z8(n)||(r=Qe("UNSUPPORTED_ACCOUNTS",`${t}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Qe("UNSUPPORTED_ACCOUNTS",`${t}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function W8(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const a=G8(n==null?void 0:n.accounts,`${t} namespace`);a&&(r=a)}),r}function Y8(e,t){let r=null;return zf(e==null?void 0:e.methods)?zf(e==null?void 0:e.events)||(r=Qe("UNSUPPORTED_EVENTS",`${t}, events should be an array of strings or empty array for no events`)):r=Qe("UNSUPPORTED_METHODS",`${t}, methods should be an array of strings or empty array for no methods`),r}function Il(e,t){let r=null;return Object.values(e).forEach(n=>{if(r)return;const a=Y8(n,`${t}, namespace`);a&&(r=a)}),r}function Z8(e,t,r){let n=null;if(e&&Ra(e)){const a=Il(e,t);a&&(n=a);const i=K8(e,t);i&&(n=i)}else n=X("MISSING_OR_INVALID",`${t}, ${r} should be an object with data`);return n}function $i(e,t){let r=null;if(e&&Ra(e)){const n=Il(e,t);n&&(r=n);const a=W8(e,t);a&&(r=a)}else r=X("MISSING_OR_INVALID",`${t}, namespaces should be an object with data`);return r}function Ol(e){return ht(e.protocol,!0)}function X8(e,t){let r=!1;return t&&!e?r=!0:e&&ai(e)&&e.length&&e.forEach(n=>{r=Ol(n)}),r}function J8(e){return typeof e=="number"}function kt(e){return typeof e<"u"&&typeof e!==null}function Q8(e){return!(!e||typeof e!="object"||!e.code||!Oc(e.code,!1)||!e.message||!ht(e.message,!1))}function e4(e){return!(xt(e)||!ht(e.method,!1))}function t4(e){return!(xt(e)||xt(e.result)&&xt(e.error)||!Oc(e.id,!1)||!ht(e.jsonrpc,!1))}function r4(e){return!(xt(e)||!ht(e.name,!1))}function $f(e,t){return!(!xc(t)||!P8(e).includes(t))}function n4(e,t,r){return ht(r,!1)?L8(e,t).includes(r):!1}function a4(e,t,r){return ht(r,!1)?U8(e,t).includes(r):!1}function Ff(e,t,r){let n=null;const a=i4(e),i=s4(t),s=Object.keys(a),o=Object.keys(i),d=Hf(Object.keys(e)),f=Hf(Object.keys(t)),h=d.filter(p=>!f.includes(p));return h.length&&(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(t).toString()}`)),un(s,o)||(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${s.toString()}
      Approved: ${o.toString()}`)),Object.keys(t).forEach(p=>{if(!p.includes(":")||n)return;const y=aa(t[p].accounts);y.includes(p)||(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${p}
        Required: ${p}
        Approved: ${y.toString()}`))}),s.forEach(p=>{n||(un(a[p].methods,i[p].methods)?un(a[p].events,i[p].events)||(n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${p}`)):n=X("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${p}`))}),n}function i4(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=e[r].chains)==null||n.forEach(a=>{t[a]={methods:e[r].methods,events:e[r].events}})}),t}function Hf(e){return[...new Set(e.map(t=>t.includes(":")?t.split(":")[0]:t))]}function s4(e){const t={};return Object.keys(e).forEach(r=>{var n;r.includes(":")?t[r]=e[r]:(n=aa(e[r].accounts))==null||n.forEach(a=>{t[a]={accounts:e[r].accounts.filter(i=>i.includes(`${a}:`)),methods:e[r].methods,events:e[r].events}})}),t}function o4(e,t){return Oc(e,!1)&&e<=t.max&&e>=t.min}const c4="PARSE_ERROR",d4="INVALID_REQUEST",f4="METHOD_NOT_FOUND",h4="INVALID_PARAMS",xl="INTERNAL_ERROR",Ac="SERVER_ERROR",l4=[-32700,-32600,-32601,-32602,-32603],Pa={[c4]:{code:-32700,message:"Parse error"},[d4]:{code:-32600,message:"Invalid Request"},[f4]:{code:-32601,message:"Method not found"},[h4]:{code:-32602,message:"Invalid params"},[xl]:{code:-32603,message:"Internal error"},[Ac]:{code:-32e3,message:"Server error"}},Al=Ac;function u4(e){return l4.includes(e)}function qf(e){return Object.keys(Pa).includes(e)?Pa[e]:Pa[Al]}function b4(e){return Object.values(Pa).find(r=>r.code===e)||Pa[Al]}function p4(e,t,r){return e.message.includes("getaddrinfo ENOTFOUND")||e.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${t}`):e}var Tl={},vr={},Vf;function g4(){if(Vf)return vr;Vf=1,Object.defineProperty(vr,"__esModule",{value:!0}),vr.isBrowserCryptoAvailable=vr.getSubtleCrypto=vr.getBrowerCrypto=void 0;function e(){return(vt==null?void 0:vt.crypto)||(vt==null?void 0:vt.msCrypto)||{}}vr.getBrowerCrypto=e;function t(){const n=e();return n.subtle||n.webkitSubtle}vr.getSubtleCrypto=t;function r(){return!!e()&&!!t()}return vr.isBrowserCryptoAvailable=r,vr}var Er={},Kf;function y4(){if(Kf)return Er;Kf=1,Object.defineProperty(Er,"__esModule",{value:!0}),Er.isBrowser=Er.isNode=Er.isReactNative=void 0;function e(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Er.isReactNative=e;function t(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Er.isNode=t;function r(){return!e()&&!t()}return Er.isBrowser=r,Er}(function(e){Object.defineProperty(e,"__esModule",{value:!0});const t=Zt;t.__exportStar(g4(),e),t.__exportStar(y4(),e)})(Tl);function Nl(e=3){const t=Date.now()*Math.pow(10,e),r=Math.floor(Math.random()*Math.pow(10,e));return t+r}function Tc(e=6){return BigInt(Nl(e))}function gs(e,t,r){return{id:r||Nl(),jsonrpc:"2.0",method:e,params:t}}function ys(e,t){return{id:e,jsonrpc:"2.0",result:t}}function ms(e,t,r){return{id:e,jsonrpc:"2.0",error:m4(t,r)}}function m4(e,t){return typeof e>"u"?qf(xl):(typeof e=="string"&&(e=Object.assign(Object.assign({},qf(Ac)),{message:e})),typeof t<"u"&&(e.data=t),u4(e.code)&&(e=b4(e.code)),e)}class kl{}class w4 extends kl{constructor(t){super()}}class _4 extends kl{constructor(){super()}}class v4 extends _4{constructor(t){super()}}const E4="^wss?:";function S4(e){const t=e.match(new RegExp(/^\w+:/,"gi"));if(!(!t||!t.length))return t[0]}function I4(e,t){const r=S4(e);return typeof r>"u"?!1:new RegExp(t).test(r)}function Gf(e){return I4(e,E4)}function O4(e){return new RegExp("wss?://localhost(:d{2,5})?").test(e)}function Cl(e){return typeof e=="object"&&"id"in e&&"jsonrpc"in e&&e.jsonrpc==="2.0"}function Nc(e){return Cl(e)&&"method"in e}function ws(e){return Cl(e)&&(Or(e)||Qt(e))}function Or(e){return"result"in e}function Qt(e){return"error"in e}class Rl extends v4{constructor(t){super(t),this.events=new Ft.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(t),this.connection.connected&&this.registerEventListeners()}async connect(t=this.connection){await this.open(t)}async disconnect(){await this.close()}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async request(t,r){return this.requestStrict(gs(t.method,t.params||[],t.id||Tc().toString()),r)}async requestStrict(t,r){return new Promise(async(n,a)=>{if(!this.connection.connected)try{await this.open()}catch(i){a(i)}this.events.on(`${t.id}`,i=>{Qt(i)?a(i.error):n(i.result)});try{await this.connection.send(t,r)}catch(i){a(i)}})}setConnection(t=this.connection){return t}onPayload(t){this.events.emit("payload",t),ws(t)?this.events.emit(`${t.id}`,t):this.events.emit("message",{type:t.method,data:t.params})}onClose(t){t&&t.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${t.code} ${t.reason?`(${t.reason})`:""}`)),this.events.emit("disconnect")}async open(t=this.connection){this.connection===t&&this.connection.connected||(this.connection.connected&&this.close(),typeof t=="string"&&(await this.connection.open(t),t=this.connection),this.connection=this.setConnection(t),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",t=>this.onPayload(t)),this.connection.on("close",t=>this.onClose(t)),this.connection.on("error",t=>this.events.emit("error",t)),this.connection.on("register_error",t=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const Wf=10,x4=()=>typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:require("ws"),A4=()=>typeof window<"u",T4=x4();class N4{constructor(t){if(this.url=t,this.events=new Ft.EventEmitter,this.registering=!1,!Gf(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t,r){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(lc(t))}catch(n){this.onError(t.id,n)}}register(t=this.url){if(!Gf(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,a)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),a(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return a(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{const a=Tl.isReactNative()?void 0:{rejectUnauthorized:!O4(t)},i=new T4(t,[],a);A4()?i.onerror=s=>{const o=s;n(this.emitError(o.error))}:i.on("error",s=>{n(this.emitError(s))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;const r=typeof t.data=="string"?z0(t.data):t.data;this.events.emit("payload",r)}onError(t,r){const n=this.parseError(r),a=n.message||n.toString(),i=ms(t,a);this.events.emit("payload",i)}parseError(t,r=this.url){return p4(t,r,"WS")}resetMaxListeners(){this.events.getMaxListeners()>Wf&&this.events.setMaxListeners(Wf)}emitError(t){const r=this.parseError(new Error((t==null?void 0:t.message)||`WebSocket connection failed for URL: ${this.url}`));return this.events.emit("register_error",r),r}}var Zi={exports:{}};Zi.exports;(function(e,t){var r=200,n="__lodash_hash_undefined__",a=1,i=2,s=9007199254740991,o="[object Arguments]",d="[object Array]",f="[object AsyncFunction]",h="[object Boolean]",p="[object Date]",y="[object Error]",g="[object Function]",I="[object GeneratorFunction]",O="[object Map]",T="[object Number]",C="[object Null]",_="[object Object]",v="[object Promise]",w="[object Proxy]",A="[object RegExp]",b="[object Set]",c="[object String]",u="[object Symbol]",R="[object Undefined]",E="[object WeakMap]",N="[object ArrayBuffer]",D="[object DataView]",$="[object Float32Array]",S="[object Float64Array]",m="[object Int8Array]",L="[object Int16Array]",z="[object Int32Array]",F="[object Uint8Array]",M="[object Uint8ClampedArray]",H="[object Uint16Array]",q="[object Uint32Array]",W=/[\\^$.*+?()[\]{}|]/g,K=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,Y={};Y[$]=Y[S]=Y[m]=Y[L]=Y[z]=Y[F]=Y[M]=Y[H]=Y[q]=!0,Y[o]=Y[d]=Y[N]=Y[h]=Y[D]=Y[p]=Y[y]=Y[g]=Y[O]=Y[T]=Y[_]=Y[A]=Y[b]=Y[c]=Y[E]=!1;var te=typeof vt=="object"&&vt&&vt.Object===Object&&vt,B=typeof self=="object"&&self&&self.Object===Object&&self,j=te||B||Function("return this")(),P=t&&!t.nodeType&&t,l=P&&!0&&e&&!e.nodeType&&e,k=l&&l.exports===P,G=k&&te.process,Z=function(){try{return G&&G.binding&&G.binding("util")}catch{}}(),oe=Z&&Z.isTypedArray;function pe(x,U){for(var V=-1,J=x==null?0:x.length,Pe=0,de=[];++V<J;){var ze=x[V];U(ze,V,x)&&(de[Pe++]=ze)}return de}function he(x,U){for(var V=-1,J=U.length,Pe=x.length;++V<J;)x[Pe+V]=U[V];return x}function Oe(x,U){for(var V=-1,J=x==null?0:x.length;++V<J;)if(U(x[V],V,x))return!0;return!1}function Fe(x,U){for(var V=-1,J=Array(x);++V<x;)J[V]=U(V);return J}function Me(x){return function(U){return x(U)}}function _e(x,U){return x.has(U)}function ye(x,U){return x==null?void 0:x[U]}function ge(x){var U=-1,V=Array(x.size);return x.forEach(function(J,Pe){V[++U]=[Pe,J]}),V}function ue(x,U){return function(V){return x(U(V))}}function le(x){var U=-1,V=Array(x.size);return x.forEach(function(J){V[++U]=J}),V}var fe=Array.prototype,ce=Function.prototype,ae=Object.prototype,be=j["__core-js_shared__"],me=ce.toString,ie=ae.hasOwnProperty,ve=function(){var x=/[^.]+$/.exec(be&&be.keys&&be.keys.IE_PROTO||"");return x?"Symbol(src)_1."+x:""}(),Ie=ae.toString,Te=RegExp("^"+me.call(ie).replace(W,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=k?j.Buffer:void 0,xe=j.Symbol,Xt=j.Uint8Array,nr=ae.propertyIsEnumerable,Rr=fe.splice,Dt=xe?xe.toStringTag:void 0,tn=Object.getOwnPropertySymbols,la=Ne?Ne.isBuffer:void 0,wi=ue(Object.keys,Object),qe=Nn(j,"DataView"),Be=Nn(j,"Map"),Ve=Nn(j,"Promise"),Ke=Nn(j,"Set"),Ge=Nn(j,"WeakMap"),je=Nn(Object,"create"),tt=nn(qe),rt=nn(Be),nt=nn(Ve),at=nn(Ke),it=nn(Ge),Xe=xe?xe.prototype:void 0,We=Xe?Xe.valueOf:void 0;function Le(x){var U=-1,V=x==null?0:x.length;for(this.clear();++U<V;){var J=x[U];this.set(J[0],J[1])}}function st(){this.__data__=je?je(null):{},this.size=0}function ot(x){var U=this.has(x)&&delete this.__data__[x];return this.size-=U?1:0,U}function jb(x){var U=this.__data__;if(je){var V=U[x];return V===n?void 0:V}return ie.call(U,x)?U[x]:void 0}function zb(x){var U=this.__data__;return je?U[x]!==void 0:ie.call(U,x)}function $b(x,U){var V=this.__data__;return this.size+=this.has(x)?0:1,V[x]=je&&U===void 0?n:U,this}Le.prototype.clear=st,Le.prototype.delete=ot,Le.prototype.get=jb,Le.prototype.has=zb,Le.prototype.set=$b;function wr(x){var U=-1,V=x==null?0:x.length;for(this.clear();++U<V;){var J=x[U];this.set(J[0],J[1])}}function Fb(){this.__data__=[],this.size=0}function Hb(x){var U=this.__data__,V=vi(U,x);if(V<0)return!1;var J=U.length-1;return V==J?U.pop():Rr.call(U,V,1),--this.size,!0}function qb(x){var U=this.__data__,V=vi(U,x);return V<0?void 0:U[V][1]}function Vb(x){return vi(this.__data__,x)>-1}function Kb(x,U){var V=this.__data__,J=vi(V,x);return J<0?(++this.size,V.push([x,U])):V[J][1]=U,this}wr.prototype.clear=Fb,wr.prototype.delete=Hb,wr.prototype.get=qb,wr.prototype.has=Vb,wr.prototype.set=Kb;function rn(x){var U=-1,V=x==null?0:x.length;for(this.clear();++U<V;){var J=x[U];this.set(J[0],J[1])}}function Gb(){this.size=0,this.__data__={hash:new Le,map:new(Be||wr),string:new Le}}function Wb(x){var U=Ei(this,x).delete(x);return this.size-=U?1:0,U}function Yb(x){return Ei(this,x).get(x)}function Zb(x){return Ei(this,x).has(x)}function Xb(x,U){var V=Ei(this,x),J=V.size;return V.set(x,U),this.size+=V.size==J?0:1,this}rn.prototype.clear=Gb,rn.prototype.delete=Wb,rn.prototype.get=Yb,rn.prototype.has=Zb,rn.prototype.set=Xb;function _i(x){var U=-1,V=x==null?0:x.length;for(this.__data__=new rn;++U<V;)this.add(x[U])}function Jb(x){return this.__data__.set(x,n),this}function Qb(x){return this.__data__.has(x)}_i.prototype.add=_i.prototype.push=Jb,_i.prototype.has=Qb;function Pr(x){var U=this.__data__=new wr(x);this.size=U.size}function e2(){this.__data__=new wr,this.size=0}function t2(x){var U=this.__data__,V=U.delete(x);return this.size=U.size,V}function r2(x){return this.__data__.get(x)}function n2(x){return this.__data__.has(x)}function a2(x,U){var V=this.__data__;if(V instanceof wr){var J=V.__data__;if(!Be||J.length<r-1)return J.push([x,U]),this.size=++V.size,this;V=this.__data__=new rn(J)}return V.set(x,U),this.size=V.size,this}Pr.prototype.clear=e2,Pr.prototype.delete=t2,Pr.prototype.get=r2,Pr.prototype.has=n2,Pr.prototype.set=a2;function i2(x,U){var V=Si(x),J=!V&&_2(x),Pe=!V&&!J&&js(x),de=!V&&!J&&!Pe&&Bd(x),ze=V||J||Pe||de,ct=ze?Fe(x.length,String):[],ut=ct.length;for(var De in x)(U||ie.call(x,De))&&!(ze&&(De=="length"||Pe&&(De=="offset"||De=="parent")||de&&(De=="buffer"||De=="byteLength"||De=="byteOffset")||p2(De,ut)))&&ct.push(De);return ct}function vi(x,U){for(var V=x.length;V--;)if(Ld(x[V][0],U))return V;return-1}function s2(x,U,V){var J=U(x);return Si(x)?J:he(J,V(x))}function ua(x){return x==null?x===void 0?R:C:Dt&&Dt in Object(x)?u2(x):w2(x)}function kd(x){return ba(x)&&ua(x)==o}function Cd(x,U,V,J,Pe){return x===U?!0:x==null||U==null||!ba(x)&&!ba(U)?x!==x&&U!==U:o2(x,U,V,J,Cd,Pe)}function o2(x,U,V,J,Pe,de){var ze=Si(x),ct=Si(U),ut=ze?d:Lr(x),De=ct?d:Lr(U);ut=ut==o?_:ut,De=De==o?_:De;var Mt=ut==_,Jt=De==_,mt=ut==De;if(mt&&js(x)){if(!js(U))return!1;ze=!0,Mt=!1}if(mt&&!Mt)return de||(de=new Pr),ze||Bd(x)?Rd(x,U,V,J,Pe,de):h2(x,U,ut,V,J,Pe,de);if(!(V&a)){var qt=Mt&&ie.call(x,"__wrapped__"),Vt=Jt&&ie.call(U,"__wrapped__");if(qt||Vt){var Ur=qt?x.value():x,_r=Vt?U.value():U;return de||(de=new Pr),Pe(Ur,_r,V,J,de)}}return mt?(de||(de=new Pr),l2(x,U,V,J,Pe,de)):!1}function c2(x){if(!Md(x)||y2(x))return!1;var U=Ud(x)?Te:K;return U.test(nn(x))}function d2(x){return ba(x)&&Dd(x.length)&&!!Y[ua(x)]}function f2(x){if(!m2(x))return wi(x);var U=[];for(var V in Object(x))ie.call(x,V)&&V!="constructor"&&U.push(V);return U}function Rd(x,U,V,J,Pe,de){var ze=V&a,ct=x.length,ut=U.length;if(ct!=ut&&!(ze&&ut>ct))return!1;var De=de.get(x);if(De&&de.get(U))return De==U;var Mt=-1,Jt=!0,mt=V&i?new _i:void 0;for(de.set(x,U),de.set(U,x);++Mt<ct;){var qt=x[Mt],Vt=U[Mt];if(J)var Ur=ze?J(Vt,qt,Mt,U,x,de):J(qt,Vt,Mt,x,U,de);if(Ur!==void 0){if(Ur)continue;Jt=!1;break}if(mt){if(!Oe(U,function(_r,an){if(!_e(mt,an)&&(qt===_r||Pe(qt,_r,V,J,de)))return mt.push(an)})){Jt=!1;break}}else if(!(qt===Vt||Pe(qt,Vt,V,J,de))){Jt=!1;break}}return de.delete(x),de.delete(U),Jt}function h2(x,U,V,J,Pe,de,ze){switch(V){case D:if(x.byteLength!=U.byteLength||x.byteOffset!=U.byteOffset)return!1;x=x.buffer,U=U.buffer;case N:return!(x.byteLength!=U.byteLength||!de(new Xt(x),new Xt(U)));case h:case p:case T:return Ld(+x,+U);case y:return x.name==U.name&&x.message==U.message;case A:case c:return x==U+"";case O:var ct=ge;case b:var ut=J&a;if(ct||(ct=le),x.size!=U.size&&!ut)return!1;var De=ze.get(x);if(De)return De==U;J|=i,ze.set(x,U);var Mt=Rd(ct(x),ct(U),J,Pe,de,ze);return ze.delete(x),Mt;case u:if(We)return We.call(x)==We.call(U)}return!1}function l2(x,U,V,J,Pe,de){var ze=V&a,ct=Pd(x),ut=ct.length,De=Pd(U),Mt=De.length;if(ut!=Mt&&!ze)return!1;for(var Jt=ut;Jt--;){var mt=ct[Jt];if(!(ze?mt in U:ie.call(U,mt)))return!1}var qt=de.get(x);if(qt&&de.get(U))return qt==U;var Vt=!0;de.set(x,U),de.set(U,x);for(var Ur=ze;++Jt<ut;){mt=ct[Jt];var _r=x[mt],an=U[mt];if(J)var jd=ze?J(an,_r,mt,U,x,de):J(_r,an,mt,x,U,de);if(!(jd===void 0?_r===an||Pe(_r,an,V,J,de):jd)){Vt=!1;break}Ur||(Ur=mt=="constructor")}if(Vt&&!Ur){var Ii=x.constructor,Oi=U.constructor;Ii!=Oi&&"constructor"in x&&"constructor"in U&&!(typeof Ii=="function"&&Ii instanceof Ii&&typeof Oi=="function"&&Oi instanceof Oi)&&(Vt=!1)}return de.delete(x),de.delete(U),Vt}function Pd(x){return s2(x,S2,b2)}function Ei(x,U){var V=x.__data__;return g2(U)?V[typeof U=="string"?"string":"hash"]:V.map}function Nn(x,U){var V=ye(x,U);return c2(V)?V:void 0}function u2(x){var U=ie.call(x,Dt),V=x[Dt];try{x[Dt]=void 0;var J=!0}catch{}var Pe=Ie.call(x);return J&&(U?x[Dt]=V:delete x[Dt]),Pe}var b2=tn?function(x){return x==null?[]:(x=Object(x),pe(tn(x),function(U){return nr.call(x,U)}))}:I2,Lr=ua;(qe&&Lr(new qe(new ArrayBuffer(1)))!=D||Be&&Lr(new Be)!=O||Ve&&Lr(Ve.resolve())!=v||Ke&&Lr(new Ke)!=b||Ge&&Lr(new Ge)!=E)&&(Lr=function(x){var U=ua(x),V=U==_?x.constructor:void 0,J=V?nn(V):"";if(J)switch(J){case tt:return D;case rt:return O;case nt:return v;case at:return b;case it:return E}return U});function p2(x,U){return U=U??s,!!U&&(typeof x=="number"||Q.test(x))&&x>-1&&x%1==0&&x<U}function g2(x){var U=typeof x;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?x!=="__proto__":x===null}function y2(x){return!!ve&&ve in x}function m2(x){var U=x&&x.constructor,V=typeof U=="function"&&U.prototype||ae;return x===V}function w2(x){return Ie.call(x)}function nn(x){if(x!=null){try{return me.call(x)}catch{}try{return x+""}catch{}}return""}function Ld(x,U){return x===U||x!==x&&U!==U}var _2=kd(function(){return arguments}())?kd:function(x){return ba(x)&&ie.call(x,"callee")&&!nr.call(x,"callee")},Si=Array.isArray;function v2(x){return x!=null&&Dd(x.length)&&!Ud(x)}var js=la||O2;function E2(x,U){return Cd(x,U)}function Ud(x){if(!Md(x))return!1;var U=ua(x);return U==g||U==I||U==f||U==w}function Dd(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=s}function Md(x){var U=typeof x;return x!=null&&(U=="object"||U=="function")}function ba(x){return x!=null&&typeof x=="object"}var Bd=oe?Me(oe):d2;function S2(x){return v2(x)?i2(x):f2(x)}function I2(){return[]}function O2(){return!1}e.exports=E2})(Zi,Zi.exports);var k4=Zi.exports;const C4=os(k4);function R4(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var a=0;a<e.length;a++){var i=e.charAt(a),s=i.charCodeAt(0);if(r[s]!==255)throw new TypeError(i+" is ambiguous");r[s]=a}var o=e.length,d=e.charAt(0),f=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function p(I){if(I instanceof Uint8Array||(ArrayBuffer.isView(I)?I=new Uint8Array(I.buffer,I.byteOffset,I.byteLength):Array.isArray(I)&&(I=Uint8Array.from(I))),!(I instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(I.length===0)return"";for(var O=0,T=0,C=0,_=I.length;C!==_&&I[C]===0;)C++,O++;for(var v=(_-C)*h+1>>>0,w=new Uint8Array(v);C!==_;){for(var A=I[C],b=0,c=v-1;(A!==0||b<T)&&c!==-1;c--,b++)A+=256*w[c]>>>0,w[c]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");T=b,C++}for(var u=v-T;u!==v&&w[u]===0;)u++;for(var R=d.repeat(O);u<v;++u)R+=e.charAt(w[u]);return R}function y(I){if(typeof I!="string")throw new TypeError("Expected String");if(I.length===0)return new Uint8Array;var O=0;if(I[O]!==" "){for(var T=0,C=0;I[O]===d;)T++,O++;for(var _=(I.length-O)*f+1>>>0,v=new Uint8Array(_);I[O];){var w=r[I.charCodeAt(O)];if(w===255)return;for(var A=0,b=_-1;(w!==0||A<C)&&b!==-1;b--,A++)w+=o*v[b]>>>0,v[b]=w%256>>>0,w=w/256>>>0;if(w!==0)throw new Error("Non-zero carry");C=A,O++}if(I[O]!==" "){for(var c=_-C;c!==_&&v[c]===0;)c++;for(var u=new Uint8Array(T+(_-c)),R=T;c!==_;)u[R++]=v[c++];return u}}}function g(I){var O=y(I);if(O)return O;throw new Error(`Non-${t} character`)}return{encode:p,decodeUnsafe:y,decode:g}}var P4=R4,L4=P4;const Pl=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},U4=e=>new TextEncoder().encode(e),D4=e=>new TextDecoder().decode(e);class M4{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}}class B4{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Ll(this,t)}}class j4{constructor(t){this.decoders=t}or(t){return Ll(this,t)}decode(t){const r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Ll=(e,t)=>new j4({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}});class z4{constructor(t,r,n,a){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=a,this.encoder=new M4(t,r,n),this.decoder=new B4(t,r,a)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}}const _s=({name:e,prefix:t,encode:r,decode:n})=>new z4(e,t,r,n),ii=({prefix:e,name:t,alphabet:r})=>{const{encode:n,decode:a}=L4(r,t);return _s({prefix:e,name:t,encode:n,decode:i=>Pl(a(i))})},$4=(e,t,r,n)=>{const a={};for(let h=0;h<t.length;++h)a[t[h]]=h;let i=e.length;for(;e[i-1]==="=";)--i;const s=new Uint8Array(i*r/8|0);let o=0,d=0,f=0;for(let h=0;h<i;++h){const p=a[e[h]];if(p===void 0)throw new SyntaxError(`Non-${n} character`);d=d<<r|p,o+=r,o>=8&&(o-=8,s[f++]=255&d>>o)}if(o>=r||255&d<<8-o)throw new SyntaxError("Unexpected end of data");return s},F4=(e,t,r)=>{const n=t[t.length-1]==="=",a=(1<<r)-1;let i="",s=0,o=0;for(let d=0;d<e.length;++d)for(o=o<<8|e[d],s+=8;s>r;)s-=r,i+=t[a&o>>s];if(s&&(i+=t[a&o<<r-s]),n)for(;i.length*r&7;)i+="=";return i},yt=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>_s({prefix:t,name:e,encode(a){return F4(a,n,r)},decode(a){return $4(a,n,r,e)}}),H4=_s({prefix:"\0",name:"identity",encode:e=>D4(e),decode:e=>U4(e)});var q4=Object.freeze({__proto__:null,identity:H4});const V4=yt({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var K4=Object.freeze({__proto__:null,base2:V4});const G4=yt({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var W4=Object.freeze({__proto__:null,base8:G4});const Y4=ii({prefix:"9",name:"base10",alphabet:"0123456789"});var Z4=Object.freeze({__proto__:null,base10:Y4});const X4=yt({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),J4=yt({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Q4=Object.freeze({__proto__:null,base16:X4,base16upper:J4});const ep=yt({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),tp=yt({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),rp=yt({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),np=yt({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ap=yt({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ip=yt({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),sp=yt({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),op=yt({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),cp=yt({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var dp=Object.freeze({__proto__:null,base32:ep,base32upper:tp,base32pad:rp,base32padupper:np,base32hex:ap,base32hexupper:ip,base32hexpad:sp,base32hexpadupper:op,base32z:cp});const fp=ii({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),hp=ii({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var lp=Object.freeze({__proto__:null,base36:fp,base36upper:hp});const up=ii({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),bp=ii({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var pp=Object.freeze({__proto__:null,base58btc:up,base58flickr:bp});const gp=yt({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),yp=yt({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),mp=yt({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),wp=yt({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var _p=Object.freeze({__proto__:null,base64:gp,base64pad:yp,base64url:mp,base64urlpad:wp});const Ul=Array.from(""),vp=Ul.reduce((e,t,r)=>(e[r]=t,e),[]),Ep=Ul.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Sp(e){return e.reduce((t,r)=>(t+=vp[r],t),"")}function Ip(e){const t=[];for(const r of e){const n=Ep[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}const Op=_s({prefix:"",name:"base256emoji",encode:Sp,decode:Ip});var xp=Object.freeze({__proto__:null,base256emoji:Op}),Ap=Dl,Yf=128,Tp=127,Np=~Tp,kp=Math.pow(2,31);function Dl(e,t,r){t=t||[],r=r||0;for(var n=r;e>=kp;)t[r++]=e&255|Yf,e/=128;for(;e&Np;)t[r++]=e&255|Yf,e>>>=7;return t[r]=e|0,Dl.bytes=r-n+1,t}var Cp=Lo,Rp=128,Zf=127;function Lo(e,n){var r=0,n=n||0,a=0,i=n,s,o=e.length;do{if(i>=o)throw Lo.bytes=0,new RangeError("Could not decode varint");s=e[i++],r+=a<28?(s&Zf)<<a:(s&Zf)*Math.pow(2,a),a+=7}while(s>=Rp);return Lo.bytes=i-n,r}var Pp=Math.pow(2,7),Lp=Math.pow(2,14),Up=Math.pow(2,21),Dp=Math.pow(2,28),Mp=Math.pow(2,35),Bp=Math.pow(2,42),jp=Math.pow(2,49),zp=Math.pow(2,56),$p=Math.pow(2,63),Fp=function(e){return e<Pp?1:e<Lp?2:e<Up?3:e<Dp?4:e<Mp?5:e<Bp?6:e<jp?7:e<zp?8:e<$p?9:10},Hp={encode:Ap,decode:Cp,encodingLength:Fp},Ml=Hp;const Xf=(e,t,r=0)=>(Ml.encode(e,t,r),t),Jf=e=>Ml.encodingLength(e),Uo=(e,t)=>{const r=t.byteLength,n=Jf(e),a=n+Jf(r),i=new Uint8Array(a+r);return Xf(e,i,0),Xf(r,i,n),i.set(t,a),new qp(e,r,t,i)};class qp{constructor(t,r,n,a){this.code=t,this.size=r,this.digest=n,this.bytes=a}}const Bl=({name:e,code:t,encode:r})=>new Vp(e,t,r);class Vp{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){const r=this.encode(t);return r instanceof Uint8Array?Uo(this.code,r):r.then(n=>Uo(this.code,n))}else throw Error("Unknown type, must be binary type")}}const jl=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),Kp=Bl({name:"sha2-256",code:18,encode:jl("SHA-256")}),Gp=Bl({name:"sha2-512",code:19,encode:jl("SHA-512")});var Wp=Object.freeze({__proto__:null,sha256:Kp,sha512:Gp});const zl=0,Yp="identity",$l=Pl,Zp=e=>Uo(zl,$l(e)),Xp={code:zl,name:Yp,encode:$l,digest:Zp};var Jp=Object.freeze({__proto__:null,identity:Xp});new TextEncoder,new TextDecoder;const Qf={...q4,...K4,...W4,...Z4,...Q4,...dp,...lp,...pp,..._p,...xp};({...Wp,...Jp});function Fl(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Qp(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?Fl(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function Hl(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}const eh=Hl("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Hs=Hl("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);const t=Qp(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),e9={utf8:eh,"utf-8":eh,hex:Qf.base16,latin1:Hs,ascii:Hs,binary:Hs,...Qf};function t9(e,t="utf8"){const r=e9[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?Fl(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}const ql="wc",r9=2,kc="core",Kr=`${ql}@2:${kc}:`,n9={name:kc,logger:"error"},a9={database:":memory:"},i9="crypto",th="client_ed25519_seed",s9=re.ONE_DAY,o9="keychain",c9="0.3",d9="messages",f9="0.3",h9=re.SIX_HOURS,l9="publisher",Vl="irn",u9="error",Kl="wss://relay.walletconnect.com",b9="relayer",$e={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},p9="_subscription",va={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},g9=re.ONE_SECOND/2,y9="2.8.1",m9=1e4,w9="0.3",_9="WALLETCONNECT_CLIENT_ID",cr={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},v9="subscription",E9="0.3",S9=re.FIVE_SECONDS*1e3,I9="pairing",O9="0.3",Ea={wc_pairingDelete:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:re.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:re.ONE_DAY,prompt:!1,tag:0},res:{ttl:re.ONE_DAY,prompt:!1,tag:0}}},ir={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},x9="history",A9="0.3",T9="expirer",Gt={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},N9="0.3",qs="verify-api",rh="https://verify.walletconnect.com";class k9{constructor(t,r){this.core=t,this.logger=r,this.keychain=new Map,this.name=o9,this.version=c9,this.initialized=!1,this.storagePrefix=Kr,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,a)=>{this.isInitialized(),this.keychain.set(n,a),await this.persist()},this.get=n=>{this.isInitialized();const a=this.keychain.get(n);if(typeof a>"u"){const{message:i}=X("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(i)}return a},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=t,this.logger=Se.generateChildLogger(r,this.name)}get context(){return Se.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setKeyChain(t){await this.core.storage.setItem(this.storageKey,_l(t))}async getKeyChain(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?vl(t):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}class C9{constructor(t,r,n){this.core=t,this.logger=r,this.name=i9,this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=a=>(this.isInitialized(),this.keychain.has(a)),this.getClientId=async()=>{this.isInitialized();const a=await this.getClientSeed(),i=Sf(a);return tl(i.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const a=t8();return this.setPrivateKey(a.publicKey,a.privateKey)},this.signJWT=async a=>{this.isInitialized();const i=await this.getClientSeed(),s=Sf(i),o=Ro();return await a3(o,a,s9,s)},this.generateSharedKey=(a,i,s)=>{this.isInitialized();const o=this.getPrivateKey(a),d=r8(o,i);return this.setSymKey(d,s)},this.setSymKey=async(a,i)=>{this.isInitialized();const s=i||n8(a);return await this.keychain.set(s,a),s},this.deleteKeyPair=async a=>{this.isInitialized(),await this.keychain.del(a)},this.deleteSymKey=async a=>{this.isInitialized(),await this.keychain.del(a)},this.encode=async(a,i,s)=>{this.isInitialized();const o=yl(s),d=lc(i);if(Lf(o)){const y=o.senderPublicKey,g=o.receiverPublicKey;a=await this.generateSharedKey(y,g)}const f=this.getSymKey(a),{type:h,senderPublicKey:p}=o;return i8({type:h,symKey:f,message:d,senderPublicKey:p})},this.decode=async(a,i,s)=>{this.isInitialized();const o=c8(i,s);if(Lf(o)){const h=o.receiverPublicKey,p=o.senderPublicKey;a=await this.generateSharedKey(h,p)}const d=this.getSymKey(a),f=s8({symKey:d,encoded:i});return z0(f)},this.getPayloadType=a=>{const i=Wi(a);return ni(i.type)},this.getPayloadSenderPublicKey=a=>{const i=Wi(a);return i.senderPublicKey?Nt(i.senderPublicKey,Tt):void 0},this.core=t,this.logger=Se.generateChildLogger(r,this.name),this.keychain=n||new k9(this.core,this.logger)}get context(){return Se.getLoggerContext(this.logger)}async setPrivateKey(t,r){return await this.keychain.set(t,r),t}getPrivateKey(t){return this.keychain.get(t)}async getClientSeed(){let t="";try{t=this.keychain.get(th)}catch{t=Ro(),await this.keychain.set(th,t)}return t9(t,"base16")}getSymKey(t){return this.keychain.get(t)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}class R9 extends o5{constructor(t,r){super(t,r),this.logger=t,this.core=r,this.messages=new Map,this.name=d9,this.version=f9,this.initialized=!1,this.storagePrefix=Kr,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,a)=>{this.isInitialized();const i=qn(a);let s=this.messages.get(n);return typeof s>"u"&&(s={}),typeof s[i]<"u"||(s[i]=a,this.messages.set(n,s),await this.persist()),i},this.get=n=>{this.isInitialized();let a=this.messages.get(n);return typeof a>"u"&&(a={}),a},this.has=(n,a)=>{this.isInitialized();const i=this.get(n),s=qn(a);return typeof i[s]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=Se.generateChildLogger(t,this.name),this.core=r}get context(){return Se.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}async setRelayerMessages(t){await this.core.storage.setItem(this.storageKey,_l(t))}async getRelayerMessages(){const t=await this.core.storage.getItem(this.storageKey);return typeof t<"u"?vl(t):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}class P9 extends c5{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.events=new Ft.EventEmitter,this.name=l9,this.queue=new Map,this.publishTimeout=1e4,this.publish=async(n,a,i)=>{this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:a,opts:i}});try{const s=(i==null?void 0:i.ttl)||h9,o=Po(i),d=(i==null?void 0:i.prompt)||!1,f=(i==null?void 0:i.tag)||0,h=(i==null?void 0:i.id)||Tc().toString(),p={topic:n,message:a,opts:{ttl:s,relay:o,prompt:d,tag:f,id:h}};this.queue.set(h,p);try{await await Yi(this.rpcPublish(n,a,s,o,d,f,h),this.publishTimeout),this.relayer.events.emit($e.publish,p)}catch{this.logger.debug("Publishing Payload stalled"),this.relayer.events.emit($e.connection_stalled);return}this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:a,opts:i}})}catch(s){throw this.logger.debug("Failed to Publish Payload"),this.logger.error(s),s}},this.on=(n,a)=>{this.events.on(n,a)},this.once=(n,a)=>{this.events.once(n,a)},this.off=(n,a)=>{this.events.off(n,a)},this.removeListener=(n,a)=>{this.events.removeListener(n,a)},this.relayer=t,this.logger=Se.generateChildLogger(r,this.name),this.registerEventListeners()}get context(){return Se.getLoggerContext(this.logger)}rpcPublish(t,r,n,a,i,s,o){var d,f,h,p;const y={method:zi(a.protocol).publish,params:{topic:t,message:r,ttl:n,prompt:i,tag:s},id:o};return xt((d=y.params)==null?void 0:d.prompt)&&((f=y.params)==null||delete f.prompt),xt((h=y.params)==null?void 0:h.tag)&&((p=y.params)==null||delete p.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:y}),this.relayer.request(y)}onPublish(t){this.queue.delete(t)}checkQueue(){this.queue.forEach(async t=>{const{topic:r,message:n,opts:a}=t;await this.publish(r,n,a)})}registerEventListeners(){this.relayer.core.heartbeat.on(ei.HEARTBEAT_EVENTS.pulse,()=>{this.checkQueue()}),this.relayer.on($e.message_ack,t=>{this.onPublish(t.id.toString())})}}class L9{constructor(){this.map=new Map,this.set=(t,r)=>{const n=this.get(t);this.exists(t,r)||this.map.set(t,[...n,r])},this.get=t=>this.map.get(t)||[],this.exists=(t,r)=>this.get(t).includes(r),this.delete=(t,r)=>{if(typeof r>"u"){this.map.delete(t);return}if(!this.map.has(t))return;const n=this.get(t);if(!this.exists(t,r))return;const a=n.filter(i=>i!==r);if(!a.length){this.map.delete(t);return}this.map.set(t,a)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var U9=Object.defineProperty,D9=Object.defineProperties,M9=Object.getOwnPropertyDescriptors,nh=Object.getOwnPropertySymbols,B9=Object.prototype.hasOwnProperty,j9=Object.prototype.propertyIsEnumerable,ah=(e,t,r)=>t in e?U9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sa=(e,t)=>{for(var r in t||(t={}))B9.call(t,r)&&ah(e,r,t[r]);if(nh)for(var r of nh(t))j9.call(t,r)&&ah(e,r,t[r]);return e},Vs=(e,t)=>D9(e,M9(t));class z9 extends h5{constructor(t,r){super(t,r),this.relayer=t,this.logger=r,this.subscriptions=new Map,this.topicMap=new L9,this.events=new Ft.EventEmitter,this.name=v9,this.version=E9,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=Kr,this.subscribeTimeout=1e4,this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restart(),this.registerEventListeners(),this.onEnable(),this.clientId=await this.relayer.core.crypto.getClientId())},this.subscribe=async(n,a)=>{await this.restartToComplete(),this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:a}});try{const i=Po(a),s={topic:n,relay:i};this.pending.set(n,s);const o=await this.rpcSubscribe(n,i);return this.onSubscribe(o,s),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:a}}),o}catch(i){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(i),i}},this.unsubscribe=async(n,a)=>{await this.restartToComplete(),this.isInitialized(),typeof(a==null?void 0:a.id)<"u"?await this.unsubscribeById(n,a.id,a):await this.unsubscribeByTopic(n,a)},this.isSubscribed=async n=>this.topics.includes(n)?!0:await new Promise((a,i)=>{const s=new re.Watch;s.start(this.pendingSubscriptionWatchLabel);const o=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(o),s.stop(this.pendingSubscriptionWatchLabel),a(!0)),s.elapsed(this.pendingSubscriptionWatchLabel)>=S9&&(clearInterval(o),s.stop(this.pendingSubscriptionWatchLabel),i(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1),this.on=(n,a)=>{this.events.on(n,a)},this.once=(n,a)=>{this.events.once(n,a)},this.off=(n,a)=>{this.events.off(n,a)},this.removeListener=(n,a)=>{this.events.removeListener(n,a)},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=t,this.logger=Se.generateChildLogger(r,this.name),this.clientId=""}get context(){return Se.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(t,r){let n=!1;try{n=this.getSubscription(t).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(t,r){const n=this.topicMap.get(t);await Promise.all(n.map(async a=>await this.unsubscribeById(t,a,r)))}async unsubscribeById(t,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}});try{const a=Po(n);await this.rpcUnsubscribe(t,r,a);const i=Qe("USER_DISCONNECTED",`${this.name}, ${t}`);await this.onUnsubscribe(t,r,i),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:t,id:r,opts:n}})}catch(a){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(a),a}}async rpcSubscribe(t,r){const n={method:zi(r.protocol).subscribe,params:{topic:t}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await Yi(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit($e.connection_stalled)}return qn(t+this.clientId)}async rpcBatchSubscribe(t){if(!t.length)return;const r=t[0].relay,n={method:zi(r.protocol).batchSubscribe,params:{topics:t.map(a=>a.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await Yi(this.relayer.request(n),this.subscribeTimeout)}catch{this.logger.debug("Outgoing Relay Payload stalled"),this.relayer.events.emit($e.connection_stalled)}}rpcUnsubscribe(t,r,n){const a={method:zi(n.protocol).unsubscribe,params:{topic:t,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a}),this.relayer.request(a)}onSubscribe(t,r){this.setSubscription(t,Vs(Sa({},r),{id:t})),this.pending.delete(r.topic)}onBatchSubscribe(t){t.length&&t.forEach(r=>{this.setSubscription(r.id,Sa({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(t,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,t)&&this.deleteSubscription(r,n),await this.relayer.messages.del(t)}async setRelayerSubscriptions(t){await this.relayer.core.storage.setItem(this.storageKey,t)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(t,r){this.subscriptions.has(t)||(this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:t,subscription:r}),this.addSubscription(t,r))}addSubscription(t,r){this.subscriptions.set(t,Sa({},r)),this.topicMap.set(r.topic,t),this.events.emit(cr.created,r)}getSubscription(t){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:t});const r=this.subscriptions.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}deleteSubscription(t,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:t,reason:r});const n=this.getSubscription(t);this.subscriptions.delete(t),this.topicMap.delete(n.topic,t),this.events.emit(cr.deleted,Vs(Sa({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(cr.sync)}async reset(){if(this.cached.length){const t=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<t;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(n)}}this.events.emit(cr.resubscribed)}async restore(){try{const t=await this.getRelayerSubscriptions();if(typeof t>"u"||!t.length)return;if(this.subscriptions.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(t){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(t)}}async batchSubscribe(t){if(!t.length)return;const r=await this.rpcBatchSubscribe(t);ai(r)&&this.onBatchSubscribe(r.map((n,a)=>Vs(Sa({},t[a]),{id:n})))}async onConnect(){this.restartInProgress||(await this.restart(),this.onEnable())}onDisconnect(){this.onDisable()}async checkPending(){if(this.relayer.transportExplicitlyClosed)return;const t=[];this.pending.forEach(r=>{t.push(r)}),await this.batchSubscribe(t)}registerEventListeners(){this.relayer.core.heartbeat.on(ei.HEARTBEAT_EVENTS.pulse,async()=>{await this.checkPending()}),this.relayer.on($e.connect,async()=>{await this.onConnect()}),this.relayer.on($e.disconnect,()=>{this.onDisconnect()}),this.events.on(cr.created,async t=>{const r=cr.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()}),this.events.on(cr.deleted,async t=>{const r=cr.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async restartToComplete(){this.restartInProgress&&await new Promise(t=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),t())},this.pollingInterval)})}}var $9=Object.defineProperty,ih=Object.getOwnPropertySymbols,F9=Object.prototype.hasOwnProperty,H9=Object.prototype.propertyIsEnumerable,sh=(e,t,r)=>t in e?$9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,q9=(e,t)=>{for(var r in t||(t={}))F9.call(t,r)&&sh(e,r,t[r]);if(ih)for(var r of ih(t))H9.call(t,r)&&sh(e,r,t[r]);return e};class V9 extends d5{constructor(t){super(t),this.protocol="wc",this.version=2,this.events=new Ft.EventEmitter,this.name=b9,this.transportExplicitlyClosed=!1,this.initialized=!1,this.reconnecting=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","socket stalled"],this.request=async r=>{this.logger.debug("Publishing Request Payload");try{return await this.toEstablishConnection(),await this.provider.request(r)}catch(n){throw this.logger.debug("Failed to Publish Request"),this.logger.error(n),n}},this.core=t.core,this.logger=typeof t.logger<"u"&&typeof t.logger!="string"?Se.generateChildLogger(t.logger,this.name):Se.pino(Se.getDefaultLoggerOptions({level:t.logger||u9})),this.messages=new R9(this.logger,t.core),this.subscriber=new z9(this,this.logger),this.publisher=new P9(this,this.logger),this.relayUrl=(t==null?void 0:t.relayUrl)||Kl,this.projectId=t.projectId,this.provider={}}async init(){this.logger.trace("Initialized"),await this.createProvider(),await Promise.all([this.messages.init(),this.transportOpen(),this.subscriber.init()]),this.registerEventListeners(),this.initialized=!0,setTimeout(async()=>{this.subscriber.topics.length===0&&(this.logger.info("No topics subscribted to after init, closing transport"),await this.transportClose(),this.transportExplicitlyClosed=!1)},m9)}get context(){return Se.getLoggerContext(this.logger)}get connected(){return this.provider.connection.connected}get connecting(){return this.provider.connection.connecting}async publish(t,r,n){this.isInitialized(),await this.publisher.publish(t,r,n),await this.recordMessageEvent({topic:t,message:r,publishedAt:Date.now()})}async subscribe(t,r){var n;this.isInitialized();let a=((n=this.subscriber.topicMap.get(t))==null?void 0:n[0])||"";return a||(await Promise.all([new Promise(i=>{this.subscriber.once(cr.created,s=>{s.topic===t&&i()})}),new Promise(async i=>{a=await this.subscriber.subscribe(t,r),i()})]),a)}async unsubscribe(t,r){this.isInitialized(),await this.subscriber.unsubscribe(t,r)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async transportClose(){this.transportExplicitlyClosed=!0,this.connected&&(await this.provider.disconnect(),this.events.emit($e.transport_closed))}async transportOpen(t){if(this.transportExplicitlyClosed=!1,!this.reconnecting){this.relayUrl=t||this.relayUrl,this.reconnecting=!0;try{await Promise.all([new Promise(r=>{this.initialized||r(),this.subscriber.once(cr.resubscribed,()=>{r()})}),await Promise.race([new Promise(async(r,n)=>{await Yi(this.provider.connect(),5e3,"socket stalled").catch(a=>n(a)).then(()=>r()).finally(()=>this.removeListener($e.transport_closed,this.rejectTransportOpen))}),new Promise(r=>this.once($e.transport_closed,this.rejectTransportOpen))])])}catch(r){this.logger.error(r);const n=r;if(!this.isConnectionStalled(n.message))throw r;this.events.emit($e.transport_closed)}finally{this.reconnecting=!1}}}async restartTransport(t){this.transportExplicitlyClosed||this.reconnecting||(this.relayUrl=t||this.relayUrl,this.connected&&await Promise.all([new Promise(r=>{this.provider.once(va.disconnect,()=>{r()})}),this.transportClose()]),await this.createProvider(),await this.transportOpen())}isConnectionStalled(t){return this.staleConnectionErrors.some(r=>t.includes(r))}rejectTransportOpen(){throw new Error("closeTransport called before connection was established")}async createProvider(){const t=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Rl(new N4(w8({sdkVersion:y9,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:t,useOnCloseEvent:!0}))),this.registerProviderListeners()}async recordMessageEvent(t){const{topic:r,message:n}=t;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(t){const{topic:r,message:n}=t;return await this.subscriber.isSubscribed(r)?this.messages.has(r,n):!0}async onProviderPayload(t){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:t}),Nc(t)){if(!t.method.endsWith(p9))return;const r=t.params,{topic:n,message:a,publishedAt:i}=r.data,s={topic:n,message:a,publishedAt:i};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(q9({type:"event",event:r.id},s)),this.events.emit(r.id,s),await this.acknowledgePayload(t),await this.onMessageEvent(s)}else ws(t)&&this.events.emit($e.message_ack,t)}async onMessageEvent(t){await this.shouldIgnoreMessageEvent(t)||(this.events.emit($e.message,t),await this.recordMessageEvent(t))}async acknowledgePayload(t){const r=ys(t.id,!0);await this.provider.connection.send(r)}registerProviderListeners(){this.provider.on(va.payload,t=>this.onProviderPayload(t)),this.provider.on(va.connect,()=>{this.events.emit($e.connect)}),this.provider.on(va.disconnect,()=>{this.onProviderDisconnect()}),this.provider.on(va.error,t=>{this.logger.error(t),this.events.emit($e.error,t)})}registerEventListeners(){this.events.on($e.connection_stalled,async()=>{await this.restartTransport()})}onProviderDisconnect(){this.events.emit($e.disconnect),this.attemptToReconnect()}attemptToReconnect(){this.transportExplicitlyClosed||setTimeout(async()=>{await this.restartTransport()},re.toMiliseconds(g9))}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}async toEstablishConnection(){if(!this.connected){if(this.connecting)return await new Promise(t=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),t())},this.connectionStatusPollingInterval)});await this.restartTransport()}}}var K9=Object.defineProperty,oh=Object.getOwnPropertySymbols,G9=Object.prototype.hasOwnProperty,W9=Object.prototype.propertyIsEnumerable,ch=(e,t,r)=>t in e?K9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dh=(e,t)=>{for(var r in t||(t={}))G9.call(t,r)&&ch(e,r,t[r]);if(oh)for(var r of oh(t))W9.call(t,r)&&ch(e,r,t[r]);return e};class vs extends f5{constructor(t,r,n,a=Kr,i=void 0){super(t,r,n,a),this.core=t,this.logger=r,this.name=n,this.map=new Map,this.version=w9,this.cached=[],this.initialized=!1,this.storagePrefix=Kr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(s=>{this.getKey&&s!==null&&!xt(s)?this.map.set(this.getKey(s),s):F8(s)?this.map.set(s.id,s):H8(s)&&this.map.set(s.topic,s)}),this.cached=[],this.initialized=!0)},this.set=async(s,o)=>{this.isInitialized(),this.map.has(s)?await this.update(s,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:s,value:o}),this.map.set(s,o),await this.persist())},this.get=s=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:s}),this.getData(s)),this.getAll=s=>(this.isInitialized(),s?this.values.filter(o=>Object.keys(s).every(d=>C4(o[d],s[d]))):this.values),this.update=async(s,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:s,update:o});const d=dh(dh({},this.getData(s)),o);this.map.set(s,d),await this.persist()},this.delete=async(s,o)=>{this.isInitialized(),this.map.has(s)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:s,reason:o}),this.map.delete(s),await this.persist())},this.logger=Se.generateChildLogger(r,this.name),this.storagePrefix=a,this.getKey=i}get context(){return Se.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}async setDataStore(t){await this.core.storage.setItem(this.storageKey,t)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(t){const r=this.map.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const t=await this.getDataStore();if(typeof t>"u"||!t.length)return;if(this.map.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(t){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(t)}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}class Y9{constructor(t,r){this.core=t,this.logger=r,this.name=I9,this.version=O9,this.events=new P0,this.initialized=!1,this.storagePrefix=Kr,this.ignoredPayloadTypes=[xn],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async()=>{this.isInitialized();const n=Ro(),a=await this.core.crypto.setSymKey(n),i=dr(re.FIVE_MINUTES),s={protocol:Vl},o={topic:a,expiry:i,relay:s,active:!1},d=R8({protocol:this.core.protocol,version:this.core.version,topic:a,symKey:n,relay:s});return await this.pairings.set(a,o),await this.core.relayer.subscribe(a),this.core.expirer.set(a,i),{topic:a,uri:d}},this.pair=async n=>{this.isInitialized(),this.isValidPair(n);const{topic:a,symKey:i,relay:s}=N8(n.uri);if(this.pairings.keys.includes(a))throw new Error(`Pairing already exists: ${a}`);if(this.core.crypto.hasKeys(a))throw new Error(`Keychain already exists: ${a}`);const o=dr(re.FIVE_MINUTES),d={topic:a,relay:s,expiry:o,active:!1};return await this.pairings.set(a,d),await this.core.crypto.setSymKey(i,a),await this.core.relayer.subscribe(a,{relay:s}),this.core.expirer.set(a,o),n.activatePairing&&await this.activate({topic:a}),d},this.activate=async({topic:n})=>{this.isInitialized();const a=dr(re.THIRTY_DAYS);await this.pairings.update(n,{active:!0,expiry:a}),this.core.expirer.set(n,a)},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:a}=n;if(this.pairings.keys.includes(a)){const i=await this.sendRequest(a,"wc_pairingPing",{}),{done:s,resolve:o,reject:d}=Mn();this.events.once(Ye("pairing_ping",i),({error:f})=>{f?d(f):o()}),await s()}},this.updateExpiry=async({topic:n,expiry:a})=>{this.isInitialized(),await this.pairings.update(n,{expiry:a})},this.updateMetadata=async({topic:n,metadata:a})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:a})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:a}=n;this.pairings.keys.includes(a)&&(await this.sendRequest(a,"wc_pairingDelete",Qe("USER_DISCONNECTED")),await this.deletePairing(a))},this.sendRequest=async(n,a,i)=>{const s=gs(a,i),o=await this.core.crypto.encode(n,s),d=Ea[a].req;return this.core.history.set(n,s),this.core.relayer.publish(n,o,d),s.id},this.sendResult=async(n,a,i)=>{const s=ys(n,i),o=await this.core.crypto.encode(a,s),d=await this.core.history.get(a,n),f=Ea[d.request.method].res;await this.core.relayer.publish(a,o,f),await this.core.history.resolve(s)},this.sendError=async(n,a,i)=>{const s=ms(n,i),o=await this.core.crypto.encode(a,s),d=await this.core.history.get(a,n),f=Ea[d.request.method]?Ea[d.request.method].res:Ea.unregistered_method.res;await this.core.relayer.publish(a,o,f),await this.core.history.resolve(s)},this.deletePairing=async(n,a)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Qe("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),a?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(a=>Br(a.expiry));await Promise.all(n.map(a=>this.deletePairing(a.topic)))},this.onRelayEventRequest=n=>{const{topic:a,payload:i}=n,s=i.method;if(this.pairings.keys.includes(a))switch(s){case"wc_pairingPing":return this.onPairingPingRequest(a,i);case"wc_pairingDelete":return this.onPairingDeleteRequest(a,i);default:return this.onUnknownRpcMethodRequest(a,i)}},this.onRelayEventResponse=async n=>{const{topic:a,payload:i}=n,s=(await this.core.history.get(a,i.id)).request.method;if(this.pairings.keys.includes(a))switch(s){case"wc_pairingPing":return this.onPairingPingResponse(a,i);default:return this.onUnknownRpcMethodResponse(s)}},this.onPairingPingRequest=async(n,a)=>{const{id:i}=a;try{this.isValidPing({topic:n}),await this.sendResult(i,n,!0),this.events.emit("pairing_ping",{id:i,topic:n})}catch(s){await this.sendError(i,n,s),this.logger.error(s)}},this.onPairingPingResponse=(n,a)=>{const{id:i}=a;setTimeout(()=>{Or(a)?this.events.emit(Ye("pairing_ping",i),{}):Qt(a)&&this.events.emit(Ye("pairing_ping",i),{error:a.error})},500)},this.onPairingDeleteRequest=async(n,a)=>{const{id:i}=a;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit("pairing_delete",{id:i,topic:n})}catch(s){await this.sendError(i,n,s),this.logger.error(s)}},this.onUnknownRpcMethodRequest=async(n,a)=>{const{id:i,method:s}=a;try{if(this.registeredMethods.includes(s))return;const o=Qe("WC_METHOD_UNSUPPORTED",s);await this.sendError(i,n,o),this.logger.error(o)}catch(o){await this.sendError(i,n,o),this.logger.error(o)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Qe("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=n=>{if(!kt(n)){const{message:a}=X("MISSING_OR_INVALID",`pair() params: ${n}`);throw new Error(a)}if(!$8(n.uri)){const{message:a}=X("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw new Error(a)}},this.isValidPing=async n=>{if(!kt(n)){const{message:i}=X("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:a}=n;await this.isValidPairingTopic(a)},this.isValidDisconnect=async n=>{if(!kt(n)){const{message:i}=X("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:a}=n;await this.isValidPairingTopic(a)},this.isValidPairingTopic=async n=>{if(!ht(n,!1)){const{message:a}=X("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(a)}if(!this.pairings.keys.includes(n)){const{message:a}=X("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(a)}if(Br(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:a}=X("EXPIRED",`pairing topic: ${n}`);throw new Error(a)}},this.core=t,this.logger=Se.generateChildLogger(r,this.name),this.pairings=new vs(this.core,this.logger,this.name,this.storagePrefix)}get context(){return Se.getLoggerContext(this.logger)}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.core.relayer.on($e.message,async t=>{const{topic:r,message:n}=t;if(this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const a=await this.core.crypto.decode(r,n);Nc(a)?(this.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a})):ws(a)&&(await this.core.history.resolve(a),this.onRelayEventResponse({topic:r,payload:a}))})}registerExpirerEvents(){this.core.expirer.on(Gt.expired,async t=>{const{topic:r}=Sl(t.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit("pairing_expire",{topic:r}))})}}class Z9 extends s5{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.records=new Map,this.events=new Ft.EventEmitter,this.name=x9,this.version=A9,this.cached=[],this.initialized=!1,this.storagePrefix=Kr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,a,i)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:a,chainId:i}),this.records.has(a.id))return;const s={id:a.id,topic:n,request:{method:a.method,params:a.params||null},chainId:i};this.records.set(s.id,s),this.events.emit(ir.created,s)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const a=await this.getRecord(n.id);typeof a.response>"u"&&(a.response=Qt(n)?{error:n.error}:{result:n.result},this.records.set(a.id,a),this.events.emit(ir.updated,a))},this.get=async(n,a)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:a}),await this.getRecord(a)),this.delete=(n,a)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:a}),this.values.forEach(i=>{if(i.topic===n){if(typeof a<"u"&&i.id!==a)return;this.records.delete(i.id),this.events.emit(ir.deleted,i)}})},this.exists=async(n,a)=>(this.isInitialized(),this.records.has(a)?(await this.getRecord(a)).topic===n:!1),this.on=(n,a)=>{this.events.on(n,a)},this.once=(n,a)=>{this.events.once(n,a)},this.off=(n,a)=>{this.events.off(n,a)},this.removeListener=(n,a)=>{this.events.removeListener(n,a)},this.logger=Se.generateChildLogger(r,this.name)}get context(){return Se.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const t=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:gs(r.request.method,r.request.params,r.id),chainId:r.chainId};return t.push(n)}),t}async setJsonRpcRecords(t){await this.core.storage.setItem(this.storageKey,t)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(t){this.isInitialized();const r=this.records.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(ir.sync)}async restore(){try{const t=await this.getJsonRpcRecords();if(typeof t>"u"||!t.length)return;if(this.records.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(t){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(t)}}registerEventListeners(){this.events.on(ir.created,t=>{const r=ir.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(ir.updated,t=>{const r=ir.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()}),this.events.on(ir.deleted,t=>{const r=ir.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}class X9 extends l5{constructor(t,r){super(t,r),this.core=t,this.logger=r,this.expirations=new Map,this.events=new Ft.EventEmitter,this.name=T9,this.version=N9,this.cached=[],this.initialized=!1,this.storagePrefix=Kr,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const a=this.formatTarget(n);return typeof this.getExpiration(a)<"u"}catch{return!1}},this.set=(n,a)=>{this.isInitialized();const i=this.formatTarget(n),s={target:i,expiry:a};this.expirations.set(i,s),this.checkExpiry(i,s),this.events.emit(Gt.created,{target:i,expiration:s})},this.get=n=>{this.isInitialized();const a=this.formatTarget(n);return this.getExpiration(a)},this.del=n=>{if(this.isInitialized(),this.has(n)){const a=this.formatTarget(n),i=this.getExpiration(a);this.expirations.delete(a),this.events.emit(Gt.deleted,{target:a,expiration:i})}},this.on=(n,a)=>{this.events.on(n,a)},this.once=(n,a)=>{this.events.once(n,a)},this.off=(n,a)=>{this.events.off(n,a)},this.removeListener=(n,a)=>{this.events.removeListener(n,a)},this.logger=Se.generateChildLogger(r,this.name)}get context(){return Se.getLoggerContext(this.logger)}get storageKey(){return this.storagePrefix+this.version+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(t){if(typeof t=="string")return _8(t);if(typeof t=="number")return v8(t);const{message:r}=X("UNKNOWN_TYPE",`Target type: ${typeof t}`);throw new Error(r)}async setExpirations(t){await this.core.storage.setItem(this.storageKey,t)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Gt.sync)}async restore(){try{const t=await this.getExpirations();if(typeof t>"u"||!t.length)return;if(this.expirations.size){const{message:r}=X("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=t,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(t){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(t)}}getExpiration(t){const r=this.expirations.get(t);if(!r){const{message:n}=X("NO_MATCHING_KEY",`${this.name}: ${t}`);throw this.logger.error(n),new Error(n)}return r}checkExpiry(t,r){const{expiry:n}=r;re.toMiliseconds(n)-Date.now()<=0&&this.expire(t,r)}expire(t,r){this.expirations.delete(t),this.events.emit(Gt.expired,{target:t,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((t,r)=>this.checkExpiry(r,t))}registerEventListeners(){this.core.heartbeat.on(ei.HEARTBEAT_EVENTS.pulse,()=>this.checkExpirations()),this.events.on(Gt.created,t=>{const r=Gt.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Gt.expired,t=>{const r=Gt.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()}),this.events.on(Gt.deleted,t=>{const r=Gt.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:t}),this.persist()})}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}}class J9 extends u5{constructor(t,r){super(t,r),this.projectId=t,this.logger=r,this.name=qs,this.initialized=!1,this.init=async n=>{ml()||!Ic()||(this.verifyUrl=(n==null?void 0:n.verifyUrl)||rh,await this.createIframe())},this.register=async n=>{var a;this.initialized||await this.init(),this.iframe&&((a=this.iframe.contentWindow)==null||a.postMessage(n.attestationId,this.verifyUrl),this.logger.info(`postMessage sent: ${n.attestationId} ${this.verifyUrl}`))},this.resolve=async n=>{var a;if(this.isDevEnv)return"";this.logger.info(`resolving attestation: ${n.attestationId}`);const i=this.startAbortTimer(re.FIVE_SECONDS),s=await fetch(`${this.verifyUrl}/attestation/${n.attestationId}`,{signal:this.abortController.signal});return clearTimeout(i),s.status===200?(a=await s.json())==null?void 0:a.origin:""},this.createIframe=async()=>{try{await Promise.race([new Promise((n,a)=>{if(document.getElementById(qs))return n();const i=document.createElement("iframe");i.setAttribute("id",qs),i.setAttribute("src",`${this.verifyUrl}/${this.projectId}`),i.style.display="none",i.addEventListener("load",()=>{this.initialized=!0,n()}),i.addEventListener("error",s=>{a(s)}),document.body.append(i),this.iframe=i}),new Promise(n=>{setTimeout(()=>n("iframe load timeout"),re.toMiliseconds(re.ONE_SECOND/2))})])}catch(n){this.logger.error(`Verify iframe failed to load: ${this.verifyUrl}`),this.logger.error(n)}},this.logger=Se.generateChildLogger(r,this.name),this.verifyUrl=rh,this.abortController=new AbortController,this.isDevEnv=Sc()&&{}.IS_VITEST}get context(){return Se.getLoggerContext(this.logger)}startAbortTimer(t){return setTimeout(()=>this.abortController.abort(),re.toMiliseconds(t))}}var Q9=Object.defineProperty,fh=Object.getOwnPropertySymbols,e7=Object.prototype.hasOwnProperty,t7=Object.prototype.propertyIsEnumerable,hh=(e,t,r)=>t in e?Q9(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,lh=(e,t)=>{for(var r in t||(t={}))e7.call(t,r)&&hh(e,r,t[r]);if(fh)for(var r of fh(t))t7.call(t,r)&&hh(e,r,t[r]);return e};let r7=class Gl extends i5{constructor(t){super(t),this.protocol=ql,this.version=r9,this.name=kc,this.events=new Ft.EventEmitter,this.initialized=!1,this.on=(n,a)=>this.events.on(n,a),this.once=(n,a)=>this.events.once(n,a),this.off=(n,a)=>this.events.off(n,a),this.removeListener=(n,a)=>this.events.removeListener(n,a),this.projectId=t==null?void 0:t.projectId,this.relayUrl=(t==null?void 0:t.relayUrl)||Kl;const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Se.pino(Se.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||n9.logger}));this.logger=Se.generateChildLogger(r,this.name),this.heartbeat=new ei.HeartBeat,this.crypto=new C9(this,this.logger,t==null?void 0:t.keychain),this.history=new Z9(this,this.logger),this.expirer=new X9(this,this.logger),this.storage=t!=null&&t.storage?t.storage:new F2(lh(lh({},a9),t==null?void 0:t.storageOptions)),this.relayer=new V9({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new Y9(this,this.logger),this.verify=new J9(this.projectId||"",this.logger)}static async init(t){const r=new Gl(t);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(_9,n),r}get context(){return Se.getLoggerContext(this.logger)}async start(){this.initialized||await this.initialize()}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.initialized=!0,this.logger.info("Core Initialization Success")}catch(t){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,t),this.logger.error(t.message),t}}};const n7=r7,Wl="wc",Yl=2,Zl="client",Cc=`${Wl}@${Yl}:${Zl}:`,Ks={name:Zl,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.com"},a7="WALLETCONNECT_DEEPLINK_CHOICE",i7="proposal",s7="Proposal expired",o7="session",Ai=re.SEVEN_DAYS,c7="engine",Ia={wc_sessionPropose:{req:{ttl:re.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1101}},wc_sessionSettle:{req:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1104},res:{ttl:re.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1106},res:{ttl:re.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:re.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:re.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:re.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:re.ONE_DAY,prompt:!1,tag:1112},res:{ttl:re.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1114},res:{ttl:re.THIRTY_SECONDS,prompt:!1,tag:1115}}},Gs={min:re.FIVE_MINUTES,max:re.SEVEN_DAYS},d7="request",f7=["wc_sessionPropose","wc_sessionRequest","wc_authRequest"];var h7=Object.defineProperty,l7=Object.defineProperties,u7=Object.getOwnPropertyDescriptors,uh=Object.getOwnPropertySymbols,b7=Object.prototype.hasOwnProperty,p7=Object.prototype.propertyIsEnumerable,bh=(e,t,r)=>t in e?h7(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Kt=(e,t)=>{for(var r in t||(t={}))b7.call(t,r)&&bh(e,r,t[r]);if(uh)for(var r of uh(t))p7.call(t,r)&&bh(e,r,t[r]);return e},Ws=(e,t)=>l7(e,u7(t));class g7 extends p5{constructor(t){super(t),this.name=c7,this.events=new P0,this.initialized=!1,this.ignoredPayloadTypes=[xn],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.client.core.pairing.register({methods:Object.keys(Ia)}),this.initialized=!0)},this.connect=async r=>{this.isInitialized();const n=Ws(Kt({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:a,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:d}=n;let f=a,h,p=!1;if(f&&(p=this.client.core.pairing.pairings.get(f).active),!f||!p){const{topic:v,uri:w}=await this.client.core.pairing.create();f=v,h=w}const y=await this.client.core.crypto.generateKeyPair(),g=Kt({requiredNamespaces:i,optionalNamespaces:s,relays:d??[{protocol:Vl}],proposer:{publicKey:y,metadata:this.client.metadata}},o&&{sessionProperties:o}),{reject:I,resolve:O,done:T}=Mn(re.FIVE_MINUTES,s7);if(this.events.once(Ye("session_connect"),async({error:v,session:w})=>{if(v)I(v);else if(w){w.self.publicKey=y;const A=Ws(Kt({},w),{requiredNamespaces:w.requiredNamespaces,optionalNamespaces:w.optionalNamespaces});await this.client.session.set(w.topic,A),await this.setExpiry(w.topic,w.expiry),f&&await this.client.core.pairing.updateMetadata({topic:f,metadata:w.peer.metadata}),O(A)}}),!f){const{message:v}=X("NO_MATCHING_KEY",`connect() pairing topic: ${f}`);throw new Error(v)}const C=await this.sendRequest(f,"wc_sessionPropose",g),_=dr(re.FIVE_MINUTES);return await this.setProposal(C,Kt({id:C,expiry:_},g)),{uri:h,approval:T}},this.pair=async r=>(this.isInitialized(),await this.client.core.pairing.pair(r)),this.approve=async r=>{this.isInitialized(),await this.isValidApprove(r);const{id:n,relayProtocol:a,namespaces:i,sessionProperties:s}=r,o=this.client.proposal.get(n);let{pairingTopic:d,proposer:f,requiredNamespaces:h,optionalNamespaces:p}=o;d=d||"",Ra(h)||(h=D8(i,"approve()"));const y=await this.client.core.crypto.generateKeyPair(),g=f.publicKey,I=await this.client.core.crypto.generateSharedKey(y,g);d&&n&&(await this.client.core.pairing.updateMetadata({topic:d,metadata:f.metadata}),await this.sendResult(n,d,{relay:{protocol:a??"irn"},responderPublicKey:y}),await this.client.proposal.delete(n,Qe("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:d}));const O=Kt({relay:{protocol:a??"irn"},namespaces:i,requiredNamespaces:h,optionalNamespaces:p,pairingTopic:d,controller:{publicKey:y,metadata:this.client.metadata},expiry:dr(Ai)},s&&{sessionProperties:s});await this.client.core.relayer.subscribe(I),await this.sendRequest(I,"wc_sessionSettle",O);const T=Ws(Kt({},O),{topic:I,pairingTopic:d,acknowledged:!1,self:O.controller,peer:{publicKey:f.publicKey,metadata:f.metadata},controller:y});return await this.client.session.set(I,T),await this.setExpiry(I,dr(Ai)),{topic:I,acknowledged:()=>new Promise(C=>setTimeout(()=>C(this.client.session.get(I)),500))}},this.reject=async r=>{this.isInitialized(),await this.isValidReject(r);const{id:n,reason:a}=r,{pairingTopic:i}=this.client.proposal.get(n);i&&(await this.sendError(n,i,a),await this.client.proposal.delete(n,Qe("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.isValidUpdate(r);const{topic:n,namespaces:a}=r,i=await this.sendRequest(n,"wc_sessionUpdate",{namespaces:a}),{done:s,resolve:o,reject:d}=Mn();return this.events.once(Ye("session_update",i),({error:f})=>{f?d(f):o()}),await this.client.session.update(n,{namespaces:a}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.isValidExtend(r);const{topic:n}=r,a=await this.sendRequest(n,"wc_sessionExtend",{}),{done:i,resolve:s,reject:o}=Mn();return this.events.once(Ye("session_extend",a),({error:d})=>{d?o(d):s()}),await this.setExpiry(n,dr(Ai)),{acknowledged:i}},this.request=async r=>{this.isInitialized(),await this.isValidRequest(r);const{chainId:n,request:a,topic:i,expiry:s}=r,o=await this.sendRequest(i,"wc_sessionRequest",{request:a,chainId:n},s),{done:d,resolve:f,reject:h}=Mn(s);this.events.once(Ye("session_request",o),({error:y,result:g})=>{y?h(y):f(g)}),this.client.events.emit("session_request_sent",{topic:i,request:a,chainId:n,id:o});const p=await this.client.core.storage.getItem(a7);return E8({id:o,topic:i,wcDeepLink:p}),await d()},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:a}=r,{id:i}=a;Or(a)?await this.sendResult(i,n,a.result):Qt(a)&&await this.sendError(i,n,a.error),this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0})},this.ping=async r=>{this.isInitialized(),await this.isValidPing(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const a=await this.sendRequest(n,"wc_sessionPing",{}),{done:i,resolve:s,reject:o}=Mn();this.events.once(Ye("session_ping",a),({error:d})=>{d?o(d):s()}),await i()}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.isValidEmit(r);const{topic:n,event:a,chainId:i}=r;await this.sendRequest(n,"wc_sessionEvent",{event:a,chainId:i})},this.disconnect=async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n)){const a=Tc().toString();let i;const s=o=>{(o==null?void 0:o.id.toString())===a&&(this.client.core.relayer.events.removeListener($e.message_ack,s),i())};await Promise.all([new Promise(o=>{i=o,this.client.core.relayer.on($e.message_ack,s)}),this.sendRequest(n,"wc_sessionDelete",Qe("USER_DISCONNECTED"),void 0,a)]),await this.deleteSession(n)}else await this.client.core.pairing.disconnect({topic:n})},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>j8(n,r))),this.getPendingSessionRequests=()=>(this.isInitialized(),this.client.pendingRequest.getAll()),this.cleanupDuplicatePairings=async r=>{try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),a=this.client.core.pairing.pairings.getAll().filter(i=>{var s,o;return((s=i.peerMetadata)==null?void 0:s.url)&&((o=i.peerMetadata)==null?void 0:o.url)===r.peer.metadata.url&&i.topic&&i.topic!==n.topic});if(a.length===0)return;this.client.logger.info(`Cleaning up ${a.length} duplicate pairing(s)`),await Promise.all(a.map(i=>this.client.core.pairing.disconnect({topic:i.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async(r,n)=>{const{self:a}=this.client.session.get(r);await this.client.core.relayer.unsubscribe(r),this.client.session.delete(r,Qe("USER_DISCONNECTED")),this.client.core.crypto.keychain.has(a.publicKey)&&await this.client.core.crypto.deleteKeyPair(a.publicKey),this.client.core.crypto.keychain.has(r)&&await this.client.core.crypto.deleteSymKey(r),n||this.client.core.expirer.del(r)},this.deleteProposal=async(r,n)=>{await Promise.all([this.client.proposal.delete(r,Qe("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)])},this.deletePendingSessionRequest=async(r,n,a=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),a?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&await this.client.session.update(r,{expiry:n}),this.client.core.expirer.set(r,n)},this.setProposal=async(r,n)=>{await this.client.proposal.set(r,n),this.client.core.expirer.set(r,n.expiry)},this.setPendingSessionRequest=async r=>{const n=Ia.wc_sessionRequest.req.ttl,{id:a,topic:i,params:s}=r;await this.client.pendingRequest.set(a,{id:a,topic:i,params:s}),n&&this.client.core.expirer.set(a,dr(n))},this.sendRequest=async(r,n,a,i,s)=>{const o=gs(n,a);if(Ic()&&f7.includes(n)){const h=qn(JSON.stringify(o));await this.client.core.verify.register({attestationId:h})}const d=await this.client.core.crypto.encode(r,o),f=Ia[n].req;return i&&(f.ttl=i),s&&(f.id=s),this.client.core.history.set(r,o),this.client.core.relayer.publish(r,d,f),o.id},this.sendResult=async(r,n,a)=>{const i=ys(r,a),s=await this.client.core.crypto.encode(n,i),o=await this.client.core.history.get(n,r),d=Ia[o.request.method].res;this.client.core.relayer.publish(n,s,d),await this.client.core.history.resolve(i)},this.sendError=async(r,n,a)=>{const i=ms(r,a),s=await this.client.core.crypto.encode(n,i),o=await this.client.core.history.get(n,r),d=Ia[o.request.method].res;this.client.core.relayer.publish(n,s,d),await this.client.core.history.resolve(i)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(a=>{Br(a.expiry)&&r.push(a.topic)}),this.client.proposal.getAll().forEach(a=>{Br(a.expiry)&&n.push(a.id)}),await Promise.all([...r.map(a=>this.deleteSession(a)),...n.map(a=>this.deleteProposal(a))])},this.onRelayEventRequest=r=>{const{topic:n,payload:a}=r,i=a.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeRequest(n,a);case"wc_sessionSettle":return this.onSessionSettleRequest(n,a);case"wc_sessionUpdate":return this.onSessionUpdateRequest(n,a);case"wc_sessionExtend":return this.onSessionExtendRequest(n,a);case"wc_sessionPing":return this.onSessionPingRequest(n,a);case"wc_sessionDelete":return this.onSessionDeleteRequest(n,a);case"wc_sessionRequest":return this.onSessionRequest(n,a);case"wc_sessionEvent":return this.onSessionEventRequest(n,a);default:return this.client.logger.info(`Unsupported request method ${i}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:a}=r,i=(await this.client.core.history.get(n,a.id)).request.method;switch(i){case"wc_sessionPropose":return this.onSessionProposeResponse(n,a);case"wc_sessionSettle":return this.onSessionSettleResponse(n,a);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,a);case"wc_sessionExtend":return this.onSessionExtendResponse(n,a);case"wc_sessionPing":return this.onSessionPingResponse(n,a);case"wc_sessionRequest":return this.onSessionRequestResponse(n,a);default:return this.client.logger.info(`Unsupported response method ${i}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:a}=X("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(a)},this.onSessionProposeRequest=async(r,n)=>{const{params:a,id:i}=n;try{this.isValidConnect(Kt({},n.params));const s=dr(re.FIVE_MINUTES),o=Kt({id:i,pairingTopic:r,expiry:s},a);await this.setProposal(i,o);const d=qn(JSON.stringify(n)),f=await this.getVerifyContext(d,o.proposer.metadata);this.client.events.emit("session_proposal",{id:i,params:o,verifyContext:f})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionProposeResponse=async(r,n)=>{const{id:a}=n;if(Or(n)){const{result:i}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:i});const s=this.client.proposal.get(a);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:s});const o=s.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:o});const d=i.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:d});const f=await this.client.core.crypto.generateSharedKey(o,d);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:f});const h=await this.client.core.relayer.subscribe(f);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:h}),await this.client.core.pairing.activate({topic:r})}else Qt(n)&&(await this.client.proposal.delete(a,Qe("USER_DISCONNECTED")),this.events.emit(Ye("session_connect"),{error:n.error}))},this.onSessionSettleRequest=async(r,n)=>{const{id:a,params:i}=n;try{this.isValidSessionSettleRequest(i);const{relay:s,controller:o,expiry:d,namespaces:f,requiredNamespaces:h,optionalNamespaces:p,sessionProperties:y,pairingTopic:g}=n.params,I=Kt({topic:r,relay:s,expiry:d,namespaces:f,acknowledged:!0,pairingTopic:g,requiredNamespaces:h,optionalNamespaces:p,controller:o.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},y&&{sessionProperties:y});await this.sendResult(n.id,r,!0),this.events.emit(Ye("session_connect"),{session:I}),this.cleanupDuplicatePairings(I)}catch(s){await this.sendError(a,r,s),this.client.logger.error(s)}},this.onSessionSettleResponse=async(r,n)=>{const{id:a}=n;Or(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Ye("session_approve",a),{})):Qt(n)&&(await this.client.session.delete(r,Qe("USER_DISCONNECTED")),this.events.emit(Ye("session_approve",a),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:a,id:i}=n;try{this.isValidUpdate(Kt({topic:r},a)),await this.client.session.update(r,{namespaces:a.namespaces}),await this.sendResult(i,r,!0),this.client.events.emit("session_update",{id:i,topic:r,params:a})}catch(s){await this.sendError(i,r,s),this.client.logger.error(s)}},this.onSessionUpdateResponse=(r,n)=>{const{id:a}=n;Or(n)?this.events.emit(Ye("session_update",a),{}):Qt(n)&&this.events.emit(Ye("session_update",a),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:a}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,dr(Ai)),await this.sendResult(a,r,!0),this.client.events.emit("session_extend",{id:a,topic:r})}catch(i){await this.sendError(a,r,i),this.client.logger.error(i)}},this.onSessionExtendResponse=(r,n)=>{const{id:a}=n;Or(n)?this.events.emit(Ye("session_extend",a),{}):Qt(n)&&this.events.emit(Ye("session_extend",a),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:a}=n;try{this.isValidPing({topic:r}),await this.sendResult(a,r,!0),this.client.events.emit("session_ping",{id:a,topic:r})}catch(i){await this.sendError(a,r,i),this.client.logger.error(i)}},this.onSessionPingResponse=(r,n)=>{const{id:a}=n;setTimeout(()=>{Or(n)?this.events.emit(Ye("session_ping",a),{}):Qt(n)&&this.events.emit(Ye("session_ping",a),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:a}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(i=>{this.client.core.relayer.once($e.publish,async()=>{i(await this.deleteSession(r))})}),this.sendResult(a,r,!0)]),this.client.events.emit("session_delete",{id:a,topic:r})}catch(i){this.client.logger.error(i)}},this.onSessionRequest=async(r,n)=>{const{id:a,params:i}=n;try{this.isValidRequest(Kt({topic:r},i)),await this.setPendingSessionRequest({id:a,topic:r,params:i});const s=qn(JSON.stringify(n)),o=this.client.session.get(r),d=await this.getVerifyContext(s,o.peer.metadata);this.client.events.emit("session_request",{id:a,topic:r,params:i,verifyContext:d})}catch(s){await this.sendError(a,r,s),this.client.logger.error(s)}},this.onSessionRequestResponse=(r,n)=>{const{id:a}=n;Or(n)?this.events.emit(Ye("session_request",a),{result:n.result}):Qt(n)&&this.events.emit(Ye("session_request",a),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:a,params:i}=n;try{this.isValidEmit(Kt({topic:r},i)),this.client.events.emit("session_event",{id:a,topic:r,params:i})}catch(s){await this.sendError(a,r,s),this.client.logger.error(s)}},this.isValidConnect=async r=>{if(!kt(r)){const{message:d}=X("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(d)}const{pairingTopic:n,requiredNamespaces:a,optionalNamespaces:i,sessionProperties:s,relays:o}=r;if(xt(n)||await this.isValidPairingTopic(n),!X8(o,!0)){const{message:d}=X("MISSING_OR_INVALID",`connect() relays: ${o}`);throw new Error(d)}!xt(a)&&Ra(a)!==0&&this.validateNamespaces(a,"requiredNamespaces"),!xt(i)&&Ra(i)!==0&&this.validateNamespaces(i,"optionalNamespaces"),xt(s)||this.validateSessionProps(s,"sessionProperties")},this.validateNamespaces=(r,n)=>{const a=Z8(r,"connect()",n);if(a)throw new Error(a.message)},this.isValidApprove=async r=>{if(!kt(r))throw new Error(X("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:a,relayProtocol:i,sessionProperties:s}=r;await this.isValidProposalId(n);const o=this.client.proposal.get(n),d=$i(a,"approve()");if(d)throw new Error(d.message);const f=Ff(o.requiredNamespaces,a,"approve()");if(f)throw new Error(f.message);if(!ht(i,!0)){const{message:h}=X("MISSING_OR_INVALID",`approve() relayProtocol: ${i}`);throw new Error(h)}xt(s)||this.validateSessionProps(s,"sessionProperties")},this.isValidReject=async r=>{if(!kt(r)){const{message:i}=X("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(i)}const{id:n,reason:a}=r;if(await this.isValidProposalId(n),!Q8(a)){const{message:i}=X("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(a)}`);throw new Error(i)}},this.isValidSessionSettleRequest=r=>{if(!kt(r)){const{message:f}=X("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(f)}const{relay:n,controller:a,namespaces:i,expiry:s}=r;if(!Ol(n)){const{message:f}=X("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(f)}const o=q8(a,"onSessionSettleRequest()");if(o)throw new Error(o.message);const d=$i(i,"onSessionSettleRequest()");if(d)throw new Error(d.message);if(Br(s)){const{message:f}=X("EXPIRED","onSessionSettleRequest()");throw new Error(f)}},this.isValidUpdate=async r=>{if(!kt(r)){const{message:d}=X("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(d)}const{topic:n,namespaces:a}=r;await this.isValidSessionTopic(n);const i=this.client.session.get(n),s=$i(a,"update()");if(s)throw new Error(s.message);const o=Ff(i.requiredNamespaces,a,"update()");if(o)throw new Error(o.message)},this.isValidExtend=async r=>{if(!kt(r)){const{message:a}=X("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(a)}const{topic:n}=r;await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!kt(r)){const{message:d}=X("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(d)}const{topic:n,request:a,chainId:i,expiry:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!$f(o,i)){const{message:d}=X("MISSING_OR_INVALID",`request() chainId: ${i}`);throw new Error(d)}if(!e4(a)){const{message:d}=X("MISSING_OR_INVALID",`request() ${JSON.stringify(a)}`);throw new Error(d)}if(!n4(o,i,a.method)){const{message:d}=X("MISSING_OR_INVALID",`request() method: ${a.method}`);throw new Error(d)}if(s&&!o4(s,Gs)){const{message:d}=X("MISSING_OR_INVALID",`request() expiry: ${s}. Expiry must be a number (in seconds) between ${Gs.min} and ${Gs.max}`);throw new Error(d)}},this.isValidRespond=async r=>{if(!kt(r)){const{message:i}=X("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(i)}const{topic:n,response:a}=r;if(await this.isValidSessionTopic(n),!t4(a)){const{message:i}=X("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(a)}`);throw new Error(i)}},this.isValidPing=async r=>{if(!kt(r)){const{message:a}=X("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(a)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!kt(r)){const{message:o}=X("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(o)}const{topic:n,event:a,chainId:i}=r;await this.isValidSessionTopic(n);const{namespaces:s}=this.client.session.get(n);if(!$f(s,i)){const{message:o}=X("MISSING_OR_INVALID",`emit() chainId: ${i}`);throw new Error(o)}if(!r4(a)){const{message:o}=X("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(a)}`);throw new Error(o)}if(!a4(s,i,a.name)){const{message:o}=X("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(a)}`);throw new Error(o)}},this.isValidDisconnect=async r=>{if(!kt(r)){const{message:a}=X("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(a)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.getVerifyContext=async(r,n)=>{const a={verified:{verifyUrl:n.verifyUrl||"",validation:"UNKNOWN",origin:n.url||""}};try{const i=await this.client.core.verify.resolve({attestationId:r,verifyUrl:n.verifyUrl});i&&(a.verified.origin=i,a.verified.validation=i===n.url?"VALID":"INVALID")}catch(i){this.client.logger.error(i)}return this.client.logger.info(`Verify context: ${JSON.stringify(a)}`),a},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(a=>{if(!ht(a,!1)){const{message:i}=X("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(a)}`);throw new Error(i)}})}}isInitialized(){if(!this.initialized){const{message:t}=X("NOT_INITIALIZED",this.name);throw new Error(t)}}registerRelayerEvents(){this.client.core.relayer.on($e.message,async t=>{const{topic:r,message:n}=t;if(this.ignoredPayloadTypes.includes(this.client.core.crypto.getPayloadType(n)))return;const a=await this.client.core.crypto.decode(r,n);Nc(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a})):ws(a)?(await this.client.core.history.resolve(a),this.onRelayEventResponse({topic:r,payload:a})):this.onRelayEventUnknownPayload({topic:r,payload:a})})}registerExpirerEvents(){this.client.core.expirer.on(Gt.expired,async t=>{const{topic:r,id:n}=Sl(t.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,X("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession(r,!0),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}isValidPairingTopic(t){if(!ht(t,!1)){const{message:r}=X("MISSING_OR_INVALID",`pairing topic should be a string: ${t}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(t)){const{message:r}=X("NO_MATCHING_KEY",`pairing topic doesn't exist: ${t}`);throw new Error(r)}if(Br(this.client.core.pairing.pairings.get(t).expiry)){const{message:r}=X("EXPIRED",`pairing topic: ${t}`);throw new Error(r)}}async isValidSessionTopic(t){if(!ht(t,!1)){const{message:r}=X("MISSING_OR_INVALID",`session topic should be a string: ${t}`);throw new Error(r)}if(!this.client.session.keys.includes(t)){const{message:r}=X("NO_MATCHING_KEY",`session topic doesn't exist: ${t}`);throw new Error(r)}if(Br(this.client.session.get(t).expiry)){await this.deleteSession(t);const{message:r}=X("EXPIRED",`session topic: ${t}`);throw new Error(r)}}async isValidSessionOrPairingTopic(t){if(this.client.session.keys.includes(t))await this.isValidSessionTopic(t);else if(this.client.core.pairing.pairings.keys.includes(t))this.isValidPairingTopic(t);else if(ht(t,!1)){const{message:r}=X("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${t}`);throw new Error(r)}else{const{message:r}=X("MISSING_OR_INVALID",`session or pairing topic should be a string: ${t}`);throw new Error(r)}}async isValidProposalId(t){if(!J8(t)){const{message:r}=X("MISSING_OR_INVALID",`proposal id should be a number: ${t}`);throw new Error(r)}if(!this.client.proposal.keys.includes(t)){const{message:r}=X("NO_MATCHING_KEY",`proposal id doesn't exist: ${t}`);throw new Error(r)}if(Br(this.client.proposal.get(t).expiry)){await this.deleteProposal(t);const{message:r}=X("EXPIRED",`proposal id: ${t}`);throw new Error(r)}}}class y7 extends vs{constructor(t,r){super(t,r,i7,Cc),this.core=t,this.logger=r}}class m7 extends vs{constructor(t,r){super(t,r,o7,Cc),this.core=t,this.logger=r}}class w7 extends vs{constructor(t,r){super(t,r,d7,Cc,n=>n.id),this.core=t,this.logger=r}}class Es extends b5{constructor(t){super(t),this.protocol=Wl,this.version=Yl,this.name=Ks.name,this.events=new Ft.EventEmitter,this.on=(n,a)=>this.events.on(n,a),this.once=(n,a)=>this.events.once(n,a),this.off=(n,a)=>this.events.off(n,a),this.removeListener=(n,a)=>this.events.removeListener(n,a),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(a){throw this.logger.error(a.message),a}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(a){throw this.logger.error(a.message),a}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(a){throw this.logger.error(a.message),a}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(a){throw this.logger.error(a.message),a}},this.update=async n=>{try{return await this.engine.update(n)}catch(a){throw this.logger.error(a.message),a}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(a){throw this.logger.error(a.message),a}},this.request=async n=>{try{return await this.engine.request(n)}catch(a){throw this.logger.error(a.message),a}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(a){throw this.logger.error(a.message),a}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(a){throw this.logger.error(a.message),a}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(a){throw this.logger.error(a.message),a}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(a){throw this.logger.error(a.message),a}},this.find=n=>{try{return this.engine.find(n)}catch(a){throw this.logger.error(a.message),a}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.name=(t==null?void 0:t.name)||Ks.name,this.metadata=(t==null?void 0:t.metadata)||p8();const r=typeof(t==null?void 0:t.logger)<"u"&&typeof(t==null?void 0:t.logger)!="string"?t.logger:Se.pino(Se.getDefaultLoggerOptions({level:(t==null?void 0:t.logger)||Ks.logger}));this.core=(t==null?void 0:t.core)||new n7(t),this.logger=Se.generateChildLogger(r,this.name),this.session=new m7(this.core,this.logger),this.proposal=new y7(this.core,this.logger),this.pendingRequest=new w7(this.core,this.logger),this.engine=new g7(this)}static async init(t){const r=new Es(t);return await r.initialize(),r}get context(){return Se.getLoggerContext(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.engine.init(),this.core.verify.init({verifyUrl:this.metadata.verifyUrl}),this.logger.info("SignClient Initialization Success")}catch(t){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(t.message),t}}}const _7=()=>{var t,r;const e=(r=(t=ol())==null?void 0:t.os)==null?void 0:r.toLowerCase();return e!=null&&e.includes("android")?"android":e!=null&&e.toLowerCase().includes("ios")||e!=null&&e.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1?"ios":"desktop"},Ti=_7(),v7={position:"fixed",top:"0",left:"0",right:"0",bottom:"0",backgroundColor:"rgba(0,0,0,0.8)",backdropFilter:"blur(10px)",zIndex:"9999",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",color:"white",fontWeight:"500",fontFamily:"'Barlow', sans-serif"},E7={width:"840px",height:"540px",zIndex:"99999",backgroundColor:"white",border:"none",outline:"none",borderRadius:"40px",boxShadow:"0px 4px 40px 0px rgb(0 0 0), 0px 4px 8px 0px rgb(0 0 0 / 25%)",position:"fixed",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},S7=`
  <div style="position: relative">
    <iframe class="argent-iframe" allow="clipboard-write"></iframe>
    <div class="argent-close-button" style="position: absolute; top: 24px; right: 24px; cursor: pointer;">
      <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="16" cy="16" r="16" fill="#F5F3F0"/>
        <path fill-rule="evenodd" clip-rule="evenodd" d="M22.2462 9.75382C22.7018 10.2094 22.7018 10.9481 22.2462 11.4037L17.6499 16L22.2462 20.5963C22.7018 21.0519 22.7018 21.7906 22.2462 22.2462C21.7905 22.7018 21.0519 22.7018 20.5962 22.2462L16 17.6499L11.4039 22.246C10.9482 22.7017 10.2096 22.7017 9.75394 22.246C9.29833 21.7904 9.29833 21.0517 9.75394 20.5961L14.3501 16L9.75394 11.4039C9.29833 10.9483 9.29833 10.2096 9.75394 9.75396C10.2096 9.29835 10.9482 9.29835 11.4039 9.75396L16 14.3501L20.5962 9.75382C21.0519 9.29821 21.7905 9.29821 22.2462 9.75382Z" fill="#333332"/>
      </svg>
    </div>
  </div>
`;class I7{constructor(){Ee(this,"bridgeUrl","https://login.argent.xyz"),Ee(this,"mobileUrl","https://www.argent.xyz/app"),Ee(this,"type","overlay"),Ee(this,"wcUri"),Ee(this,"overlay"),Ee(this,"popupWindow"),Ee(this,"closingTimeout"),Ee(this,"close",()=>{var t,r;(t=this.overlay)==null||t.remove(),(r=this.popupWindow)==null||r.close(),this.overlay=void 0,this.popupWindow=void 0})}showConnectionModal(t){const r=encodeURIComponent(t),n=encodeURIComponent(window.location.href);this.showModal({desktop:`${this.bridgeUrl}?wc=${r}`,ios:`${this.mobileUrl}/wc?uri=${r}&href=${n}`,android:`${this.mobileUrl}/wc?uri=${r}&href=${n}`})}showApprovalModal(t){if(Ti==="desktop"){this.showModal({desktop:`${this.bridgeUrl}?action=sign`,ios:"",android:""});return}const r=encodeURIComponent(window.location.href);this.showModal({desktop:`${this.bridgeUrl}?action=sign`,ios:`${this.mobileUrl}/wc?href=${r}`,android:`${this.mobileUrl}/wc?href=${r}`})}closeModal(t){var r,n,a,i;t?((a=(n=(r=this.overlay)==null?void 0:r.querySelector("iframe"))==null?void 0:n.contentWindow)==null||a.postMessage("argent-login.success","*"),(i=this.popupWindow)==null||i.postMessage("argent-login.success","*"),this.closingTimeout=setTimeout(this.close,3400)):this.close()}showModal(t){if(clearTimeout(this.closingTimeout),(this.overlay||this.popupWindow)&&this.close(),Ti==="android"||Ti==="ios"){window.open(t[Ti]);return}if(this.type==="window"){const a="menubar=no,location=no,resizable=no,scrollbars=no,status=no,width=840,height=540";this.popupWindow=window.open(t.desktop,"_blank",a)||void 0;return}const r=document.createElement("div");r.innerHTML=S7;for(const[a,i]of Object.entries(v7))r.style[a]=i;document.body.appendChild(r),r.addEventListener("click",()=>this.closeModal()),this.overlay=r;const n=r.querySelector("iframe");n.setAttribute("src",t.desktop);for(const[a,i]of Object.entries(E7))n.style[a]=i;r.querySelector(".argent-close-button").addEventListener("click",()=>this.closeModal())}}const Pn=new I7,O7=async({projectId:e,chainId:t,name:r,rpcUrl:n,bridgeUrl:a=x7(t),modalType:i="overlay",walletConnect:s},o)=>{Pn.bridgeUrl=a,Pn.type=i;const d={projectId:e,metadata:{name:r??"Unknown dapp",description:"Unknown dapp description",url:"#",icons:["https://walletconnect.com/walletconnect-logo.png"],...s==null?void 0:s.metadata},...s},f=await Es.init(d),h=new o({client:f,chainId:t,rpcUrl:n});f.on("session_event",p=>{}),f.on("session_update",({topic:p,params:y})=>{const{namespaces:g}=y,I=f.session.get(p);h.updateSession({...I,namespaces:g})}),f.on("session_delete",()=>{});try{const p=f.session.getAll().find(h.isValidSession);if(p)return h.updateSession(p),h;const y={requiredNamespaces:h.getRequiredNamespaces()},{uri:g,approval:I}=await f.connect(y);if(g){Pn.showConnectionModal(g),Pn.wcUri=g;const O=await I();h.updateSession(O),Pn.closeModal("animateSuccess")}return h}catch(p){throw console.error("@argent/login::error"),Pn.closeModal(),p}},x7=e=>{if(e){const t=parseInt(`${e}`);if(String(e).startsWith("SN_GOERLI")||String(e).startsWith("SN_GOERLI2")||[5,280].includes(t))return"https://login.hydrogen.argent47.net";if(String(e).startsWith("SN_GOERLI")||[1,324].includes(t))return"https://login.argent.xyz"}throw new Error(`Unknown or unsupported chainId (${e}), either specify a supported chain or set bridgeUrl.`)};/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xl=BigInt(0),Ss=BigInt(1),A7=BigInt(2),Is=e=>e instanceof Uint8Array,T7=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Gr(e){if(!Is(e))throw new Error("Uint8Array expected");let t="";for(let r=0;r<e.length;r++)t+=T7[e[r]];return t}function Jl(e){const t=e.toString(16);return t.length&1?`0${t}`:t}function Os(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return BigInt(e===""?"0":`0x${e}`)}function Wr(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e.length%2)throw new Error("hex string is invalid: unpadded "+e.length);const t=new Uint8Array(e.length/2);for(let r=0;r<t.length;r++){const n=r*2,a=e.slice(n,n+2),i=Number.parseInt(a,16);if(Number.isNaN(i)||i<0)throw new Error("invalid byte sequence");t[r]=i}return t}function Lt(e){return Os(Gr(e))}function Rc(e){if(!Is(e))throw new Error("Uint8Array expected");return Os(Gr(Uint8Array.from(e).reverse()))}const Vn=(e,t)=>Wr(e.toString(16).padStart(t*2,"0")),Ql=(e,t)=>Vn(e,t).reverse(),Pc=e=>Wr(Jl(e));function jt(e,t,r){let n;if(typeof t=="string")try{n=Wr(t)}catch(i){throw new Error(`${e} must be valid hex string, got "${t}". Cause: ${i}`)}else if(Is(t))n=Uint8Array.from(t);else throw new Error(`${e} must be hex string or Uint8Array`);const a=n.length;if(typeof r=="number"&&a!==r)throw new Error(`${e} expected ${r} bytes, got ${a}`);return n}function Yn(...e){const t=new Uint8Array(e.reduce((n,a)=>n+a.length,0));let r=0;return e.forEach(n=>{if(!Is(n))throw new Error("Uint8Array expected");t.set(n,r),r+=n.length}),t}function N7(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function k7(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function C7(e){let t;for(t=0;e>Xl;e>>=Ss,t+=1);return t}const R7=(e,t)=>e>>BigInt(t)&Ss,P7=(e,t,r)=>e|(r?Ss:Xl)<<BigInt(t),xs=e=>(A7<<BigInt(e-1))-Ss,Ys=e=>new Uint8Array(e),ph=e=>Uint8Array.from(e);function e1(e,t,r){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=Ys(e),a=Ys(e),i=0;const s=()=>{n.fill(1),a.fill(0),i=0},o=(...h)=>r(a,n,...h),d=(h=Ys())=>{a=o(ph([0]),h),n=o(),h.length!==0&&(a=o(ph([1]),h),n=o())},f=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const p=[];for(;h<t;){n=o();const y=n.slice();p.push(y),h+=n.length}return Yn(...p)};return(h,p)=>{s(),d(h);let y;for(;!(y=p(f()));)d();return s(),y}}const L7={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function si(e,t,r={}){const n=(a,i,s)=>{const o=L7[i];if(typeof o!="function")throw new Error(`Invalid validator "${i}", expected function`);const d=e[a];if(!(s&&d===void 0)&&!o(d,e))throw new Error(`Invalid param ${String(a)}=${d} (${typeof d}), expected ${i}`)};for(const[a,i]of Object.entries(t))n(a,i,!1);for(const[a,i]of Object.entries(r))n(a,i,!0);return e}const U7=Object.freeze(Object.defineProperty({__proto__:null,bitGet:R7,bitLen:C7,bitMask:xs,bitSet:P7,bytesToHex:Gr,bytesToNumberBE:Lt,bytesToNumberLE:Rc,concatBytes:Yn,createHmacDrbg:e1,ensureBytes:jt,equalBytes:N7,hexToBytes:Wr,hexToNumber:Os,numberToBytesBE:Vn,numberToBytesLE:Ql,numberToHexUnpadded:Jl,numberToVarBytesBE:Pc,utf8ToBytes:k7,validateObject:si},Symbol.toStringTag,{value:"Module"}));function Do(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function D7(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function t1(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function M7(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Do(e.outputLen),Do(e.blockLen)}function B7(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function j7(e,t){t1(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const xr={number:Do,bool:D7,bytes:t1,hash:M7,exists:B7,output:j7},Ni=BigInt(2**32-1),Mo=BigInt(32);function r1(e,t=!1){return t?{h:Number(e&Ni),l:Number(e>>Mo&Ni)}:{h:Number(e>>Mo&Ni)|0,l:Number(e&Ni)|0}}function z7(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let a=0;a<e.length;a++){const{h:i,l:s}=r1(e[a],t);[r[a],n[a]]=[i,s]}return[r,n]}const $7=(e,t)=>BigInt(e>>>0)<<Mo|BigInt(t>>>0),F7=(e,t,r)=>e>>>r,H7=(e,t,r)=>e<<32-r|t>>>r,q7=(e,t,r)=>e>>>r|t<<32-r,V7=(e,t,r)=>e<<32-r|t>>>r,K7=(e,t,r)=>e<<64-r|t>>>r-32,G7=(e,t,r)=>e>>>r-32|t<<64-r,W7=(e,t)=>t,Y7=(e,t)=>e,Z7=(e,t,r)=>e<<r|t>>>32-r,X7=(e,t,r)=>t<<r|e>>>32-r,J7=(e,t,r)=>t<<r-32|e>>>64-r,Q7=(e,t,r)=>e<<r-32|t>>>64-r;function eg(e,t,r,n){const a=(t>>>0)+(n>>>0);return{h:e+r+(a/2**32|0)|0,l:a|0}}const tg=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),rg=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,ng=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),ag=(e,t,r,n,a)=>t+r+n+a+(e/2**32|0)|0,ig=(e,t,r,n,a)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(a>>>0),sg=(e,t,r,n,a,i)=>t+r+n+a+i+(e/2**32|0)|0,za={fromBig:r1,split:z7,toBig:$7,shrSH:F7,shrSL:H7,rotrSH:q7,rotrSL:V7,rotrBH:K7,rotrBL:G7,rotr32H:W7,rotr32L:Y7,rotlSH:Z7,rotlSL:X7,rotlBH:J7,rotlBL:Q7,add:eg,add3L:tg,add3H:rg,add4L:ng,add4H:ag,add5H:sg,add5L:ig};/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const og=e=>e instanceof Uint8Array,cg=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Zs=e=>new DataView(e.buffer,e.byteOffset,e.byteLength),sr=(e,t)=>e<<32-t|e>>>t,dg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!dg)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function n1(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function As(e){if(typeof e=="string"&&(e=n1(e)),!og(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}let a1=class{clone(){return this._cloneInto()}};function Lc(e){const t=n=>e().update(As(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function fg(e){const t=(n,a)=>e(a).update(As(n)).digest(),r=e({});return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=n=>e(n),t}const[i1,s1,o1]=[[],[],[]],hg=BigInt(0),Oa=BigInt(1),lg=BigInt(2),ug=BigInt(7),bg=BigInt(256),pg=BigInt(113);for(let e=0,t=Oa,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],i1.push(2*(5*n+r)),s1.push((e+1)*(e+2)/2%64);let a=hg;for(let i=0;i<7;i++)t=(t<<Oa^(t>>ug)*pg)%bg,t&lg&&(a^=Oa<<(Oa<<BigInt(i))-Oa);o1.push(a)}const[gg,yg]=za.split(o1,!0),gh=(e,t,r)=>r>32?za.rotlBH(e,t,r):za.rotlSH(e,t,r),yh=(e,t,r)=>r>32?za.rotlBL(e,t,r):za.rotlSL(e,t,r);function mg(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let s=0;s<10;s++)r[s]=e[s]^e[s+10]^e[s+20]^e[s+30]^e[s+40];for(let s=0;s<10;s+=2){const o=(s+8)%10,d=(s+2)%10,f=r[d],h=r[d+1],p=gh(f,h,1)^r[o],y=yh(f,h,1)^r[o+1];for(let g=0;g<50;g+=10)e[s+g]^=p,e[s+g+1]^=y}let a=e[2],i=e[3];for(let s=0;s<24;s++){const o=s1[s],d=gh(a,i,o),f=yh(a,i,o),h=i1[s];a=e[h],i=e[h+1],e[h]=d,e[h+1]=f}for(let s=0;s<50;s+=10){for(let o=0;o<10;o++)r[o]=e[s+o];for(let o=0;o<10;o++)e[s+o]^=~r[(o+2)%10]&r[(o+4)%10]}e[0]^=gg[n],e[1]^=yg[n]}r.fill(0)}class Ts extends a1{constructor(t,r,n,a=!1,i=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=a,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xr.number(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=cg(this.state)}keccak(){mg(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){xr.exists(this);const{blockLen:r,state:n}=this;t=As(t);const a=t.length;for(let i=0;i<a;){const s=Math.min(r-this.pos,a-i);for(let o=0;o<s;o++)n[this.pos++]^=t[i++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:a}=this;t[n]^=r,r&128&&n===a-1&&this.keccak(),t[a-1]^=128,this.keccak()}writeInto(t){xr.exists(this,!1),xr.bytes(t),this.finish();const r=this.state,{blockLen:n}=this;for(let a=0,i=t.length;a<i;){this.posOut>=n&&this.keccak();const s=Math.min(n-this.posOut,i-a);t.set(r.subarray(this.posOut,this.posOut+s),a),this.posOut+=s,a+=s}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return xr.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(xr.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:a,rounds:i,enableXOF:s}=this;return t||(t=new Ts(r,n,a,s,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=n,t.outputLen=a,t.enableXOF=s,t.destroyed=this.destroyed,t}}const Qr=(e,t,r)=>Lc(()=>new Ts(t,e,r));Qr(6,144,224/8);Qr(6,136,256/8);Qr(6,104,384/8);Qr(6,72,512/8);Qr(1,144,224/8);const wg=Qr(1,136,256/8);Qr(1,104,384/8);Qr(1,72,512/8);const c1=(e,t,r)=>fg((n={})=>new Ts(t,e,n.dkLen===void 0?r:n.dkLen,!0));c1(31,168,128/8);c1(31,136,256/8);function _g(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const a=BigInt(32),i=BigInt(4294967295),s=Number(r>>a&i),o=Number(r&i),d=n?4:0,f=n?0:4;e.setUint32(t+d,s,n),e.setUint32(t+f,o,n)}class vg extends a1{constructor(t,r,n,a){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=a,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Zs(this.buffer)}update(t){xr.exists(this);const{view:r,buffer:n,blockLen:a}=this;t=As(t);const i=t.length;for(let s=0;s<i;){const o=Math.min(a-this.pos,i-s);if(o===a){const d=Zs(t);for(;a<=i-s;s+=a)this.process(d,s);continue}n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===a&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){xr.exists(this),xr.output(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:a,isLE:i}=this;let{pos:s}=this;r[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>a-s&&(this.process(n,0),s=0);for(let p=s;p<a;p++)r[p]=0;_g(n,a-8,BigInt(this.length*8),i),this.process(n,0);const o=Zs(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=d/4,h=this.get();if(f>h.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<f;p++)o.setUint32(4*p,h[p],i)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:a,finished:i,destroyed:s,pos:o}=this;return t.length=a,t.pos=o,t.finished=i,t.destroyed=s,a%r&&t.buffer.set(n),t}}const Eg=(e,t,r)=>e&t^~e&r,Sg=(e,t,r)=>e&t^e&r^t&r,Ig=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Dr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Mr=new Uint32Array(64);class d1 extends vg{constructor(){super(64,32,8,!1),this.A=Dr[0]|0,this.B=Dr[1]|0,this.C=Dr[2]|0,this.D=Dr[3]|0,this.E=Dr[4]|0,this.F=Dr[5]|0,this.G=Dr[6]|0,this.H=Dr[7]|0}get(){const{A:t,B:r,C:n,D:a,E:i,F:s,G:o,H:d}=this;return[t,r,n,a,i,s,o,d]}set(t,r,n,a,i,s,o,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=a|0,this.E=i|0,this.F=s|0,this.G=o|0,this.H=d|0}process(t,r){for(let p=0;p<16;p++,r+=4)Mr[p]=t.getUint32(r,!1);for(let p=16;p<64;p++){const y=Mr[p-15],g=Mr[p-2],I=sr(y,7)^sr(y,18)^y>>>3,O=sr(g,17)^sr(g,19)^g>>>10;Mr[p]=O+Mr[p-7]+I+Mr[p-16]|0}let{A:n,B:a,C:i,D:s,E:o,F:d,G:f,H:h}=this;for(let p=0;p<64;p++){const y=sr(o,6)^sr(o,11)^sr(o,25),g=h+y+Eg(o,d,f)+Ig[p]+Mr[p]|0,I=(sr(n,2)^sr(n,13)^sr(n,22))+Sg(n,a,i)|0;h=f,f=d,d=o,o=s+g|0,s=i,i=a,a=n,n=g+I|0}n=n+this.A|0,a=a+this.B|0,i=i+this.C|0,s=s+this.D|0,o=o+this.E|0,d=d+this.F|0,f=f+this.G|0,h=h+this.H|0,this.set(n,a,i,s,o,d,f,h)}roundClean(){Mr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class Og extends d1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Uc=Lc(()=>new d1);Lc(()=>new Og);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pt=BigInt(0),He=BigInt(1),cn=BigInt(2),xg=BigInt(3),Bo=BigInt(4),mh=BigInt(5),wh=BigInt(8);BigInt(9);BigInt(16);function It(e,t){const r=e%t;return r>=pt?r:t+r}function Ag(e,t,r){if(r<=pt||t<pt)throw new Error("Expected power/modulo > 0");if(r===He)return pt;let n=He;for(;t>pt;)t&He&&(n=n*e%r),e=e*e%r,t>>=He;return n}function jo(e,t){if(e===pt||t<=pt)throw new Error(`invert: expected positive integers, got n=${e} mod=${t}`);let r=It(e,t),n=t,a=pt,i=He;for(;r!==pt;){const s=n/r,o=n%r,d=a-i*s;n=r,r=o,a=i,i=d}if(n!==He)throw new Error("invert: does not exist");return It(a,t)}function Tg(e){const t=(e-He)/cn;let r,n,a;for(r=e-He,n=0;r%cn===pt;r/=cn,n++);for(a=cn;a<e&&Ag(a,t,e)!==e-He;a++);if(n===1){const s=(e+He)/Bo;return function(o,d){const f=o.pow(d,s);if(!o.eql(o.sqr(f),d))throw new Error("Cannot find square root");return f}}const i=(r+He)/cn;return function(s,o){if(s.pow(o,t)===s.neg(s.ONE))throw new Error("Cannot find square root");let d=n,f=s.pow(s.mul(s.ONE,a),r),h=s.pow(o,i),p=s.pow(o,r);for(;!s.eql(p,s.ONE);){if(s.eql(p,s.ZERO))return s.ZERO;let y=1;for(let I=s.sqr(p);y<d&&!s.eql(I,s.ONE);y++)I=s.sqr(I);const g=s.pow(f,He<<BigInt(d-y-1));f=s.sqr(g),h=s.mul(h,g),p=s.mul(p,f),d=y}return h}}function Ng(e){if(e%Bo===xg){const t=(e+He)/Bo;return function(r,n){const a=r.pow(n,t);if(!r.eql(r.sqr(a),n))throw new Error("Cannot find square root");return a}}if(e%wh===mh){const t=(e-mh)/wh;return function(r,n){const a=r.mul(n,cn),i=r.pow(a,t),s=r.mul(n,i),o=r.mul(r.mul(s,cn),i),d=r.mul(s,r.sub(o,r.ONE));if(!r.eql(r.sqr(d),n))throw new Error("Cannot find square root");return d}}return Tg(e)}const kg=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Ns(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=kg.reduce((n,a)=>(n[a]="function",n),t);return si(e,r)}function f1(e,t,r){if(r<pt)throw new Error("Expected power > 0");if(r===pt)return e.ONE;if(r===He)return t;let n=e.ONE,a=t;for(;r>pt;)r&He&&(n=e.mul(n,a)),a=e.sqr(a),r>>=He;return n}function Cg(e,t){const r=new Array(t.length),n=t.reduce((i,s,o)=>e.is0(s)?i:(r[o]=i,e.mul(i,s)),e.ONE),a=e.inv(n);return t.reduceRight((i,s,o)=>e.is0(s)?i:(r[o]=e.mul(i,r[o]),e.mul(i,s)),a),r}function Dc(e,t){const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Mc(e,t,r=!1,n={}){if(e<=pt)throw new Error(`Expected Fp ORDER > 0, got ${e}`);const{nBitLength:a,nByteLength:i}=Dc(e,t);if(i>2048)throw new Error("Field lengths over 2048 bytes are not supported");const s=Ng(e),o=Object.freeze({ORDER:e,BITS:a,BYTES:i,MASK:xs(a),ZERO:pt,ONE:He,create:d=>It(d,e),isValid:d=>{if(typeof d!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof d}`);return pt<=d&&d<e},is0:d=>d===pt,isOdd:d=>(d&He)===He,neg:d=>It(-d,e),eql:(d,f)=>d===f,sqr:d=>It(d*d,e),add:(d,f)=>It(d+f,e),sub:(d,f)=>It(d-f,e),mul:(d,f)=>It(d*f,e),pow:(d,f)=>f1(o,d,f),div:(d,f)=>It(d*jo(f,e),e),sqrN:d=>d*d,addN:(d,f)=>d+f,subN:(d,f)=>d-f,mulN:(d,f)=>d*f,inv:d=>jo(d,e),sqrt:n.sqrt||(d=>s(o,d)),invertBatch:d=>Cg(o,d),cmov:(d,f,h)=>h?f:d,toBytes:d=>r?Ql(d,i):Vn(d,i),fromBytes:d=>{if(d.length!==i)throw new Error(`Fp.fromBytes: expected ${i}, got ${d.length}`);return r?Rc(d):Lt(d)}});return Object.freeze(o)}function Rg(e,t,r=!1){e=jt("privateHash",e);const n=e.length,a=Dc(t).nByteLength+8;if(a<24||n<a||n>1024)throw new Error(`hashToPrivateScalar: expected ${a}-1024 bytes of input, got ${n}`);const i=r?Rc(e):Lt(e);return It(i,t-He)+He}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function h1(e){const{Fp:t}=e;Ns(t);for(const d of["t","roundsFull","roundsPartial"])if(typeof e[d]!="number"||!Number.isSafeInteger(e[d]))throw new Error(`Poseidon: invalid param ${d}=${e[d]} (${typeof e[d]})`);if(e.reversePartialPowIdx!==void 0&&typeof e.reversePartialPowIdx!="boolean")throw new Error(`Poseidon: invalid param reversePartialPowIdx=${e.reversePartialPowIdx}`);let r=e.sboxPower;if(r===void 0&&(r=5),typeof r!="number"||!Number.isSafeInteger(r))throw new Error(`Poseidon wrong sboxPower=${r}`);const n=BigInt(r);let a=d=>f1(t,d,n);if(r===3?a=d=>t.mul(t.sqrN(d),d):r===5&&(a=d=>t.mul(t.sqrN(t.sqrN(d)),d)),e.roundsFull%2!==0)throw new Error(`Poseidon roundsFull is not even: ${e.roundsFull}`);const i=e.roundsFull+e.roundsPartial;if(!Array.isArray(e.roundConstants)||e.roundConstants.length!==i)throw new Error("Poseidon: wrong round constants");const s=e.roundConstants.map(d=>{if(!Array.isArray(d)||d.length!==e.t)throw new Error(`Poseidon wrong round constants: ${d}`);return d.map(f=>{if(typeof f!="bigint"||!t.isValid(f))throw new Error(`Poseidon wrong round constant=${f}`);return t.create(f)})});if(!Array.isArray(e.mds)||e.mds.length!==e.t)throw new Error("Poseidon: wrong MDS matrix");const o=e.mds.map(d=>{if(!Array.isArray(d)||d.length!==e.t)throw new Error(`Poseidon MDS matrix row: ${d}`);return d.map(f=>{if(typeof f!="bigint")throw new Error(`Poseidon MDS matrix value=${f}`);return t.create(f)})});return Object.freeze({...e,rounds:i,sboxFn:a,roundConstants:s,mds:o})}function Pg(e,t){if(typeof t!="number")throw new Error("poseidonSplitConstants: wrong t");if(!Array.isArray(e)||e.length%t)throw new Error("poseidonSplitConstants: wrong rc");const r=[];let n=[];for(let a=0;a<e.length;a++)n.push(e[a]),n.length===t&&(r.push(n),n=[]);return r}function l1(e){const{t,Fp:r,rounds:n,sboxFn:a,reversePartialPowIdx:i}=h1(e),s=Math.floor(e.roundsFull/2),o=i?t-1:0,d=(h,p,y)=>(h=h.map((g,I)=>r.add(g,e.roundConstants[y][I])),p?h=h.map(g=>a(g)):h[o]=a(h[o]),h=e.mds.map(g=>g.reduce((I,O,T)=>r.add(I,r.mulN(O,h[T])),r.ZERO)),h),f=function(h){if(!Array.isArray(h)||h.length!==t)throw new Error(`Poseidon: wrong values (expected array of bigints with length ${t})`);h=h.map(y=>{if(typeof y!="bigint")throw new Error(`Poseidon: wrong value=${y} (${typeof y})`);return r.create(y)});let p=0;for(let y=0;y<s;y++)h=d(h,!0,p++);for(let y=0;y<e.roundsPartial;y++)h=d(h,!1,p++);for(let y=0;y<s;y++)h=d(h,!0,p++);if(p!==n)throw new Error(`Poseidon: wrong number of rounds: last round=${p}, total=${n}`);return h};return f.roundConstants=e.roundConstants,f}const Lg=Object.freeze(Object.defineProperty({__proto__:null,poseidon:l1,splitConstants:Pg,validateOpts:h1},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ug=BigInt(0),Xs=BigInt(1);function Dg(e,t){const r=(a,i)=>{const s=i.negate();return a?s:i},n=a=>{const i=Math.ceil(t/a)+1,s=2**(a-1);return{windows:i,windowSize:s}};return{constTimeNegate:r,unsafeLadder(a,i){let s=e.ZERO,o=a;for(;i>Ug;)i&Xs&&(s=s.add(o)),o=o.double(),i>>=Xs;return s},precomputeWindow(a,i){const{windows:s,windowSize:o}=n(i),d=[];let f=a,h=f;for(let p=0;p<s;p++){h=f,d.push(h);for(let y=1;y<o;y++)h=h.add(f),d.push(h);f=h.double()}return d},wNAF(a,i,s){const{windows:o,windowSize:d}=n(a);let f=e.ZERO,h=e.BASE;const p=BigInt(2**a-1),y=2**a,g=BigInt(a);for(let I=0;I<o;I++){const O=I*d;let T=Number(s&p);s>>=g,T>d&&(T-=y,s+=Xs);const C=O,_=O+Math.abs(T)-1,v=I%2!==0,w=T<0;T===0?h=h.add(r(v,i[C])):f=f.add(r(w,i[_]))}return{p:f,f:h}},wNAFCached(a,i,s,o){const d=a._WINDOW_SIZE||1;let f=i.get(a);return f||(f=this.precomputeWindow(a,d),d!==1&&i.set(a,o(f))),this.wNAF(d,f,s)}}}function u1(e){return Ns(e.Fp),si(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Dc(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Mg(e){const t=u1(e);si(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a}=t;if(r){if(!n.eql(a,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}const{bytesToNumberBE:Bg,hexToBytes:jg}=U7,zr={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){const{Err:t}=zr;if(e.length<2||e[0]!==2)throw new t("Invalid signature integer tag");const r=e[1],n=e.subarray(2,r+2);if(!r||n.length!==r)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:Bg(n),l:e.subarray(r+2)}},toSig(e){const{Err:t}=zr,r=typeof e=="string"?jg(e):e;if(!(r instanceof Uint8Array))throw new Error("ui8a expected");let n=r.length;if(n<2||r[0]!=48)throw new t("Invalid signature tag");if(r[1]!==n-2)throw new t("Invalid signature: incorrect length");const{d:a,l:i}=zr._parseInt(r.subarray(2)),{d:s,l:o}=zr._parseInt(i);if(o.length)throw new t("Invalid signature: left bytes after parsing");return{r:a,s}},hexFromSig(e){const t=f=>Number.parseInt(f[0],16)&8?"00"+f:f,r=f=>{const h=f.toString(16);return h.length&1?`0${h}`:h},n=t(r(e.s)),a=t(r(e.r)),i=n.length/2,s=a.length/2,o=r(i),d=r(s);return`30${r(s+i+4)}02${d}${a}02${o}${n}`}},er=BigInt(0),Ze=BigInt(1),Sr=BigInt(2),Xi=BigInt(3),_h=BigInt(4);function b1(e){const t=Mg(e),{Fp:r}=t,n=t.toBytes||((I,O,T)=>{const C=O.toAffine();return Yn(Uint8Array.from([4]),r.toBytes(C.x),r.toBytes(C.y))}),a=t.fromBytes||(I=>{const O=I.subarray(1),T=r.fromBytes(O.subarray(0,r.BYTES)),C=r.fromBytes(O.subarray(r.BYTES,2*r.BYTES));return{x:T,y:C}});function i(I){const{a:O,b:T}=t,C=r.sqr(I),_=r.mul(C,I);return r.add(r.add(_,r.mul(I,O)),T)}if(!r.eql(r.sqr(t.Gy),i(t.Gx)))throw new Error("bad generator point: equation left != right");function s(I){return typeof I=="bigint"&&er<I&&I<t.n}function o(I){if(!s(I))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function d(I){const{allowedPrivateKeyLengths:O,nByteLength:T,wrapPrivateKey:C,n:_}=t;if(O&&typeof I!="bigint"){if(I instanceof Uint8Array&&(I=Gr(I)),typeof I!="string"||!O.includes(I.length))throw new Error("Invalid key");I=I.padStart(T*2,"0")}let v;try{v=typeof I=="bigint"?I:Lt(jt("private key",I,T))}catch{throw new Error(`private key must be ${T} bytes, hex or bigint, not ${typeof I}`)}return C&&(v=It(v,_)),o(v),v}const f=new Map;function h(I){if(!(I instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(O,T,C){if(this.px=O,this.py=T,this.pz=C,O==null||!r.isValid(O))throw new Error("x required");if(T==null||!r.isValid(T))throw new Error("y required");if(C==null||!r.isValid(C))throw new Error("z required")}static fromAffine(O){const{x:T,y:C}=O||{};if(!O||!r.isValid(T)||!r.isValid(C))throw new Error("invalid affine point");if(O instanceof p)throw new Error("projective point not allowed");const _=v=>r.eql(v,r.ZERO);return _(T)&&_(C)?p.ZERO:new p(T,C,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(O){const T=r.invertBatch(O.map(C=>C.pz));return O.map((C,_)=>C.toAffine(T[_])).map(p.fromAffine)}static fromHex(O){const T=p.fromAffine(a(jt("pointHex",O)));return T.assertValidity(),T}static fromPrivateKey(O){return p.BASE.multiply(d(O))}_setWindowSize(O){this._WINDOW_SIZE=O,f.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:O,y:T}=this.toAffine();if(!r.isValid(O)||!r.isValid(T))throw new Error("bad point: x or y not FE");const C=r.sqr(T),_=i(O);if(!r.eql(C,_))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:O}=this.toAffine();if(r.isOdd)return!r.isOdd(O);throw new Error("Field doesn't support isOdd")}equals(O){h(O);const{px:T,py:C,pz:_}=this,{px:v,py:w,pz:A}=O,b=r.eql(r.mul(T,A),r.mul(v,_)),c=r.eql(r.mul(C,A),r.mul(w,_));return b&&c}negate(){return new p(this.px,r.neg(this.py),this.pz)}double(){const{a:O,b:T}=t,C=r.mul(T,Xi),{px:_,py:v,pz:w}=this;let A=r.ZERO,b=r.ZERO,c=r.ZERO,u=r.mul(_,_),R=r.mul(v,v),E=r.mul(w,w),N=r.mul(_,v);return N=r.add(N,N),c=r.mul(_,w),c=r.add(c,c),A=r.mul(O,c),b=r.mul(C,E),b=r.add(A,b),A=r.sub(R,b),b=r.add(R,b),b=r.mul(A,b),A=r.mul(N,A),c=r.mul(C,c),E=r.mul(O,E),N=r.sub(u,E),N=r.mul(O,N),N=r.add(N,c),c=r.add(u,u),u=r.add(c,u),u=r.add(u,E),u=r.mul(u,N),b=r.add(b,u),E=r.mul(v,w),E=r.add(E,E),u=r.mul(E,N),A=r.sub(A,u),c=r.mul(E,R),c=r.add(c,c),c=r.add(c,c),new p(A,b,c)}add(O){h(O);const{px:T,py:C,pz:_}=this,{px:v,py:w,pz:A}=O;let b=r.ZERO,c=r.ZERO,u=r.ZERO;const R=t.a,E=r.mul(t.b,Xi);let N=r.mul(T,v),D=r.mul(C,w),$=r.mul(_,A),S=r.add(T,C),m=r.add(v,w);S=r.mul(S,m),m=r.add(N,D),S=r.sub(S,m),m=r.add(T,_);let L=r.add(v,A);return m=r.mul(m,L),L=r.add(N,$),m=r.sub(m,L),L=r.add(C,_),b=r.add(w,A),L=r.mul(L,b),b=r.add(D,$),L=r.sub(L,b),u=r.mul(R,m),b=r.mul(E,$),u=r.add(b,u),b=r.sub(D,u),u=r.add(D,u),c=r.mul(b,u),D=r.add(N,N),D=r.add(D,N),$=r.mul(R,$),m=r.mul(E,m),D=r.add(D,$),$=r.sub(N,$),$=r.mul(R,$),m=r.add(m,$),N=r.mul(D,m),c=r.add(c,N),N=r.mul(L,m),b=r.mul(S,b),b=r.sub(b,N),N=r.mul(S,D),u=r.mul(L,u),u=r.add(u,N),new p(b,c,u)}subtract(O){return this.add(O.negate())}is0(){return this.equals(p.ZERO)}wNAF(O){return g.wNAFCached(this,f,O,T=>{const C=r.invertBatch(T.map(_=>_.pz));return T.map((_,v)=>_.toAffine(C[v])).map(p.fromAffine)})}multiplyUnsafe(O){const T=p.ZERO;if(O===er)return T;if(o(O),O===Ze)return this;const{endo:C}=t;if(!C)return g.unsafeLadder(this,O);let{k1neg:_,k1:v,k2neg:w,k2:A}=C.splitScalar(O),b=T,c=T,u=this;for(;v>er||A>er;)v&Ze&&(b=b.add(u)),A&Ze&&(c=c.add(u)),u=u.double(),v>>=Ze,A>>=Ze;return _&&(b=b.negate()),w&&(c=c.negate()),c=new p(r.mul(c.px,C.beta),c.py,c.pz),b.add(c)}multiply(O){o(O);let T=O,C,_;const{endo:v}=t;if(v){const{k1neg:w,k1:A,k2neg:b,k2:c}=v.splitScalar(T);let{p:u,f:R}=this.wNAF(A),{p:E,f:N}=this.wNAF(c);u=g.constTimeNegate(w,u),E=g.constTimeNegate(b,E),E=new p(r.mul(E.px,v.beta),E.py,E.pz),C=u.add(E),_=R.add(N)}else{const{p:w,f:A}=this.wNAF(T);C=w,_=A}return p.normalizeZ([C,_])[0]}multiplyAndAddUnsafe(O,T,C){const _=p.BASE,v=(A,b)=>b===er||b===Ze||!A.equals(_)?A.multiplyUnsafe(b):A.multiply(b),w=v(this,T).add(v(O,C));return w.is0()?void 0:w}toAffine(O){const{px:T,py:C,pz:_}=this,v=this.is0();O==null&&(O=v?r.ONE:r.inv(_));const w=r.mul(T,O),A=r.mul(C,O),b=r.mul(_,O);if(v)return{x:r.ZERO,y:r.ZERO};if(!r.eql(b,r.ONE))throw new Error("invZ was invalid");return{x:w,y:A}}isTorsionFree(){const{h:O,isTorsionFree:T}=t;if(O===Ze)return!0;if(T)return T(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:O,clearCofactor:T}=t;return O===Ze?this:T?T(p,this):this.multiplyUnsafe(t.h)}toRawBytes(O=!0){return this.assertValidity(),n(p,this,O)}toHex(O=!0){return Gr(this.toRawBytes(O))}}p.BASE=new p(t.Gx,t.Gy,r.ONE),p.ZERO=new p(r.ZERO,r.ONE,r.ZERO);const y=t.nBitLength,g=Dg(p,t.endo?Math.ceil(y/2):y);return{CURVE:t,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:i,isWithinCurveOrder:s}}function zg(e){const t=u1(e);return si(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function p1(e){const t=zg(e),{Fp:r,n}=t,a=r.BYTES+1,i=2*r.BYTES+1;function s(m){return er<m&&m<r.ORDER}function o(m){return It(m,n)}function d(m){return jo(m,n)}const{ProjectivePoint:f,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:y}=b1({...t,toBytes(m,L,z){const F=L.toAffine(),M=r.toBytes(F.x),H=Yn;return z?H(Uint8Array.from([L.hasEvenY()?2:3]),M):H(Uint8Array.from([4]),M,r.toBytes(F.y))},fromBytes(m){const L=m.length,z=m[0],F=m.subarray(1);if(L===a&&(z===2||z===3)){const M=Lt(F);if(!s(M))throw new Error("Point is not on curve");const H=p(M);let q=r.sqrt(H);const W=(q&Ze)===Ze;return(z&1)===1!==W&&(q=r.neg(q)),{x:M,y:q}}else if(L===i&&z===4){const M=r.fromBytes(F.subarray(0,r.BYTES)),H=r.fromBytes(F.subarray(r.BYTES,2*r.BYTES));return{x:M,y:H}}else throw new Error(`Point of length ${L} was invalid. Expected ${a} compressed bytes or ${i} uncompressed bytes`)}}),g=m=>Gr(Vn(m,t.nByteLength));function I(m){const L=n>>Ze;return m>L}function O(m){return I(m)?o(-m):m}const T=(m,L,z)=>Lt(m.slice(L,z));class C{constructor(L,z,F){this.r=L,this.s=z,this.recovery=F,this.assertValidity()}static fromCompact(L){const z=t.nByteLength;return L=jt("compactSignature",L,z*2),new C(T(L,0,z),T(L,z,2*z))}static fromDER(L){const{r:z,s:F}=zr.toSig(jt("DER",L));return new C(z,F)}assertValidity(){if(!y(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!y(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(L){return new C(this.r,this.s,L)}recoverPublicKey(L){const{r:z,s:F,recovery:M}=this,H=c(jt("msgHash",L));if(M==null||![0,1,2,3].includes(M))throw new Error("recovery id invalid");const q=M===2||M===3?z+t.n:z;if(q>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const W=M&1?"03":"02",K=f.fromHex(W+g(q)),Q=d(q),Y=o(-H*Q),te=o(F*Q),B=f.BASE.multiplyAndAddUnsafe(K,Y,te);if(!B)throw new Error("point at infinify");return B.assertValidity(),B}hasHighS(){return I(this.s)}normalizeS(){return this.hasHighS()?new C(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Wr(this.toDERHex())}toDERHex(){return zr.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Wr(this.toCompactHex())}toCompactHex(){return g(this.r)+g(this.s)}}const _={isValidPrivateKey(m){try{return h(m),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const m=t.randomBytes(r.BYTES+8),L=Rg(m,n);return Vn(L,t.nByteLength)},precompute(m=8,L=f.BASE){return L._setWindowSize(m),L.multiply(BigInt(3)),L}};function v(m,L=!0){return f.fromPrivateKey(m).toRawBytes(L)}function w(m){const L=m instanceof Uint8Array,z=typeof m=="string",F=(L||z)&&m.length;return L?F===a||F===i:z?F===2*a||F===2*i:m instanceof f}function A(m,L,z=!0){if(w(m))throw new Error("first arg must be private key");if(!w(L))throw new Error("second arg must be public key");return f.fromHex(L).multiply(h(m)).toRawBytes(z)}const b=t.bits2int||function(m){const L=Lt(m),z=m.length*8-t.nBitLength;return z>0?L>>BigInt(z):L},c=t.bits2int_modN||function(m){return o(b(m))},u=xs(t.nBitLength);function R(m){if(typeof m!="bigint")throw new Error("bigint expected");if(!(er<=m&&m<u))throw new Error(`bigint expected < 2^${t.nBitLength}`);return Vn(m,t.nByteLength)}function E(m,L,z=N){if(["recovered","canonical"].some(P=>P in z))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:M}=t;let{lowS:H,prehash:q,extraEntropy:W}=z;H==null&&(H=!0),m=jt("msgHash",m),q&&(m=jt("prehashed msgHash",F(m)));const K=c(m),Q=h(L),Y=[R(Q),R(K)];if(W!=null){const P=W===!0?M(r.BYTES):W;Y.push(jt("extraEntropy",P,r.BYTES))}const te=Yn(...Y),B=K;function j(P){const l=b(P);if(!y(l))return;const k=d(l),G=f.BASE.multiply(l).toAffine(),Z=o(G.x);if(Z===er)return;const oe=o(k*o(B+Z*Q));if(oe===er)return;let pe=(G.x===Z?0:2)|Number(G.y&Ze),he=oe;return H&&I(oe)&&(he=O(oe),pe^=1),new C(Z,he,pe)}return{seed:te,k2sig:j}}const N={lowS:t.lowS,prehash:!1},D={lowS:t.lowS,prehash:!1};function $(m,L,z=N){const{seed:F,k2sig:M}=E(m,L,z);return e1(t.hash.outputLen,t.nByteLength,t.hmac)(F,M)}f.BASE._setWindowSize(8);function S(m,L,z,F=D){var k;const M=m;if(L=jt("msgHash",L),z=jt("publicKey",z),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:H,prehash:q}=F;let W,K;try{if(typeof M=="string"||M instanceof Uint8Array)try{W=C.fromDER(M)}catch(G){if(!(G instanceof zr.Err))throw G;W=C.fromCompact(M)}else if(typeof M=="object"&&typeof M.r=="bigint"&&typeof M.s=="bigint"){const{r:G,s:Z}=M;W=new C(G,Z)}else throw new Error("PARSE");K=f.fromHex(z)}catch(G){if(G.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(H&&W.hasHighS())return!1;q&&(L=t.hash(L));const{r:Q,s:Y}=W,te=c(L),B=d(Y),j=o(te*B),P=o(Q*B),l=(k=f.BASE.multiplyAndAddUnsafe(K,j,P))==null?void 0:k.toAffine();return l?o(l.x)===Q:!1}return{CURVE:t,getPublicKey:v,getSharedSecret:A,sign:$,verify:S,ProjectivePoint:f,Signature:C,utils:_}}function g1(e,t){const r=e.ORDER;let n=er;for(let y=r-Ze;y%Sr===er;y/=Sr)n+=Ze;const a=n,i=(r-Ze)/Sr**a,s=(i-Ze)/Sr,o=Sr**a-Ze,d=Sr**(a-Ze),f=e.pow(t,i),h=e.pow(t,(i+Ze)/Sr);let p=(y,g)=>{let I=f,O=e.pow(g,o),T=e.sqr(O);T=e.mul(T,g);let C=e.mul(y,T);C=e.pow(C,s),C=e.mul(C,O),O=e.mul(C,g),T=e.mul(C,y);let _=e.mul(T,O);C=e.pow(_,d);let v=e.eql(C,e.ONE);O=e.mul(T,h),C=e.mul(_,I),T=e.cmov(O,T,v),_=e.cmov(C,_,v);for(let w=a;w>Ze;w--){let A=Sr**(w-Sr),b=e.pow(_,A);const c=e.eql(b,e.ONE);O=e.mul(T,I),I=e.mul(I,I),b=e.mul(_,I),T=e.cmov(O,T,c),_=e.cmov(b,_,c)}return{isValid:v,value:T}};if(e.ORDER%_h===Xi){const y=(e.ORDER-Xi)/_h,g=e.sqrt(e.neg(t));p=(I,O)=>{let T=e.sqr(O);const C=e.mul(I,O);T=e.mul(T,C);let _=e.pow(T,y);_=e.mul(_,C);const v=e.mul(_,g),w=e.mul(e.sqr(_),O),A=e.eql(w,I);let b=e.cmov(v,_,A);return{isValid:A,value:b}}}return p}function $g(e,t){if(Ns(e),!e.isValid(t.A)||!e.isValid(t.B)||!e.isValid(t.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const r=g1(e,t.Z);if(!e.isOdd)throw new Error("Fp.isOdd is not implemented!");return n=>{let a,i,s,o,d,f,h,p;a=e.sqr(n),a=e.mul(a,t.Z),i=e.sqr(a),i=e.add(i,a),s=e.add(i,e.ONE),s=e.mul(s,t.B),o=e.cmov(t.Z,e.neg(i),!e.eql(i,e.ZERO)),o=e.mul(o,t.A),i=e.sqr(s),f=e.sqr(o),d=e.mul(f,t.A),i=e.add(i,d),i=e.mul(i,s),f=e.mul(f,o),d=e.mul(f,t.B),i=e.add(i,d),h=e.mul(a,s);const{isValid:y,value:g}=r(i,f);p=e.mul(a,n),p=e.mul(p,g),h=e.cmov(h,s,y),p=e.cmov(p,g,y);const I=e.isOdd(n)===e.isOdd(p);return p=e.cmov(e.neg(p),p,I),h=e.div(h,o),{x:h,y:p}}}const Fg=Object.freeze(Object.defineProperty({__proto__:null,DER:zr,SWUFpSqrtRatio:g1,mapToCurveSimpleSWU:$g,weierstrass:p1,weierstrassPoints:b1},Symbol.toStringTag,{value:"Module"}));function zo(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Hg(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function y1(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function qg(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");zo(e.outputLen),zo(e.blockLen)}function Vg(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Kg(e,t){y1(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const ki={number:zo,bool:Hg,bytes:y1,hash:qg,exists:Vg,output:Kg},Js=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Gg=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Gg)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Wg(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Yg(e){if(typeof e=="string"&&(e=Wg(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}function Zg(...e){if(!e.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(e.length===1)return e[0];const t=e.reduce((n,a)=>n+a.length,0),r=new Uint8Array(t);for(let n=0,a=0;n<e.length;n++){const i=e[n];r.set(i,a),a+=i.length}return r}class Xg{clone(){return this._cloneInto()}}function Jg(e=32){if(Js&&typeof Js.getRandomValues=="function")return Js.getRandomValues(new Uint8Array(e));throw new Error("crypto.getRandomValues must be defined")}class m1 extends Xg{constructor(t,r){super(),this.finished=!1,this.destroyed=!1,ki.hash(t);const n=Yg(r);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const a=this.blockLen,i=new Uint8Array(a);i.set(n.length>a?t.create().update(n).digest():n);for(let s=0;s<i.length;s++)i[s]^=54;this.iHash.update(i),this.oHash=t.create();for(let s=0;s<i.length;s++)i[s]^=106;this.oHash.update(i),i.fill(0)}update(t){return ki.exists(this),this.iHash.update(t),this}digestInto(t){ki.exists(this),ki.bytes(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:a,destroyed:i,blockLen:s,outputLen:o}=this;return t=t,t.finished=a,t.destroyed=i,t.blockLen=s,t.outputLen=o,t.oHash=r._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const w1=(e,t,r)=>new m1(e,t).update(r).digest();w1.create=(e,t)=>new m1(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Qg(e){return{hash:e,hmac:(t,...r)=>w1(e,t,Zg(...r)),randomBytes:Jg}}const Ji=BigInt("3618502788666131213697322783095070105526743751716087489154079457884512865583"),_1=252;function vh(e){for(;e[0]===0;)e=e.subarray(1);const t=e.length*8-_1,r=Lt(e);return t>0?r>>BigInt(t):r}function v1(e){return typeof e=="string"&&(e=zc(e),e.length&1&&(e="0"+e)),Wr(e)}const An=p1({a:BigInt(1),b:BigInt("3141592653589793238462643383279502884197169399375105820974944592307816406665"),Fp:Mc(BigInt("0x800000000000011000000000000000000000000000000000000000000000001")),n:Ji,nBitLength:_1,Gx:BigInt("874739451078007766457464989774322083649278607533249481151382481072868806602"),Gy:BigInt("152666792071518830868575557812948353041420400780739481342941381225525861407"),h:BigInt(1),lowS:!1,...Qg(Uc),bits2int:vh,bits2int_modN:e=>{const t=Lt(e).toString(16);return t.length===63&&(e=v1(t+"0")),It(vh(e),Ji)}}),ey=An;function mn(e){return jt("",typeof e=="string"?v1(e):e)}function Bc(e){return Gr(mn(e)).padStart(64,"0")}function E1(e,t=!1){return An.getPublicKey(Bc(e),t)}function ty(e,t){return An.getSharedSecret(Bc(e),t)}function Ta(e,t,r){return An.sign(mn(e),Bc(t),r)}function ry(e,t,r){const n=e instanceof S1?e:mn(e);return An.verify(n,mn(t),mn(r))}const{CURVE:ny,ProjectivePoint:Bn,Signature:S1,utils:jc}=An;function I1(e){return`0x${Gr(e.subarray(1)).replace(/^0+/gm,"")}`}function zc(e){return e.replace(/^0x/i,"")}function ay(e){return`0x${e.toString(16)}`}function O1(e){const t=mn(e),r=2n**256n,n=r-It(r,Ji);for(let a=0;;a++){const i=$o(Yn(t,Pc(BigInt(a))));if(i<n)return It(i,Ji).toString(16);if(a===1e5)throw new Error("grindKey is broken: tried 100k vals")}}function $c(e){return I1(E1(e,!0))}function iy(e){if(e=zc(e),e.length!==130)throw new Error("Wrong ethereum signature");return O1(e.substring(0,64))}const sy=2n**31n-1n,Ci=e=>Number(e&sy);function oy(e,t,r,n){const a=Ci($o(e)),i=Ci($o(t)),s=Os(zc(r));return`m/2645'/${a}'/${i}'/${Ci(s)}'/${Ci(s>>31n)}'/${n}`}const $a=[new Bn(2089986280348253421170679821480865132823066470938446095505822317253594081284n,1713931329540660377023406109199410414810705867260802078187082345529207694986n,1n),new Bn(996781205833008774514500082376783249102396023663454813447423147977397232763n,1668503676786377725805489344771023921079126552019160156920634619255970485781n,1n),new Bn(2251563274489750535117886426533222435294046428347329203627021249169616184184n,1798716007562728905295480679789526322175868328062420237419143593021674992973n,1n),new Bn(2138414695194151160943305727036575959195309218611738193261179310511854807447n,113410276730064486255102093846540133784865286929052426931474106396135072156n,1n),new Bn(2379962749567351885752724891227938183011949129833673362440656643086021394946n,776496453633298175483985398648758586525933812536653089401905292063708816422n,1n)];function x1(e,t){const r=[];let n=e;for(let a=0;a<248;a++)r.push(n),n=n.double();n=t;for(let a=0;a<4;a++)r.push(n),n=n.double();return r}const cy=x1($a[1],$a[2]),dy=x1($a[3],$a[4]);function A1(e){let t;if(typeof e=="bigint")t=e;else if(typeof e=="number"){if(!Number.isSafeInteger(e))throw new Error(`Invalid pedersenArg: ${e}`);t=BigInt(e)}else t=Lt(mn(e));if(!(0n<=t&&t<An.CURVE.Fp.ORDER))throw new Error(`PedersenArg should be 0 <= value < CURVE.P: ${t}`);return t}function Eh(e,t,r){let n=A1(t);for(let a=0;a<252;a++){const i=r[a];if(i.equals(e))throw new Error("Same point");(n&1n)!==0n&&(e=e.add(i)),n>>=1n}return e}function ia(e,t){let r=$a[0];return r=Eh(r,e,cy),r=Eh(r,t,dy),I1(r.toRawBytes(!0))}function fy(e,t=ia){if(!Array.isArray(e)||e.length<1)throw new Error("data should be array of at least 1 element");return e.length===1?ay(A1(e[0])):Array.from(e).reverse().reduce((r,n)=>t(n,r))}const hy=(e,t=ia)=>[0,...e,e.length].reduce((r,n)=>t(r,n)),ly=xs(250),oi=e=>Lt(wg(e))&ly,$o=e=>Lt(Uc(e)),uy=Mc(BigInt("14474011154664525231415395255581126252639794253786371766033694892385558855681")),T1=Mc(BigInt("3618502788666131213697322783095070105623107215331596699973092056135872020481"));function Fo(e,t,r){const n=e.fromBytes(Uc(n1(`${t}${r}`)));return e.create(n)}function N1(e,t,r,n=0){const a=[],i=[];for(let s=0;s<r;s++)a.push(Fo(e,`${t}x`,n*r+s)),i.push(Fo(e,`${t}y`,n*r+s));if(new Set([...a,...i]).size!==2*r)throw new Error("X and Y values are not distinct");return a.map(s=>i.map(o=>e.inv(e.sub(s,o))))}const by=[[3,1,1],[1,-1,1],[1,1,-2]].map(e=>e.map(BigInt));function Fc(e,t){if(Ns(e.Fp),!Number.isSafeInteger(e.rate)||!Number.isSafeInteger(e.capacity))throw new Error(`Wrong poseidon opts: ${e}`);const r=e.rate+e.capacity,n=e.roundsFull+e.roundsPartial,a=[];for(let s=0;s<n;s++){const o=[];for(let d=0;d<r;d++)o.push(Fo(e.Fp,"Hades",r*s+d));a.push(o)}const i=l1({...e,t:r,sboxPower:3,reversePartialPowIdx:!0,mds:t,roundConstants:a});return i.m=r,i.rate=e.rate,i.capacity=e.capacity,i}function py(e,t=0){const r=e.rate+e.capacity;if(!Number.isSafeInteger(t))throw new Error(`Wrong mdsAttempt=${t}`);return Fc(e,N1(e.Fp,"HadesMDS",r,t))}const ci=Fc({Fp:T1,rate:2,capacity:1,roundsFull:8,roundsPartial:83},by);function k1(e,t,r=ci){return r([e,t,2n])[0]}function gy(e,t,r=ci){return Pc(k1(Lt(e),Lt(t),r))}function yy(e,t=ci){return t([e,0n,1n])[0]}function Yr(e,t=ci){const{m:r,rate:n}=t;if(!Array.isArray(e))throw new Error("bigint array expected in values");const a=Array.from(e);for(a.push(1n);a.length%n!==0;)a.push(0n);let i=new Array(r).fill(0n);for(let s=0;s<a.length;s+=n){for(let o=0;o<n;o++)i[o]+=a[s+o];i=t(i)}return i[0]}const my=Object.freeze(Object.defineProperty({__proto__:null,CURVE:ny,Fp251:T1,Fp253:uy,ProjectivePoint:Bn,Signature:S1,_poseidonMDS:N1,_starkCurve:ey,computeHashOnElements:hy,ethSigToPrivate:iy,getAccountPath:oy,getPublicKey:E1,getSharedSecret:ty,getStarkKey:$c,grindKey:O1,hashChain:fy,keccak:oi,pedersen:ia,poseidonBasic:Fc,poseidonCreate:py,poseidonHash:k1,poseidonHashFunc:gy,poseidonHashMany:Yr,poseidonHashSingle:yy,poseidonSmall:ci,sign:Ta,utils:jc,verify:ry},Symbol.toStringTag,{value:"Module"}));function di(e){return wy.test(e)}var wy=/^-?[0-9]+$/;function C1(e){return _y.test(e)}var _y=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?$/;function vy(e,t){var r=parseFloat(e),n=String(r),a=Sh(e),i=Sh(n);if(a===i)return!0;if((t==null?void 0:t.approx)===!0){var s=14;if(!di(e)&&i.length>=s&&a.startsWith(i.substring(0,s)))return!0}return!1}var Na=function(e){return e.underflow="underflow",e.overflow="overflow",e.truncate_integer="truncate_integer",e.truncate_float="truncate_float",e}({});function Ey(e){if(!vy(e,{approx:!1})){if(di(e))return Na.truncate_integer;var t=parseFloat(e);return isFinite(t)?t===0?Na.underflow:Na.truncate_float:Na.overflow}}function Sh(e){return e.replace(Sy,"").replace(Oy,"").replace(xy,"").replace(Iy,"")}var Sy=/[eE][+-]?\d+$/,Iy=/^-?(0*)?/,Oy=/\./,xy=/0+$/;function Zn(e){"@babel/helpers - typeof";return Zn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zn(e)}function Ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ih(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R1(n.key),n)}}function Ty(e,t,r){return t&&Ih(e.prototype,t),r&&Ih(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ny(e,t,r){return t=R1(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R1(e){var t=ky(e,"string");return Zn(t)==="symbol"?t:String(t)}function ky(e,t){if(Zn(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zn(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cy=function(){function e(t){if(Ay(this,e),Ny(this,"isLosslessNumber",!0),!C1(t))throw new Error('Invalid number (value: "'+t+'")');this.value=t}return Ty(e,[{key:"valueOf",value:function(){var t=Ey(this.value);if(t===void 0||t===Na.truncate_float)return parseFloat(this.value);if(di(this.value))return BigInt(this.value);throw new Error("Cannot safely convert to number: "+"the value '".concat(this.value,"' would ").concat(t," and become ").concat(parseFloat(this.value)))}},{key:"toString",value:function(){return this.value}}]),e}();function Ry(e){return e&&Zn(e)==="object"&&e.isLosslessNumber===!0||!1}function Py(e){return new Cy(e)}function Ly(e){return di(e)?BigInt(e):parseFloat(e)}function Ho(e){"@babel/helpers - typeof";return Ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ho(e)}function Uy(e,t){return Hc({"":e},"",e,t)}function Hc(e,t,r,n){return Array.isArray(r)?n.call(e,t,My(r,n)):r&&Ho(r)==="object"&&!Ry(r)?n.call(e,t,Dy(r,n)):n.call(e,t,r)}function Dy(e,t){return Object.keys(e).forEach(function(r){var n=Hc(e,r,e[r],t);n!==void 0?e[r]=n:delete e[r]}),e}function My(e,t){for(var r=0;r<e.length;r++)e[r]=Hc(e,r+"",e[r],t);return e}function qo(e){"@babel/helpers - typeof";return qo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qo(e)}function Qs(e){return $y(e)||zy(e)||jy(e)||By()}function By(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jy(e,t){if(e){if(typeof e=="string")return Vo(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vo(e,t)}}function zy(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $y(e){if(Array.isArray(e))return Vo(e)}function Vo(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function P1(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Py,n=0,a=o();return I(a),T(),t?Uy(a,t):a;function i(){if(e.charCodeAt(n)===Gy){n++,f();for(var S={},m=!0;n<e.length&&e.charCodeAt(n)!==xh;){m?m=!1:(y(),f());var L=n,z=h();z===void 0&&v(),f(),g();var F=o();F===void 0&&R(),Object.prototype.hasOwnProperty.call(S,z)&&!Ko(F,S[z])&&w(z,L+1),S[z]=F}return e.charCodeAt(n)!==xh&&A(),n++,S}}function s(){if(e.charCodeAt(n)===Wy){n++,f();for(var S=[],m=!0;n<e.length&&e.charCodeAt(n)!==Ah;){m?m=!1:y();var L=o();O(L),S.push(L)}return e.charCodeAt(n)!==Ah&&b(),n++,S}}function o(){var S,m,L,z,F,M;f();var H=(S=(m=(L=(z=(F=(M=h())!==null&&M!==void 0?M:p())!==null&&F!==void 0?F:i())!==null&&z!==void 0?z:s())!==null&&L!==void 0?L:d("true",!0))!==null&&m!==void 0?m:d("false",!1))!==null&&S!==void 0?S:d("null",null);return f(),H}function d(S,m){if(e.slice(n,n+S.length)===S)return n+=S.length,m}function f(){for(;Fy(e.charCodeAt(n));)n++}function h(){if(e.charCodeAt(n)===eo){n++;for(var S="";n<e.length&&e.charCodeAt(n)!==eo;){if(e.charCodeAt(n)===Ky){var m=e[n+1],L=Vy[m];L!==void 0?(S+=L,n++):m==="u"?Ri(e.charCodeAt(n+2))&&Ri(e.charCodeAt(n+3))&&Ri(e.charCodeAt(n+4))&&Ri(e.charCodeAt(n+5))?(S+=String.fromCharCode(parseInt(e.slice(n+2,n+6),16)),n+=5):E(n):u(n)}else qy(e.charCodeAt(n))?S+=e[n]:c(e[n]);n++}return _(),n++,S}}function p(){var S=n;if(e.charCodeAt(n)===Th&&(n++,C(S)),e.charCodeAt(n)===qc)n++;else if(Hy(e.charCodeAt(n)))for(n++;Pi(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===rm)for(n++,C(S);Pi(e.charCodeAt(n));)n++;if(e.charCodeAt(n)===om||e.charCodeAt(n)===sm)for(n++,(e.charCodeAt(n)===Th||e.charCodeAt(n)===Qy)&&n++,C(S);Pi(e.charCodeAt(n));)n++;if(n>S)return r(e.slice(S,n))}function y(){if(e.charCodeAt(n)!==tm)throw new SyntaxError("Comma ',' expected after value ".concat($()));n++}function g(){if(e.charCodeAt(n)!==nm)throw new SyntaxError("Colon ':' expected after property name ".concat($()));n++}function I(S){if(S===void 0)throw new SyntaxError("JSON value expected ".concat($()))}function O(S){if(S===void 0)throw new SyntaxError("Array item expected ".concat($()))}function T(){if(n<e.length)throw new SyntaxError("Expected end of input ".concat($()))}function C(S){if(!Pi(e.charCodeAt(n))){var m=e.slice(S,n);throw new SyntaxError("Invalid number '".concat(m,"', expecting a digit ").concat($()))}}function _(){if(e.charCodeAt(n)!==eo)throw new SyntaxError(`End of string '"' expected `.concat($()))}function v(){throw new SyntaxError("Quoted object key expected ".concat($()))}function w(S,m){throw new SyntaxError("Duplicate key '".concat(S,"' encountered at position ").concat(m))}function A(){throw new SyntaxError("Quoted object key or end of object '}' expected ".concat($()))}function b(){throw new SyntaxError("Array item or end of array ']' expected ".concat($()))}function c(S){throw new SyntaxError("Invalid character '".concat(S,"' ").concat(N()))}function u(S){var m=e.slice(S,S+2);throw new SyntaxError("Invalid escape character '".concat(m,"' ").concat(N()))}function R(){throw new SyntaxError("Object value expected after ':' ".concat(N()))}function E(S){for(var m=S+2;/\w/.test(e[m]);)m++;var L=e.slice(S,m);throw new SyntaxError("Invalid unicode character '".concat(L,"' ").concat(N()))}function N(){return"at position ".concat(n)}function D(){return n<e.length?"but got '".concat(e[n],"'"):"but reached end of input"}function $(){return D()+" "+N()}}function Fy(e){return e===Yy||e===Zy||e===Xy||e===Jy}function Ri(e){return e>=qc&&e<=Vc||e>=am&&e<=cm||e>=im&&e<=dm}function Pi(e){return e>=qc&&e<=Vc}function Hy(e){return e>=em&&e<=Vc}function qy(e){return e>=32&&e<=1114111}function Ko(e,t){if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(function(n,a){return Ko(n,t[a])});if(Oh(e)&&Oh(t)){var r=Qs(new Set([].concat(Qs(Object.keys(e)),Qs(Object.keys(t)))));return r.every(function(n){return Ko(e[n],t[n])})}return!1}function Oh(e){return qo(e)==="object"&&e!==null}var Vy={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},Ky=92,Gy=123,xh=125,Wy=91,Ah=93,Yy=32,Zy=10,Xy=9,Jy=13,eo=34,Qy=43,Th=45,qc=48,em=49,Vc=57,tm=44,rm=46,nm=58,am=65,im=97,sm=69,om=101,cm=70,dm=102;function Qi(e){"@babel/helpers - typeof";return Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qi(e)}function L1(e,t,r,n){var a=fm(r),i=typeof t=="function"?t.call({"":e},"",e):e;return s(i,"");function s(h,p){if(Array.isArray(n)){var y=n.find(function(I){return I.test(h)});if(y){var g=y.stringify(h);if(typeof g!="string"||!C1(g))throw new Error("Invalid JSON number: output of a number stringifier must be a string containing a JSON number "+"(output: ".concat(g,")"));return g}}if(typeof h=="boolean"||typeof h=="number"||typeof h=="string"||h===null||h instanceof Date||h instanceof Boolean||h instanceof Number||h instanceof String)return JSON.stringify(h);if(h&&h.isLosslessNumber||typeof h=="bigint")return h.toString();if(Array.isArray(h))return o(h,p);if(h&&Qi(h)==="object")return d(h,p)}function o(h,p){if(h.length===0)return"[]";for(var y=a?p+a:void 0,g=a?`[
`:"[",I=0;I<h.length;I++){var O=typeof t=="function"?t.call(h,String(I),h[I]):h[I];a&&(g+=y),typeof O<"u"&&typeof O!="function"?g+=s(O,y):g+="null",I<h.length-1&&(g+=a?`,
`:",")}return g+=a?`
`+p+"]":"]",g}function d(h,p){if(typeof h.toJSON=="function")return L1(h.toJSON(),t,r,void 0);var y=Array.isArray(t)?t.map(String):Object.keys(h);if(y.length===0)return"{}";var g=a?p+a:void 0,I=!0,O=a?`{
`:"{";return y.forEach(function(T){var C=typeof t=="function"?t.call(h,T,h[T]):h[T];if(f(T,C)){I?I=!1:O+=a?`,
`:",";var _=JSON.stringify(T);O+=a?g+_+": ":_+":",O+=s(C,g)}}),O+=a?`
`+p+"}":"}",O}function f(h,p){return typeof p<"u"&&typeof p!="function"&&Qi(p)!=="symbol"}}function fm(e){if(typeof e=="number")return" ".repeat(e);if(typeof e=="string"&&e!=="")return e}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const hm=4,Nh=0,kh=1,lm=2;function sa(e){let t=e.length;for(;--t>=0;)e[t]=0}const um=0,U1=1,bm=2,pm=3,gm=258,Kc=29,fi=256,Fa=fi+1+Kc,Kn=30,Gc=19,D1=2*Fa+1,bn=15,to=16,ym=7,Wc=256,M1=16,B1=17,j1=18,Go=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Fi=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),mm=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),z1=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),wm=512,Ar=new Array((Fa+2)*2);sa(Ar);const La=new Array(Kn*2);sa(La);const Ha=new Array(wm);sa(Ha);const qa=new Array(gm-pm+1);sa(qa);const Yc=new Array(Kc);sa(Yc);const es=new Array(Kn);sa(es);function ro(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let $1,F1,H1;function no(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const q1=e=>e<256?Ha[e]:Ha[256+(e>>>7)],Va=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},Pt=(e,t,r)=>{e.bi_valid>to-r?(e.bi_buf|=t<<e.bi_valid&65535,Va(e,e.bi_buf),e.bi_buf=t>>to-e.bi_valid,e.bi_valid+=r-to):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},hr=(e,t,r)=>{Pt(e,r[t*2],r[t*2+1])},V1=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},_m=e=>{e.bi_valid===16?(Va(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},vm=(e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,d=t.stat_desc.max_length;let f,h,p,y,g,I,O=0;for(y=0;y<=bn;y++)e.bl_count[y]=0;for(r[e.heap[e.heap_max]*2+1]=0,f=e.heap_max+1;f<D1;f++)h=e.heap[f],y=r[r[h*2+1]*2+1]+1,y>d&&(y=d,O++),r[h*2+1]=y,!(h>n)&&(e.bl_count[y]++,g=0,h>=o&&(g=s[h-o]),I=r[h*2],e.opt_len+=I*(y+g),i&&(e.static_len+=I*(a[h*2+1]+g)));if(O!==0){do{for(y=d-1;e.bl_count[y]===0;)y--;e.bl_count[y]--,e.bl_count[y+1]+=2,e.bl_count[d]--,O-=2}while(O>0);for(y=d;y!==0;y--)for(h=e.bl_count[y];h!==0;)p=e.heap[--f],!(p>n)&&(r[p*2+1]!==y&&(e.opt_len+=(y-r[p*2+1])*r[p*2],r[p*2+1]=y),h--)}},K1=(e,t,r)=>{const n=new Array(bn+1);let a=0,i,s;for(i=1;i<=bn;i++)a=a+r[i-1]<<1,n[i]=a;for(s=0;s<=t;s++){let o=e[s*2+1];o!==0&&(e[s*2]=V1(n[o]++,o))}},Em=()=>{let e,t,r,n,a;const i=new Array(bn+1);for(r=0,n=0;n<Kc-1;n++)for(Yc[n]=r,e=0;e<1<<Go[n];e++)qa[r++]=n;for(qa[r-1]=n,a=0,n=0;n<16;n++)for(es[n]=a,e=0;e<1<<Fi[n];e++)Ha[a++]=n;for(a>>=7;n<Kn;n++)for(es[n]=a<<7,e=0;e<1<<Fi[n]-7;e++)Ha[256+a++]=n;for(t=0;t<=bn;t++)i[t]=0;for(e=0;e<=143;)Ar[e*2+1]=8,e++,i[8]++;for(;e<=255;)Ar[e*2+1]=9,e++,i[9]++;for(;e<=279;)Ar[e*2+1]=7,e++,i[7]++;for(;e<=287;)Ar[e*2+1]=8,e++,i[8]++;for(K1(Ar,Fa+1,i),e=0;e<Kn;e++)La[e*2+1]=5,La[e*2]=V1(e,5);$1=new ro(Ar,Go,fi+1,Fa,bn),F1=new ro(La,Fi,0,Kn,bn),H1=new ro(new Array(0),mm,0,Gc,ym)},G1=e=>{let t;for(t=0;t<Fa;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Kn;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Gc;t++)e.bl_tree[t*2]=0;e.dyn_ltree[Wc*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},W1=e=>{e.bi_valid>8?Va(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},Ch=(e,t,r,n)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},ao=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&Ch(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!Ch(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},Rh=(e,t,r)=>{let n,a,i=0,s,o;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?hr(e,a,t):(s=qa[a],hr(e,s+fi+1,t),o=Go[s],o!==0&&(a-=Yc[s],Pt(e,a,o)),n--,s=q1(n),hr(e,s,r),o=Fi[s],o!==0&&(n-=es[s],Pt(e,n,o)));while(i<e.sym_next);hr(e,Wc,t)},Wo=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let s,o,d=-1,f;for(e.heap_len=0,e.heap_max=D1,s=0;s<i;s++)r[s*2]!==0?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):r[s*2+1]=0;for(;e.heap_len<2;)f=e.heap[++e.heap_len]=d<2?++d:0,r[f*2]=1,e.depth[f]=0,e.opt_len--,a&&(e.static_len-=n[f*2+1]);for(t.max_code=d,s=e.heap_len>>1;s>=1;s--)ao(e,r,s);f=i;do s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],ao(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[f*2]=r[s*2]+r[o*2],e.depth[f]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[s*2+1]=r[o*2+1]=f,e.heap[1]=f++,ao(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],vm(e,t),K1(r,d,e.bl_count)},Ph=(e,t,r)=>{let n,a=-1,i,s=t[0*2+1],o=0,d=7,f=4;for(s===0&&(d=138,f=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=s,s=t[(n+1)*2+1],!(++o<d&&i===s)&&(o<f?e.bl_tree[i*2]+=o:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[M1*2]++):o<=10?e.bl_tree[B1*2]++:e.bl_tree[j1*2]++,o=0,a=i,s===0?(d=138,f=3):i===s?(d=6,f=3):(d=7,f=4))},Lh=(e,t,r)=>{let n,a=-1,i,s=t[0*2+1],o=0,d=7,f=4;for(s===0&&(d=138,f=3),n=0;n<=r;n++)if(i=s,s=t[(n+1)*2+1],!(++o<d&&i===s)){if(o<f)do hr(e,i,e.bl_tree);while(--o!==0);else i!==0?(i!==a&&(hr(e,i,e.bl_tree),o--),hr(e,M1,e.bl_tree),Pt(e,o-3,2)):o<=10?(hr(e,B1,e.bl_tree),Pt(e,o-3,3)):(hr(e,j1,e.bl_tree),Pt(e,o-11,7));o=0,a=i,s===0?(d=138,f=3):i===s?(d=6,f=3):(d=7,f=4)}},Sm=e=>{let t;for(Ph(e,e.dyn_ltree,e.l_desc.max_code),Ph(e,e.dyn_dtree,e.d_desc.max_code),Wo(e,e.bl_desc),t=Gc-1;t>=3&&e.bl_tree[z1[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},Im=(e,t,r,n)=>{let a;for(Pt(e,t-257,5),Pt(e,r-1,5),Pt(e,n-4,4),a=0;a<n;a++)Pt(e,e.bl_tree[z1[a]*2+1],3);Lh(e,e.dyn_ltree,t-1),Lh(e,e.dyn_dtree,r-1)},Om=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return Nh;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return kh;for(r=32;r<fi;r++)if(e.dyn_ltree[r*2]!==0)return kh;return Nh};let Uh=!1;const xm=e=>{Uh||(Em(),Uh=!0),e.l_desc=new no(e.dyn_ltree,$1),e.d_desc=new no(e.dyn_dtree,F1),e.bl_desc=new no(e.bl_tree,H1),e.bi_buf=0,e.bi_valid=0,G1(e)},Y1=(e,t,r,n)=>{Pt(e,(um<<1)+(n?1:0),3),W1(e),Va(e,r),Va(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},Am=e=>{Pt(e,U1<<1,3),hr(e,Wc,Ar),_m(e)},Tm=(e,t,r,n)=>{let a,i,s=0;e.level>0?(e.strm.data_type===lm&&(e.strm.data_type=Om(e)),Wo(e,e.l_desc),Wo(e,e.d_desc),s=Sm(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?Y1(e,t,r,n):e.strategy===hm||i===a?(Pt(e,(U1<<1)+(n?1:0),3),Rh(e,Ar,La)):(Pt(e,(bm<<1)+(n?1:0),3),Im(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),Rh(e,e.dyn_ltree,e.dyn_dtree)),G1(e),n&&W1(e)},Nm=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(qa[r]+fi+1)*2]++,e.dyn_dtree[q1(t)*2]++),e.sym_next===e.sym_end);var km=xm,Cm=Y1,Rm=Tm,Pm=Nm,Lm=Am,Um={_tr_init:km,_tr_stored_block:Cm,_tr_flush_block:Rm,_tr_tally:Pm,_tr_align:Lm};const Dm=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,s=0;for(;r!==0;){s=r>2e3?2e3:r,r-=s;do a=a+t[n++]|0,i=i+a|0;while(--s);a%=65521,i%=65521}return a|i<<16|0};var Ka=Dm;const Mm=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},Bm=new Uint32Array(Mm()),jm=(e,t,r,n)=>{const a=Bm,i=n+r;e^=-1;for(let s=n;s<i;s++)e=e>>>8^a[(e^t[s])&255];return e^-1};var dt=jm,wn={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},oa={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:zm,_tr_stored_block:Yo,_tr_flush_block:$m,_tr_tally:Hr,_tr_align:Fm}=Um,{Z_NO_FLUSH:qr,Z_PARTIAL_FLUSH:Hm,Z_FULL_FLUSH:qm,Z_FINISH:Wt,Z_BLOCK:Dh,Z_OK:bt,Z_STREAM_END:Mh,Z_STREAM_ERROR:ur,Z_DATA_ERROR:Vm,Z_BUF_ERROR:io,Z_DEFAULT_COMPRESSION:Km,Z_FILTERED:Gm,Z_HUFFMAN_ONLY:Li,Z_RLE:Wm,Z_FIXED:Ym,Z_DEFAULT_STRATEGY:Zm,Z_UNKNOWN:Xm,Z_DEFLATED:ks}=oa,Jm=9,Qm=15,ew=8,tw=29,rw=256,Zo=rw+1+tw,nw=30,aw=19,iw=2*Zo+1,sw=15,we=3,$r=258,br=$r+we+1,ow=32,Xn=42,Zc=57,Xo=69,Jo=73,Qo=91,ec=103,pn=113,ka=666,At=1,ca=2,_n=3,da=4,cw=3,gn=(e,t)=>(e.msg=wn[t],t),Bh=e=>e*2-(e>4?9:0),jr=e=>{let t=e.length;for(;--t>=0;)e[t]=0},dw=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=a?r-a:0;while(--t);t=a,n=t;do r=e.prev[--n],e.prev[n]=r>=a?r-a:0;while(--t)};let fw=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Vr=fw;const Bt=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},$t=(e,t)=>{$m(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Bt(e.strm)},Ae=(e,t)=>{e.pending_buf[e.pending++]=t},xa=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},tc=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=Ka(e.adler,t,a,r):e.state.wrap===2&&(e.adler=dt(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},Z1=(e,t)=>{let r=e.max_chain_length,n=e.strstart,a,i,s=e.prev_length,o=e.nice_match;const d=e.strstart>e.w_size-br?e.strstart-(e.w_size-br):0,f=e.window,h=e.w_mask,p=e.prev,y=e.strstart+$r;let g=f[n+s-1],I=f[n+s];e.prev_length>=e.good_match&&(r>>=2),o>e.lookahead&&(o=e.lookahead);do if(a=t,!(f[a+s]!==I||f[a+s-1]!==g||f[a]!==f[n]||f[++a]!==f[n+1])){n+=2,a++;do;while(f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&n<y);if(i=$r-(y-n),n=y-$r,i>s){if(e.match_start=t,s=i,i>=o)break;g=f[n+s-1],I=f[n+s]}}while((t=p[t&h])>d&&--r!==0);return s<=e.lookahead?s:e.lookahead},Jn=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-br)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),dw(e),n+=t),e.strm.avail_in===0)break;if(r=tc(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=we)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Vr(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Vr(e,e.ins_h,e.window[a+we-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<we)););}while(e.lookahead<br&&e.strm.avail_in!==0)},X1=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,s=0,o=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==Wt||t===qr||n!==a+e.strm.avail_in)))break;s=t===Wt&&n===a+e.strm.avail_in?1:0,Yo(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Bt(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(tc(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(s===0);return o-=e.strm.avail_in,o&&(o>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=o&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-o,e.strm.next_in),e.strstart),e.strstart+=o,e.insert+=o>e.w_size-e.insert?e.w_size-e.insert:o),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?da:t!==qr&&t!==Wt&&e.strm.avail_in===0&&e.strstart===e.block_start?ca:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(tc(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===Wt)&&t!==qr&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,s=t===Wt&&e.strm.avail_in===0&&n===a?1:0,Yo(e,e.block_start,n,s),e.block_start+=n,Bt(e.strm)),s?_n:At)},so=(e,t)=>{let r,n;for(;;){if(e.lookahead<br){if(Jn(e),e.lookahead<br&&t===qr)return At;if(e.lookahead===0)break}if(r=0,e.lookahead>=we&&(e.ins_h=Vr(e,e.ins_h,e.window[e.strstart+we-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-br&&(e.match_length=Z1(e,r)),e.match_length>=we)if(n=Hr(e,e.strstart-e.match_start,e.match_length-we),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=we){e.match_length--;do e.strstart++,e.ins_h=Vr(e,e.ins_h,e.window[e.strstart+we-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Vr(e,e.ins_h,e.window[e.strstart+1]);else n=Hr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&($t(e,!1),e.strm.avail_out===0))return At}return e.insert=e.strstart<we-1?e.strstart:we-1,t===Wt?($t(e,!0),e.strm.avail_out===0?_n:da):e.sym_next&&($t(e,!1),e.strm.avail_out===0)?At:ca},Ln=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<br){if(Jn(e),e.lookahead<br&&t===qr)return At;if(e.lookahead===0)break}if(r=0,e.lookahead>=we&&(e.ins_h=Vr(e,e.ins_h,e.window[e.strstart+we-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=we-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-br&&(e.match_length=Z1(e,r),e.match_length<=5&&(e.strategy===Gm||e.match_length===we&&e.strstart-e.match_start>4096)&&(e.match_length=we-1)),e.prev_length>=we&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-we,n=Hr(e,e.strstart-1-e.prev_match,e.prev_length-we),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Vr(e,e.ins_h,e.window[e.strstart+we-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=we-1,e.strstart++,n&&($t(e,!1),e.strm.avail_out===0))return At}else if(e.match_available){if(n=Hr(e,0,e.window[e.strstart-1]),n&&$t(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return At}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Hr(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<we-1?e.strstart:we-1,t===Wt?($t(e,!0),e.strm.avail_out===0?_n:da):e.sym_next&&($t(e,!1),e.strm.avail_out===0)?At:ca},hw=(e,t)=>{let r,n,a,i;const s=e.window;for(;;){if(e.lookahead<=$r){if(Jn(e),e.lookahead<=$r&&t===qr)return At;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=we&&e.strstart>0&&(a=e.strstart-1,n=s[a],n===s[++a]&&n===s[++a]&&n===s[++a])){i=e.strstart+$r;do;while(n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&n===s[++a]&&a<i);e.match_length=$r-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=we?(r=Hr(e,1,e.match_length-we),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Hr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&($t(e,!1),e.strm.avail_out===0))return At}return e.insert=0,t===Wt?($t(e,!0),e.strm.avail_out===0?_n:da):e.sym_next&&($t(e,!1),e.strm.avail_out===0)?At:ca},lw=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(Jn(e),e.lookahead===0)){if(t===qr)return At;break}if(e.match_length=0,r=Hr(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&($t(e,!1),e.strm.avail_out===0))return At}return e.insert=0,t===Wt?($t(e,!0),e.strm.avail_out===0?_n:da):e.sym_next&&($t(e,!1),e.strm.avail_out===0)?At:ca};function or(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const Ca=[new or(0,0,0,0,X1),new or(4,4,8,4,so),new or(4,5,16,8,so),new or(4,6,32,32,so),new or(4,4,16,16,Ln),new or(8,16,32,32,Ln),new or(8,16,128,128,Ln),new or(8,32,128,256,Ln),new or(32,128,258,1024,Ln),new or(32,258,258,4096,Ln)],uw=e=>{e.window_size=2*e.w_size,jr(e.head),e.max_lazy_match=Ca[e.level].max_lazy,e.good_match=Ca[e.level].good_length,e.nice_match=Ca[e.level].nice_length,e.max_chain_length=Ca[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=we-1,e.match_available=0,e.ins_h=0};function bw(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=ks,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(iw*2),this.dyn_dtree=new Uint16Array((2*nw+1)*2),this.bl_tree=new Uint16Array((2*aw+1)*2),jr(this.dyn_ltree),jr(this.dyn_dtree),jr(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(sw+1),this.heap=new Uint16Array(2*Zo+1),jr(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*Zo+1),jr(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const hi=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Xn&&t.status!==Zc&&t.status!==Xo&&t.status!==Jo&&t.status!==Qo&&t.status!==ec&&t.status!==pn&&t.status!==ka?1:0},J1=e=>{if(hi(e))return gn(e,ur);e.total_in=e.total_out=0,e.data_type=Xm;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?Zc:t.wrap?Xn:pn,e.adler=t.wrap===2?0:1,t.last_flush=-2,zm(t),bt},Q1=e=>{const t=J1(e);return t===bt&&uw(e.state),t},pw=(e,t)=>hi(e)||e.state.wrap!==2?ur:(e.state.gzhead=t,bt),eu=(e,t,r,n,a,i)=>{if(!e)return ur;let s=1;if(t===Km&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),a<1||a>Jm||r!==ks||n<8||n>15||t<0||t>9||i<0||i>Ym||n===8&&s!==1)return gn(e,ur);n===8&&(n=9);const o=new bw;return e.state=o,o.strm=e,o.status=Xn,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=a+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+we-1)/we),o.window=new Uint8Array(o.w_size*2),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<a+6,o.pending_buf_size=o.lit_bufsize*4,o.pending_buf=new Uint8Array(o.pending_buf_size),o.sym_buf=o.lit_bufsize,o.sym_end=(o.lit_bufsize-1)*3,o.level=t,o.strategy=i,o.method=r,Q1(e)},gw=(e,t)=>eu(e,t,ks,Qm,ew,Zm),yw=(e,t)=>{if(hi(e)||t>Dh||t<0)return e?gn(e,ur):ur;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===ka&&t!==Wt)return gn(e,e.avail_out===0?io:ur);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Bt(e),e.avail_out===0)return r.last_flush=-1,bt}else if(e.avail_in===0&&Bh(t)<=Bh(n)&&t!==Wt)return gn(e,io);if(r.status===ka&&e.avail_in!==0)return gn(e,io);if(r.status===Xn&&r.wrap===0&&(r.status=pn),r.status===Xn){let a=ks+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=Li||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=ow),a+=31-a%31,xa(r,a),r.strstart!==0&&(xa(r,e.adler>>>16),xa(r,e.adler&65535)),e.adler=1,r.status=pn,Bt(e),r.pending!==0)return r.last_flush=-1,bt}if(r.status===Zc){if(e.adler=0,Ae(r,31),Ae(r,139),Ae(r,8),r.gzhead)Ae(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Ae(r,r.gzhead.time&255),Ae(r,r.gzhead.time>>8&255),Ae(r,r.gzhead.time>>16&255),Ae(r,r.gzhead.time>>24&255),Ae(r,r.level===9?2:r.strategy>=Li||r.level<2?4:0),Ae(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Ae(r,r.gzhead.extra.length&255),Ae(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=dt(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=Xo;else if(Ae(r,0),Ae(r,0),Ae(r,0),Ae(r,0),Ae(r,0),Ae(r,r.level===9?2:r.strategy>=Li||r.level<2?4:0),Ae(r,cw),r.status=pn,Bt(e),r.pending!==0)return r.last_flush=-1,bt}if(r.status===Xo){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let o=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=dt(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=o,Bt(e),r.pending!==0)return r.last_flush=-1,bt;a=0,i-=o}let s=new Uint8Array(r.gzhead.extra);r.pending_buf.set(s.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=dt(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Jo}if(r.status===Jo){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=dt(e.adler,r.pending_buf,r.pending-a,a)),Bt(e),r.pending!==0)return r.last_flush=-1,bt;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,Ae(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=dt(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=Qo}if(r.status===Qo){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=dt(e.adler,r.pending_buf,r.pending-a,a)),Bt(e),r.pending!==0)return r.last_flush=-1,bt;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,Ae(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=dt(e.adler,r.pending_buf,r.pending-a,a))}r.status=ec}if(r.status===ec){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Bt(e),r.pending!==0))return r.last_flush=-1,bt;Ae(r,e.adler&255),Ae(r,e.adler>>8&255),e.adler=0}if(r.status=pn,Bt(e),r.pending!==0)return r.last_flush=-1,bt}if(e.avail_in!==0||r.lookahead!==0||t!==qr&&r.status!==ka){let a=r.level===0?X1(r,t):r.strategy===Li?lw(r,t):r.strategy===Wm?hw(r,t):Ca[r.level].func(r,t);if((a===_n||a===da)&&(r.status=ka),a===At||a===_n)return e.avail_out===0&&(r.last_flush=-1),bt;if(a===ca&&(t===Hm?Fm(r):t!==Dh&&(Yo(r,0,0,!1),t===qm&&(jr(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Bt(e),e.avail_out===0))return r.last_flush=-1,bt}return t!==Wt?bt:r.wrap<=0?Mh:(r.wrap===2?(Ae(r,e.adler&255),Ae(r,e.adler>>8&255),Ae(r,e.adler>>16&255),Ae(r,e.adler>>24&255),Ae(r,e.total_in&255),Ae(r,e.total_in>>8&255),Ae(r,e.total_in>>16&255),Ae(r,e.total_in>>24&255)):(xa(r,e.adler>>>16),xa(r,e.adler&65535)),Bt(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?bt:Mh)},mw=e=>{if(hi(e))return ur;const t=e.state.status;return e.state=null,t===pn?gn(e,Vm):bt},ww=(e,t)=>{let r=t.length;if(hi(e))return ur;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==Xn||n.lookahead)return ur;if(a===1&&(e.adler=Ka(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){a===0&&(jr(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(t.subarray(r-n.w_size,r),0),t=d,r=n.w_size}const i=e.avail_in,s=e.next_in,o=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,Jn(n);n.lookahead>=we;){let d=n.strstart,f=n.lookahead-(we-1);do n.ins_h=Vr(n,n.ins_h,n.window[d+we-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--f);n.strstart=d,n.lookahead=we-1,Jn(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=we-1,n.match_available=0,e.next_in=s,e.input=o,e.avail_in=i,n.wrap=a,bt};var _w=gw,vw=eu,Ew=Q1,Sw=J1,Iw=pw,Ow=yw,xw=mw,Aw=ww,Tw="pako deflate (from Nodeca project)",Ua={deflateInit:_w,deflateInit2:vw,deflateReset:Ew,deflateResetKeep:Sw,deflateSetHeader:Iw,deflate:Ow,deflateEnd:xw,deflateSetDictionary:Aw,deflateInfo:Tw};const Nw=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var kw=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)Nw(r,n)&&(e[n]=r[n])}}return e},Cw=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let s=e[n];r.set(s,a),a+=s.length}return r},Cs={assign:kw,flattenChunks:Cw};let tu=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{tu=!1}const Ga=new Uint8Array(256);for(let e=0;e<256;e++)Ga[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ga[254]=Ga[254]=1;var Rw=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,s=e.length,o=0;for(a=0;a<s;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),o+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(o),i=0,a=0;i<o;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<s&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const Pw=(e,t)=>{if(t<65534&&e.subarray&&tu)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var Lw=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let s=e[n++];if(s<128){i[a++]=s;continue}let o=Ga[s];if(o>4){i[a++]=65533,n+=o-1;continue}for(s&=o===2?31:o===3?15:7;o>1&&n<r;)s=s<<6|e[n++]&63,o--;if(o>1){i[a++]=65533;continue}s<65536?i[a++]=s:(s-=65536,i[a++]=55296|s>>10&1023,i[a++]=56320|s&1023)}return Pw(i,a)},Uw=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Ga[e[r]]>t?r:t},Wa={string2buf:Rw,buf2string:Lw,utf8border:Uw};function Dw(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var ru=Dw;const nu=Object.prototype.toString,{Z_NO_FLUSH:Mw,Z_SYNC_FLUSH:Bw,Z_FULL_FLUSH:jw,Z_FINISH:zw,Z_OK:ts,Z_STREAM_END:$w,Z_DEFAULT_COMPRESSION:Fw,Z_DEFAULT_STRATEGY:Hw,Z_DEFLATED:qw}=oa;function li(e){this.options=Cs.assign({level:Fw,method:qw,chunkSize:16384,windowBits:15,memLevel:8,strategy:Hw},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ru,this.strm.avail_out=0;let r=Ua.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==ts)throw new Error(wn[r]);if(t.header&&Ua.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Wa.string2buf(t.dictionary):nu.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=Ua.deflateSetDictionary(this.strm,n),r!==ts)throw new Error(wn[r]);this._dict_set=!0}}li.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?zw:Mw,typeof e=="string"?r.input=Wa.string2buf(e):nu.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===Bw||i===jw)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=Ua.deflate(r,i),a===$w)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ua.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===ts;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};li.prototype.onData=function(e){this.chunks.push(e)};li.prototype.onEnd=function(e){e===ts&&(this.result=Cs.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Xc(e,t){const r=new li(t);if(r.push(e,!0),r.err)throw r.msg||wn[r.err];return r.result}function Vw(e,t){return t=t||{},t.raw=!0,Xc(e,t)}function Kw(e,t){return t=t||{},t.gzip=!0,Xc(e,t)}var Gw=li,Ww=Xc,Yw=Vw,Zw=Kw,Xw=oa,Jw={Deflate:Gw,deflate:Ww,deflateRaw:Yw,gzip:Zw,constants:Xw};const Ui=16209,Qw=16191;var e_=function(e,t){let r,n,a,i,s,o,d,f,h,p,y,g,I,O,T,C,_,v,w,A,b,c,u,R;const E=e.state;r=e.next_in,u=e.input,n=r+(e.avail_in-5),a=e.next_out,R=e.output,i=a-(t-e.avail_out),s=a+(e.avail_out-257),o=E.dmax,d=E.wsize,f=E.whave,h=E.wnext,p=E.window,y=E.hold,g=E.bits,I=E.lencode,O=E.distcode,T=(1<<E.lenbits)-1,C=(1<<E.distbits)-1;e:do{g<15&&(y+=u[r++]<<g,g+=8,y+=u[r++]<<g,g+=8),_=I[y&T];t:for(;;){if(v=_>>>24,y>>>=v,g-=v,v=_>>>16&255,v===0)R[a++]=_&65535;else if(v&16){w=_&65535,v&=15,v&&(g<v&&(y+=u[r++]<<g,g+=8),w+=y&(1<<v)-1,y>>>=v,g-=v),g<15&&(y+=u[r++]<<g,g+=8,y+=u[r++]<<g,g+=8),_=O[y&C];r:for(;;){if(v=_>>>24,y>>>=v,g-=v,v=_>>>16&255,v&16){if(A=_&65535,v&=15,g<v&&(y+=u[r++]<<g,g+=8,g<v&&(y+=u[r++]<<g,g+=8)),A+=y&(1<<v)-1,A>o){e.msg="invalid distance too far back",E.mode=Ui;break e}if(y>>>=v,g-=v,v=a-i,A>v){if(v=A-v,v>f&&E.sane){e.msg="invalid distance too far back",E.mode=Ui;break e}if(b=0,c=p,h===0){if(b+=d-v,v<w){w-=v;do R[a++]=p[b++];while(--v);b=a-A,c=R}}else if(h<v){if(b+=d+h-v,v-=h,v<w){w-=v;do R[a++]=p[b++];while(--v);if(b=0,h<w){v=h,w-=v;do R[a++]=p[b++];while(--v);b=a-A,c=R}}}else if(b+=h-v,v<w){w-=v;do R[a++]=p[b++];while(--v);b=a-A,c=R}for(;w>2;)R[a++]=c[b++],R[a++]=c[b++],R[a++]=c[b++],w-=3;w&&(R[a++]=c[b++],w>1&&(R[a++]=c[b++]))}else{b=a-A;do R[a++]=R[b++],R[a++]=R[b++],R[a++]=R[b++],w-=3;while(w>2);w&&(R[a++]=R[b++],w>1&&(R[a++]=R[b++]))}}else if(v&64){e.msg="invalid distance code",E.mode=Ui;break e}else{_=O[(_&65535)+(y&(1<<v)-1)];continue r}break}}else if(v&64)if(v&32){E.mode=Qw;break e}else{e.msg="invalid literal/length code",E.mode=Ui;break e}else{_=I[(_&65535)+(y&(1<<v)-1)];continue t}break}}while(r<n&&a<s);w=g>>3,r-=w,g-=w<<3,y&=(1<<g)-1,e.next_in=r,e.next_out=a,e.avail_in=r<n?5+(n-r):5-(r-n),e.avail_out=a<s?257+(s-a):257-(a-s),E.hold=y,E.bits=g};const Un=15,jh=852,zh=592,$h=0,oo=1,Fh=2,t_=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),r_=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),n_=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a_=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),i_=(e,t,r,n,a,i,s,o)=>{const d=o.bits;let f=0,h=0,p=0,y=0,g=0,I=0,O=0,T=0,C=0,_=0,v,w,A,b,c,u=null,R;const E=new Uint16Array(Un+1),N=new Uint16Array(Un+1);let D=null,$,S,m;for(f=0;f<=Un;f++)E[f]=0;for(h=0;h<n;h++)E[t[r+h]]++;for(g=d,y=Un;y>=1&&E[y]===0;y--);if(g>y&&(g=y),y===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,o.bits=1,0;for(p=1;p<y&&E[p]===0;p++);for(g<p&&(g=p),T=1,f=1;f<=Un;f++)if(T<<=1,T-=E[f],T<0)return-1;if(T>0&&(e===$h||y!==1))return-1;for(N[1]=0,f=1;f<Un;f++)N[f+1]=N[f]+E[f];for(h=0;h<n;h++)t[r+h]!==0&&(s[N[t[r+h]]++]=h);if(e===$h?(u=D=s,R=20):e===oo?(u=t_,D=r_,R=257):(u=n_,D=a_,R=0),_=0,h=0,f=p,c=i,I=g,O=0,A=-1,C=1<<g,b=C-1,e===oo&&C>jh||e===Fh&&C>zh)return 1;for(;;){$=f-O,s[h]+1<R?(S=0,m=s[h]):s[h]>=R?(S=D[s[h]-R],m=u[s[h]-R]):(S=32+64,m=0),v=1<<f-O,w=1<<I,p=w;do w-=v,a[c+(_>>O)+w]=$<<24|S<<16|m|0;while(w!==0);for(v=1<<f-1;_&v;)v>>=1;if(v!==0?(_&=v-1,_+=v):_=0,h++,--E[f]===0){if(f===y)break;f=t[r+s[h]]}if(f>g&&(_&b)!==A){for(O===0&&(O=g),c+=p,I=f-O,T=1<<I;I+O<y&&(T-=E[I+O],!(T<=0));)I++,T<<=1;if(C+=1<<I,e===oo&&C>jh||e===Fh&&C>zh)return 1;A=_&b,a[A]=g<<24|I<<16|c-i|0}}return _!==0&&(a[c+_]=f-O<<24|64<<16|0),o.bits=g,0};var Da=i_;const s_=0,au=1,iu=2,{Z_FINISH:Hh,Z_BLOCK:o_,Z_TREES:Di,Z_OK:vn,Z_STREAM_END:c_,Z_NEED_DICT:d_,Z_STREAM_ERROR:tr,Z_DATA_ERROR:su,Z_MEM_ERROR:ou,Z_BUF_ERROR:f_,Z_DEFLATED:qh}=oa,Rs=16180,Vh=16181,Kh=16182,Gh=16183,Wh=16184,Yh=16185,Zh=16186,Xh=16187,Jh=16188,Qh=16189,rs=16190,Ir=16191,co=16192,e0=16193,fo=16194,t0=16195,r0=16196,n0=16197,a0=16198,Mi=16199,Bi=16200,i0=16201,s0=16202,o0=16203,c0=16204,d0=16205,ho=16206,f0=16207,h0=16208,Ue=16209,cu=16210,du=16211,h_=852,l_=592,u_=15,b_=u_,l0=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function p_(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Tn=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Rs||t.mode>du?1:0},fu=e=>{if(Tn(e))return tr;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=Rs,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(h_),t.distcode=t.distdyn=new Int32Array(l_),t.sane=1,t.back=-1,vn},hu=e=>{if(Tn(e))return tr;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,fu(e)},lu=(e,t)=>{let r;if(Tn(e))return tr;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?tr:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,hu(e))},uu=(e,t)=>{if(!e)return tr;const r=new p_;e.state=r,r.strm=e,r.window=null,r.mode=Rs;const n=lu(e,t);return n!==vn&&(e.state=null),n},g_=e=>uu(e,b_);let u0=!0,lo,uo;const y_=e=>{if(u0){lo=new Int32Array(512),uo=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Da(au,e.lens,0,288,lo,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Da(iu,e.lens,0,32,uo,0,e.work,{bits:5}),u0=!1}e.lencode=lo,e.lenbits=9,e.distcode=uo,e.distbits=5},bu=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},m_=(e,t)=>{let r,n,a,i,s,o,d,f,h,p,y,g,I,O,T=0,C,_,v,w,A,b,c,u;const R=new Uint8Array(4);let E,N;const D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Tn(e)||!e.output||!e.input&&e.avail_in!==0)return tr;r=e.state,r.mode===Ir&&(r.mode=co),s=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,p=o,y=d,u=vn;e:for(;;)switch(r.mode){case Rs:if(r.wrap===0){r.mode=co;break}for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=f&255,R[1]=f>>>8&255,r.check=dt(r.check,R,2,0),f=0,h=0,r.mode=Vh;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){e.msg="incorrect header check",r.mode=Ue;break}if((f&15)!==qh){e.msg="unknown compression method",r.mode=Ue;break}if(f>>>=4,h-=4,c=(f&15)+8,r.wbits===0&&(r.wbits=c),c>15||c>r.wbits){e.msg="invalid window size",r.mode=Ue;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=f&512?Qh:Ir,f=0,h=0;break;case Vh:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.flags=f,(r.flags&255)!==qh){e.msg="unknown compression method",r.mode=Ue;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=Ue;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,r.check=dt(r.check,R,2,0)),f=0,h=0,r.mode=Kh;case Kh:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,r.check=dt(r.check,R,4,0)),f=0,h=0,r.mode=Gh;case Gh:for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,r.check=dt(r.check,R,2,0)),f=0,h=0,r.mode=Wh;case Wh:if(r.flags&1024){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,r.check=dt(r.check,R,2,0)),f=0,h=0}else r.head&&(r.head.extra=null);r.mode=Yh;case Yh:if(r.flags&1024&&(g=r.length,g>o&&(g=o),g&&(r.head&&(c=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+g),c)),r.flags&512&&r.wrap&4&&(r.check=dt(r.check,n,g,i)),o-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=Zh;case Zh:if(r.flags&2048){if(o===0)break e;g=0;do c=n[i+g++],r.head&&c&&r.length<65536&&(r.head.name+=String.fromCharCode(c));while(c&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=dt(r.check,n,g,i)),o-=g,i+=g,c)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Xh;case Xh:if(r.flags&4096){if(o===0)break e;g=0;do c=n[i+g++],r.head&&c&&r.length<65536&&(r.head.comment+=String.fromCharCode(c));while(c&&g<o);if(r.flags&512&&r.wrap&4&&(r.check=dt(r.check,n,g,i)),o-=g,i+=g,c)break e}else r.head&&(r.head.comment=null);r.mode=Jh;case Jh:if(r.flags&512){for(;h<16;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.check&65535)){e.msg="header crc mismatch",r.mode=Ue;break}f=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=Ir;break;case Qh:for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}e.adler=r.check=l0(f),f=0,h=0,r.mode=rs;case rs:if(r.havedict===0)return e.next_out=s,e.avail_out=d,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,d_;e.adler=r.check=1,r.mode=Ir;case Ir:if(t===o_||t===Di)break e;case co:if(r.last){f>>>=h&7,h-=h&7,r.mode=ho;break}for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}switch(r.last=f&1,f>>>=1,h-=1,f&3){case 0:r.mode=e0;break;case 1:if(y_(r),r.mode=Mi,t===Di){f>>>=2,h-=2;break e}break;case 2:r.mode=r0;break;case 3:e.msg="invalid block type",r.mode=Ue}f>>>=2,h-=2;break;case e0:for(f>>>=h&7,h-=h&7;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if((f&65535)!==(f>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ue;break}if(r.length=f&65535,f=0,h=0,r.mode=fo,t===Di)break e;case fo:r.mode=t0;case t0:if(g=r.length,g){if(g>o&&(g=o),g>d&&(g=d),g===0)break e;a.set(n.subarray(i,i+g),s),o-=g,i+=g,d-=g,s+=g,r.length-=g;break}r.mode=Ir;break;case r0:for(;h<14;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.nlen=(f&31)+257,f>>>=5,h-=5,r.ndist=(f&31)+1,f>>>=5,h-=5,r.ncode=(f&15)+4,f>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ue;break}r.have=0,r.mode=n0;case n0:for(;r.have<r.ncode;){for(;h<3;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.lens[D[r.have++]]=f&7,f>>>=3,h-=3}for(;r.have<19;)r.lens[D[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,E={bits:r.lenbits},u=Da(s_,r.lens,0,19,r.lencode,0,r.work,E),r.lenbits=E.bits,u){e.msg="invalid code lengths set",r.mode=Ue;break}r.have=0,r.mode=a0;case a0:for(;r.have<r.nlen+r.ndist;){for(;T=r.lencode[f&(1<<r.lenbits)-1],C=T>>>24,_=T>>>16&255,v=T&65535,!(C<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(v<16)f>>>=C,h-=C,r.lens[r.have++]=v;else{if(v===16){for(N=C+2;h<N;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(f>>>=C,h-=C,r.have===0){e.msg="invalid bit length repeat",r.mode=Ue;break}c=r.lens[r.have-1],g=3+(f&3),f>>>=2,h-=2}else if(v===17){for(N=C+3;h<N;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=C,h-=C,c=0,g=3+(f&7),f>>>=3,h-=3}else{for(N=C+7;h<N;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=C,h-=C,c=0,g=11+(f&127),f>>>=7,h-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ue;break}for(;g--;)r.lens[r.have++]=c}}if(r.mode===Ue)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=Ue;break}if(r.lenbits=9,E={bits:r.lenbits},u=Da(au,r.lens,0,r.nlen,r.lencode,0,r.work,E),r.lenbits=E.bits,u){e.msg="invalid literal/lengths set",r.mode=Ue;break}if(r.distbits=6,r.distcode=r.distdyn,E={bits:r.distbits},u=Da(iu,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,E),r.distbits=E.bits,u){e.msg="invalid distances set",r.mode=Ue;break}if(r.mode=Mi,t===Di)break e;case Mi:r.mode=Bi;case Bi:if(o>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,e_(e,y),s=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,o=e.avail_in,f=r.hold,h=r.bits,r.mode===Ir&&(r.back=-1);break}for(r.back=0;T=r.lencode[f&(1<<r.lenbits)-1],C=T>>>24,_=T>>>16&255,v=T&65535,!(C<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(_&&!(_&240)){for(w=C,A=_,b=v;T=r.lencode[b+((f&(1<<w+A)-1)>>w)],C=T>>>24,_=T>>>16&255,v=T&65535,!(w+C<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=w,h-=w,r.back+=w}if(f>>>=C,h-=C,r.back+=C,r.length=v,_===0){r.mode=d0;break}if(_&32){r.back=-1,r.mode=Ir;break}if(_&64){e.msg="invalid literal/length code",r.mode=Ue;break}r.extra=_&15,r.mode=i0;case i0:if(r.extra){for(N=r.extra;h<N;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=s0;case s0:for(;T=r.distcode[f&(1<<r.distbits)-1],C=T>>>24,_=T>>>16&255,v=T&65535,!(C<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(!(_&240)){for(w=C,A=_,b=v;T=r.distcode[b+((f&(1<<w+A)-1)>>w)],C=T>>>24,_=T>>>16&255,v=T&65535,!(w+C<=h);){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}f>>>=w,h-=w,r.back+=w}if(f>>>=C,h-=C,r.back+=C,_&64){e.msg="invalid distance code",r.mode=Ue;break}r.offset=v,r.extra=_&15,r.mode=o0;case o0:if(r.extra){for(N=r.extra;h<N;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ue;break}r.mode=c0;case c0:if(d===0)break e;if(g=y-d,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ue;break}g>r.wnext?(g-=r.wnext,I=r.wsize-g):I=r.wnext-g,g>r.length&&(g=r.length),O=r.window}else O=a,I=s-r.offset,g=r.length;g>d&&(g=d),d-=g,r.length-=g;do a[s++]=O[I++];while(--g);r.length===0&&(r.mode=Bi);break;case d0:if(d===0)break e;a[s++]=r.length,d--,r.mode=Bi;break;case ho:if(r.wrap){for(;h<32;){if(o===0)break e;o--,f|=n[i++]<<h,h+=8}if(y-=d,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?dt(r.check,a,y,s-y):Ka(r.check,a,y,s-y)),y=d,r.wrap&4&&(r.flags?f:l0(f))!==r.check){e.msg="incorrect data check",r.mode=Ue;break}f=0,h=0}r.mode=f0;case f0:if(r.wrap&&r.flags){for(;h<32;){if(o===0)break e;o--,f+=n[i++]<<h,h+=8}if(r.wrap&4&&f!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=Ue;break}f=0,h=0}r.mode=h0;case h0:u=c_;break e;case Ue:u=su;break e;case cu:return ou;case du:default:return tr}return e.next_out=s,e.avail_out=d,e.next_in=i,e.avail_in=o,r.hold=f,r.bits=h,(r.wsize||y!==e.avail_out&&r.mode<Ue&&(r.mode<ho||t!==Hh))&&bu(e,e.output,e.next_out,y-e.avail_out),p-=e.avail_in,y-=e.avail_out,e.total_in+=p,e.total_out+=y,r.total+=y,r.wrap&4&&y&&(e.adler=r.check=r.flags?dt(r.check,a,y,e.next_out-y):Ka(r.check,a,y,e.next_out-y)),e.data_type=r.bits+(r.last?64:0)+(r.mode===Ir?128:0)+(r.mode===Mi||r.mode===fo?256:0),(p===0&&y===0||t===Hh)&&u===vn&&(u=f_),u},w_=e=>{if(Tn(e))return tr;let t=e.state;return t.window&&(t.window=null),e.state=null,vn},__=(e,t)=>{if(Tn(e))return tr;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,vn):tr},v_=(e,t)=>{const r=t.length;let n,a,i;return Tn(e)||(n=e.state,n.wrap!==0&&n.mode!==rs)?tr:n.mode===rs&&(a=1,a=Ka(a,t,r,0),a!==n.check)?su:(i=bu(e,t,r,r),i?(n.mode=cu,ou):(n.havedict=1,vn))};var E_=hu,S_=lu,I_=fu,O_=g_,x_=uu,A_=m_,T_=w_,N_=__,k_=v_,C_="pako inflate (from Nodeca project)",Tr={inflateReset:E_,inflateReset2:S_,inflateResetKeep:I_,inflateInit:O_,inflateInit2:x_,inflate:A_,inflateEnd:T_,inflateGetHeader:N_,inflateSetDictionary:k_,inflateInfo:C_};function R_(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var P_=R_;const pu=Object.prototype.toString,{Z_NO_FLUSH:L_,Z_FINISH:U_,Z_OK:Ya,Z_STREAM_END:bo,Z_NEED_DICT:po,Z_STREAM_ERROR:D_,Z_DATA_ERROR:b0,Z_MEM_ERROR:M_}=oa;function ui(e){this.options=Cs.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ru,this.strm.avail_out=0;let r=Tr.inflateInit2(this.strm,t.windowBits);if(r!==Ya)throw new Error(wn[r]);if(this.header=new P_,Tr.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Wa.string2buf(t.dictionary):pu.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=Tr.inflateSetDictionary(this.strm,t.dictionary),r!==Ya)))throw new Error(wn[r])}ui.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,s,o;if(this.ended)return!1;for(t===~~t?s=t:s=t===!0?U_:L_,pu.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=Tr.inflate(r,s),i===po&&a&&(i=Tr.inflateSetDictionary(r,a),i===Ya?i=Tr.inflate(r,s):i===b0&&(i=po));r.avail_in>0&&i===bo&&r.state.wrap>0&&e[r.next_in]!==0;)Tr.inflateReset(r),i=Tr.inflate(r,s);switch(i){case D_:case b0:case po:case M_:return this.onEnd(i),this.ended=!0,!1}if(o=r.avail_out,r.next_out&&(r.avail_out===0||i===bo))if(this.options.to==="string"){let d=Wa.utf8border(r.output,r.next_out),f=r.next_out-d,h=Wa.buf2string(r.output,d);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(d,d+f),0),this.onData(h)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Ya&&o===0)){if(i===bo)return i=Tr.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};ui.prototype.onData=function(e){this.chunks.push(e)};ui.prototype.onEnd=function(e){e===Ya&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cs.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Jc(e,t){const r=new ui(t);if(r.push(e),r.err)throw r.msg||wn[r.err];return r.result}function B_(e,t){return t=t||{},t.raw=!0,Jc(e,t)}var j_=ui,z_=Jc,$_=B_,F_=Jc,H_=oa,q_={Inflate:j_,inflate:z_,inflateRaw:$_,ungzip:F_,constants:H_};const{Deflate:ME,deflate:BE,deflateRaw:jE,gzip:V_}=Jw,{Inflate:zE,inflate:$E,inflateRaw:FE,ungzip:K_}=q_;var G_=V_,W_=K_,Et=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Et<"u"&&Et,Ct={searchParams:"URLSearchParams"in Et,iterable:"Symbol"in Et&&"iterator"in Symbol,blob:"FileReader"in Et&&"Blob"in Et&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in Et,arrayBuffer:"ArrayBuffer"in Et};function Y_(e){return e&&DataView.prototype.isPrototypeOf(e)}if(Ct.arrayBuffer)var Z_=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],X_=ArrayBuffer.isView||function(e){return e&&Z_.indexOf(Object.prototype.toString.call(e))>-1};function bi(e){if(typeof e!="string"&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||e==="")throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function Qc(e){return typeof e!="string"&&(e=String(e)),e}function ed(e){var t={next:function(){var r=e.shift();return{done:r===void 0,value:r}}};return Ct.iterable&&(t[Symbol.iterator]=function(){return t}),t}function et(e){this.map={},e instanceof et?e.forEach(function(t,r){this.append(r,t)},this):Array.isArray(e)?e.forEach(function(t){this.append(t[0],t[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}et.prototype.append=function(e,t){e=bi(e),t=Qc(t);var r=this.map[e];this.map[e]=r?r+", "+t:t};et.prototype.delete=function(e){delete this.map[bi(e)]};et.prototype.get=function(e){return e=bi(e),this.has(e)?this.map[e]:null};et.prototype.has=function(e){return this.map.hasOwnProperty(bi(e))};et.prototype.set=function(e,t){this.map[bi(e)]=Qc(t)};et.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)};et.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),ed(e)};et.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),ed(e)};et.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),ed(e)};Ct.iterable&&(et.prototype[Symbol.iterator]=et.prototype.entries);function go(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function gu(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function J_(e){var t=new FileReader,r=gu(t);return t.readAsArrayBuffer(e),r}function Q_(e){var t=new FileReader,r=gu(t);return t.readAsText(e),r}function ev(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}function p0(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function yu(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?typeof e=="string"?this._bodyText=e:Ct.blob&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Ct.formData&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Ct.arrayBuffer&&Ct.blob&&Y_(e)?(this._bodyArrayBuffer=p0(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Ct.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(e)||X_(e))?this._bodyArrayBuffer=p0(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||(typeof e=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Ct.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},Ct.blob&&(this.blob=function(){var e=go(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=go(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else return this.blob().then(J_)}),this.text=function(){var e=go(this);if(e)return e;if(this._bodyBlob)return Q_(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(ev(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},Ct.formData&&(this.formData=function(){return this.text().then(nv)}),this.json=function(){return this.text().then(JSON.parse)},this}var tv=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function rv(e){var t=e.toUpperCase();return tv.indexOf(t)>-1?t:e}function En(e,t){if(!(this instanceof En))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t=t||{};var r=t.body;if(e instanceof En){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new et(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,!r&&e._bodyInit!=null&&(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",(t.headers||!this.headers)&&(this.headers=new et(t.headers)),this.method=rv(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),(this.method==="GET"||this.method==="HEAD")&&(t.cache==="no-store"||t.cache==="no-cache")){var n=/([?&])_=[^&]*/;if(n.test(this.url))this.url=this.url.replace(n,"$1_="+new Date().getTime());else{var a=/\?/;this.url+=(a.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}En.prototype.clone=function(){return new En(this,{body:this._bodyInit})};function nv(e){var t=new FormData;return e.trim().split("&").forEach(function(r){if(r){var n=r.split("="),a=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(a),decodeURIComponent(i))}}),t}function av(e){var t=new et,r=e.replace(/\r?\n[\t ]+/g," ");return r.split("\r").map(function(n){return n.indexOf(`
`)===0?n.substr(1,n.length):n}).forEach(function(n){var a=n.split(":"),i=a.shift().trim();if(i){var s=a.join(":").trim();t.append(i,s)}}),t}yu.call(En.prototype);function yr(e,t){if(!(this instanceof yr))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');t||(t={}),this.type="default",this.status=t.status===void 0?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText===void 0?"":""+t.statusText,this.headers=new et(t.headers),this.url=t.url||"",this._initBody(e)}yu.call(yr.prototype);yr.prototype.clone=function(){return new yr(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new et(this.headers),url:this.url})};yr.error=function(){var e=new yr(null,{status:0,statusText:""});return e.type="error",e};var iv=[301,302,303,307,308];yr.redirect=function(e,t){if(iv.indexOf(t)===-1)throw new RangeError("Invalid status code");return new yr(null,{status:t,headers:{location:e}})};var dn=Et.DOMException;try{new dn}catch{dn=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},dn.prototype=Object.create(Error.prototype),dn.prototype.constructor=dn}function mu(e,t){return new Promise(function(r,n){var a=new En(e,t);if(a.signal&&a.signal.aborted)return n(new dn("Aborted","AbortError"));var i=new XMLHttpRequest;function s(){i.abort()}i.onload=function(){var d={status:i.status,statusText:i.statusText,headers:av(i.getAllResponseHeaders()||"")};d.url="responseURL"in i?i.responseURL:d.headers.get("X-Request-URL");var f="response"in i?i.response:i.responseText;setTimeout(function(){r(new yr(f,d))},0)},i.onerror=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.ontimeout=function(){setTimeout(function(){n(new TypeError("Network request failed"))},0)},i.onabort=function(){setTimeout(function(){n(new dn("Aborted","AbortError"))},0)};function o(d){try{return d===""&&Et.location.href?Et.location.href:d}catch{return d}}i.open(a.method,o(a.url),!0),a.credentials==="include"?i.withCredentials=!0:a.credentials==="omit"&&(i.withCredentials=!1),"responseType"in i&&(Ct.blob?i.responseType="blob":Ct.arrayBuffer&&a.headers.get("Content-Type")&&a.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(i.responseType="arraybuffer")),t&&typeof t.headers=="object"&&!(t.headers instanceof et)?Object.getOwnPropertyNames(t.headers).forEach(function(d){i.setRequestHeader(d,Qc(t.headers[d]))}):a.headers.forEach(function(d,f){i.setRequestHeader(f,d)}),a.signal&&(a.signal.addEventListener("abort",s),i.onreadystatechange=function(){i.readyState===4&&a.signal.removeEventListener("abort",s)}),i.send(typeof a._bodyInit>"u"?null:a._bodyInit)})}mu.polyfill=!0;Et.fetch||(Et.fetch=mu,Et.Headers=et,Et.Request=En,Et.Response=yr);var sv=self.fetch.bind(self);const ov=os(sv);var wu={exports:{}};(function(e){(function(t,r,n){e.exports?e.exports=n():r[t]=n()})("urljoin",vt,function(){function t(r){var n=[];if(r.length===0)return"";if(typeof r[0]!="string")throw new TypeError("Url must be a string. Received "+r[0]);if(r[0].match(/^[^/:]+:\/*$/)&&r.length>1){var a=r.shift();r[0]=a+r[0]}r[0].match(/^file:\/\/\//)?r[0]=r[0].replace(/^([^/:]+):\/*/,"$1:///"):r[0]=r[0].replace(/^([^/:]+):\/*/,"$1://");for(var i=0;i<r.length;i++){var s=r[i];if(typeof s!="string")throw new TypeError("Url must be a string. Received "+s);s!==""&&(i>0&&(s=s.replace(/^[\/]+/,"")),i<r.length-1?s=s.replace(/[\/]+$/,""):s=s.replace(/[\/]+$/,"/"),n.push(s))}var o=n.join("/");o=o.replace(/\/(\?|&|#[^!])/g,"$1");var d=o.split("?");return o=d.shift()+(d.length>0?"?":"")+d.join("&"),o}return function(){var r;return typeof arguments[0]=="object"?r=arguments[0]:r=[].slice.call(arguments),t(r)}})})(wu);var cv=wu.exports;const _u=os(cv);var dv=Object.defineProperty,lt=(e,t)=>{for(var r in t)dv(e,r,{get:t[r],enumerable:!0})},vu={};lt(vu,{ALPHA:()=>mv,API_VERSION:()=>Ru,BETA:()=>wv,BaseUrl:()=>Pu,CONSTANT_POINTS:()=>vv,EC_ORDER:()=>yv,FIELD_GEN:()=>pv,FIELD_PRIME:()=>bv,FIELD_SIZE:()=>gv,HEX_STR_TRANSACTION_VERSION_1:()=>Nu,HEX_STR_TRANSACTION_VERSION_2:()=>ku,IS_BROWSER:()=>Ps,MASK_250:()=>Cu,MASK_251:()=>uv,MAX_ECDSA_VAL:()=>_v,NetworkName:()=>Lu,StarknetChainId:()=>Uu,TransactionHashPrefix:()=>Du,UDC:()=>fn,ZERO:()=>zt});var fv={};lt(fv,{IS_BROWSER:()=>Ps,addHexPrefix:()=>Ut,arrayBufferToString:()=>rd,atobUniversal:()=>Su,btoaUniversal:()=>Iu,buf2hex:()=>Ou,calcByteLength:()=>Au,padLeft:()=>xu,pascalToSnake:()=>rc,removeHexPrefix:()=>fa,sanitizeBytes:()=>Tu,sanitizeHex:()=>lv,stringToArrayBuffer:()=>Eu,utf8ToArray:()=>Ls});var Ps=typeof window<"u",td="0";function rd(e){return new Uint8Array(e).reduce((t,r)=>t+String.fromCharCode(r),"")}function Eu(e){return Uint8Array.from(e,t=>t.charCodeAt(0))}function Su(e){return Ps?Eu(atob(e)):Buffer.from(e,"base64")}function Iu(e){return Ps?btoa(rd(e)):Buffer.from(e).toString("base64")}function Ou(e){return[...e].map(t=>t.toString(16).padStart(2,"0")).join("")}function fa(e){return e.replace(/^0x/i,"")}function Ut(e){return`0x${fa(e)}`}function hv(e,t,r,n=td){const a=t-e.length;let i=e;if(a>0){const s=n.repeat(a);i=r?s+e:e+s}return i}function xu(e,t,r=td){return hv(e,t,!0,r)}function Au(e,t=8){const r=e%t;return r?(e-r)/t*t+t:e}function Tu(e,t=8,r=td){return xu(e,Au(e.length,t),r)}function lv(e){return e=fa(e),e=Tu(e,2),e&&(e=Ut(e)),e}function Ls(e){return new TextEncoder().encode(e)}var rc=e=>e.split(/(?=[A-Z])/).join("_").toUpperCase(),Nu="0x1",ku="0x2",zt=0n,Cu=2n**250n-1n,uv=2n**251n,Ru=zt,Pu=(e=>(e.SN_MAIN="https://alpha-mainnet.starknet.io",e.SN_GOERLI="https://alpha4.starknet.io",e.SN_GOERLI2="https://alpha4-2.starknet.io",e))(Pu||{}),Lu=(e=>(e.SN_MAIN="SN_MAIN",e.SN_GOERLI="SN_GOERLI",e.SN_GOERLI2="SN_GOERLI2",e))(Lu||{}),Uu=(e=>(e.SN_MAIN="0x534e5f4d41494e",e.SN_GOERLI="0x534e5f474f45524c49",e.SN_GOERLI2="0x534e5f474f45524c4932",e))(Uu||{}),Du=(e=>(e.DECLARE="0x6465636c617265",e.DEPLOY="0x6465706c6f79",e.DEPLOY_ACCOUNT="0x6465706c6f795f6163636f756e74",e.INVOKE="0x696e766f6b65",e.L1_HANDLER="0x6c315f68616e646c6572",e))(Du||{}),fn={ADDRESS:"0x041a78e741e5af2fec34b695679bc6891742439f7afb8484ecd7766661ad02bf",ENTRYPOINT:"deployContract"},bv="800000000000011000000000000000000000000000000000000000000000001",pv="3",gv=251,yv="800000000000010FFFFFFFFFFFFFFFFB781126DCAE7B2321E66A241ADC64D2F",mv="1",wv="6F21413EFBE40DE150E596D72F7A8C5609AD26C15C915C1F4CDFCB99CEE9E89",_v="800000000000000000000000000000000000000000000000000000000000000",vv=[["49ee3eba8c1600700ee1b87eb599f16716b0b1022947733551fde4050ca6804","3ca0cfe4b3bc6ddf346d49d06ea0ed34e621062c0e056c1d0405d266e10268a"],["1ef15c18599971b7beced415a40f0c7deacfd9b0d1819e03d723d8bc943cfca","5668060aa49730b7be4801df46ec62de53ecd11abe43a32873000c36e8dc1f"],["234287dcbaffe7f969c748655fca9e58fa8120b6d56eb0c1080d17957ebe47b","3b056f100f96fb21e889527d41f4e39940135dd7a6c94cc6ed0268ee89e5615"],["3909690e1123c80678a7ba0fde0e8447f6f02b3f6b960034d1e93524f8b476","7122e9063d239d89d4e336753845b76f2b33ca0d7f0c1acd4b9fe974994cc19"],["40fd002e38ea01a01b2702eb7c643e9decc2894cbf31765922e281939ab542c","109f720a79e2a41471f054ca885efd90c8cfbbec37991d1b6343991e0a3e740"],["2f52066635c139fc2f64eb0bd5e3fd7a705f576854ec4f00aa60361fddb981b","6d78a24d8a5f97fc600318ce16b3c840315979c3273078ec1a285f217ee6a26"],["6a0767a1fd60d5b9027a35af1b68e57a1c366ebcde2006cdd07af27043ef674","606b72c0ca0498b8c1817ed7922d550894c324f5efdfc85a19a1ae382411ca2"],["7fa463ee2a2d6a585d5c3358918270f6c28c66df1f86803374d1edf3819cc62","a996edf01598832e644e1cae9a37288865ad80e2787f9bf958aceccc99afae"],["3d4da70d1540da597dbae1651d28487604a4e66a4a1823b97e8e9639393dbec","45cdef70c35d3b6f0a2273a9886ccb6306d813e8204bdfd30b4efee63c8a3f9"],["1e448fdbcd9896c6fbf5f36cb7e7fcb77a751ff2d942593cae023363cc7750e","30c81da0f3a8cb64468eaa491c7ae7b4842b62cb4148820da211afc4caffb3a"],["6531acf1a7cb90a4eb27de0b7f915e387a3b0fd063ba6e1289b91f48411be26","31330f5daa091889981a3ea782ae997f5f171336ed0487a03f051551a2cafa2"],["54be016394d5662d67d7e82f5e889ed2f97ccf95d911f57dd2362c4040ed4f4","c6cb184053f054d6a59c1bf0986d17090d25089b3fdcdaf185edc87ef113e5"],["35b9ecd0499ca1d5d42dcbb0c6b4042b3733c64b607ca711e706e786ef2afc6","5624b476a5b21c3a544f0712d4817b06ad380a5a6529d323bf64da8ef862d8d"],["4ce0378e3ee8f77ed58f2ddbd8bb7676c8a38bfb1d3694c275254bd8ca38e23","5a16fcbff0769c9cf2b02c31621878ec819fff4b8231bff82c6183db2746820"],["648d5c6f98680a1b926bfeb01c00224c56fdcf751b251c4449c8a94f425cfcf","72c05ac793cd1620a833fbe2214d36900ebe446e095c62fcb740937f98cca8c"],["bd09be3e4e1af8a14189977e334f097c18e4a8bf42577ef5aafa0f807bd89b","6e0e72ed7eb65c86cee29c411fb4761122558ee81013344ba8509c49de9f9b6"],["35ea4e339b44ae7724419bdfbe07022253137a4afb7cbaffad341ea61249357","3665d676a026a174f367bb4417780e53a7803cb02d0db32eb4545c267c42f14"],["36457bc744f42e697b825c2d1afd8f4029d696a4514710f81da52d88e178643","7c93715896735492a68c7969a024b3a8fd538bffc1521538107de1a5f13ce9c"],["5b3a08ebcf9c109cc9082f70d9df2b9c11b5428ee23917b4e790c4c10f6e661","9d7b42ab0c20f5510df7ea5e196eec99342739077e9a168198c89da859753"],["21883ef8580fc06e59481955d52ece3aca6e82c8c9fc58e216dcf46f96990c6","51a6423543e6e8a43e71da34cd90f5b520b8d33b67c4bf857573ab9e301aa4c"],["19e86b77f9b581e81092b305c852faf53940a8f15f0a6990c414f04c0fa7ef9","515630e35d4398c9c79fc4ee08e1023fa47d8e03c6e7819c6d2ccef45398fa"],["888ab8eb4c31bb2ac5b54aa320dbe1a69c96b864e8a5f54d89c1d1a6b86c24","730e148467f6a55ce22c5296f5380df88f38de76ef0b2de844cd3094aaaf3ea"],["75e79ff13a894e7120dac17b7429c0c32ce7828f726c9973728c0977a5f5977","4960526e59c1c736561a201bc56f7d762641b39f609d273cc996f5d9197cfb8"],["640fe009249115d7254f72ecafb3006139e4bed7e9041af51458c737282d1d5","3cc6c978a575246e2ce4f7ef1fcc7f63085db9ff98a1b1f3fe374087c0332c"],["6d6fd09ccab7c26de9b3906191235deb5c34685580c488275356a05e209ca96","7157f81a34213dd8f91dea4f6df1bcfabc4ee091a3049eeeb3b7923d39b8645"],["5531ca1d00f151d71da820918f74caf2985b24dca20e124721fff507b5a5876","518529643d3f25e47f72c322223ba60a63d6bfe78cf3f612215d9c19bf29200"],["6192d454e4f8fe212bdfccd5b15dd5056d7622ffe456c6c67e5a7265aea49c4","2377a45dc630017ae863cb968ddb38333a70c7946d8684e6d7a6213f634b7bc"],["542fb44b4ef3640a64fdb22a2560fb26668065c069cf31d1df424819a39ff18","5dbae9b0948e0361aea443503840341c322aa1a1366ce5390e71bf161f78f8c"],["299ff3e3412a7eb4cb4a3051b07b1be2e7b1c4b789f39ffb52cba3d048b71de","1951d3175c02761b291d86b6c0a08387ad5e2a2130ccc33c852530572cb3958"],["628ce3f5367dadc1411133e55eb25e2e3c2880d6e28754a5cb1c5d109627e73","ae3e9b7d50964e28bd15380400b7659b87affdef5d2586cbefcd9be7d67c0d"],["6ea54aff064895eccf9db2283225d62044ae67621192b3346338948382f5933","6431507e51aadacfaf39f102a8ff387756e9b5e1bc8323d44acae55130d93db"],["28097d50d175a6235320fe8cfe138dd9e46895d189582e472c38ad7a67d923a","7f9eab4133d7d09a7ff63368d6135c26262b62336eca1b5ca33f2096ce388ba"],["619fd09cdd6ff4323973f256c2cbdcb224f7f25b8aef623af2d4a0105e62e02","2c95f0ae11d47eeae1bc7f1350f75f9185c5bc840382ceb38a797cae9c40308"],["641c18982ced304512a3f2395942a38add0d6a7156229c2a7c8b8dfbe9beb96","6f6288c9c659b6af5ac975f4180deffe53d516399b2cc62f31732e9d4ba9837"],["58ab546e51fe49fc5a382e4064a2bd6cfc268904412f86c26de14f28a71d0f2","124b7217943e7e328408e8afdfa7da00dcbc94a2bb85fd8e01fb162d2c2c0a9"],["a82c2fdedbb26c3c762a12f7e86b0e01e65320e0a25a8399d665f6e266bf74","1a1de28e253f3e10f44d0111e8074f882d7f42e5900780ccbdc31da372d3fd8"],["744c725a7455a992e3cf5bd007bc234dd4668dba285f553f38350ad94c1615b","7f721a87f48798bdc4a9c0eb88559e2ad7a74112fd901e70ea159e67a9c33f"],["434df142ddaa60f7881b6348d91687de40457de7ccfb07f0304b9e820705d0c","7fae425e3b53f97dd1f5b20e49ed9fe24ff1efc341ba5e017ac89cf8df0cc39"],["7a1e2b809dff46277021cbc376f79c37e1b683bbd6bca5317014f0dc0e1ae73","56790278a231912c334eff05281e08af1558e85516b4411ef64647c13bea431"],["4931b7990348d41cf8907be79f45bb7991fd18f8a57868351c92fa7a34cbcd7","ca35091815cdf0837d396e25aad6052ad32d497a33b123256cffdc008bc50e"],["250b815d352fd89f8210b624b147ea7d0a4f47bcac49f3ac9b777840da93ebe","1173f10e9691948b7da7632f328520455aadcba46e017f891e0a1d7da2bef04"],["2223b85032fa67292f6e1f822628e6756e5c3cc08fc252ab88d63d624e4dfb2","55619ba96a7dcec77832fcb22cd5c21c7dcebc0280d730cba0002b67e0a8c63"],["249b131e04de73af9820d3e22492d9ec51bdc0c4c4f34d95352fa44dd61f245","7576d3b5d136368ff01170a77d8286d0d1c7c40688862fb40813b4af3c6065e"],["6777915d9b4769027eb7e04733f8a2d669c84fe06080f55e8a55674dfbf9efb","640d0ff384c9635e1af364760f104e058e3c86209fa9d2320aeac887b2e02d8"],["2abe3f237681052f002414399111cf07f8421535af41251edc427a36b5b19c9","636ce4deaf468a503ab20ccb2f7e5bdc98551656ebf53e9c7786b11dd9090be"],["4d5cc5414758ea1be55be779bd7da296c7e11f1564d9e8797ceea347c16f8ea","1a680c4c410cf5ddc74e95ff2897c193edaaecce5b2cde4e96bbae5c0054eff"],["46c375c684b30adf4d51de81e92afee52b1a3847e177403372c82109373edca","1eaadc5783c90a0261306423d52009e991126b3f620e9cb6cffca41ca096f4f"],["2ddfb71f51205888118cbabba8fd07d460a810289bfdeeb7118707e310cb152","1fd905d07b3933be886f2518246bdafa6f33259a174668808223cd7c28183c7"],["386f3879960713d41fdb3b1e41bbebf26b1c0e27a9a75bb1adcc1a0d3e8547b","2b21498c0f34ec6f17c720334dc0f36021c2f87afbbbc8847d0bd536eb265e5"],["407eae62c6c4de3b942195afec3f45efec71ddb5e6edee3d427631bcdbf9b90","436e7f2d78268ef62c4172d2ff1469028bad1f1d0f97ab007064418e61caa8f"],["1b881175e21201d17e095e9b3966b354f47de8c1acee5177f5909e0fd72328f","69954b1a9b8bfccf8ec384d32924518a935758f3d3662ef754bcc88f1f6f3ec"],["7d545a82bff003b8115be32a0c437f7c0a98f776bcf7fddb0392822844f3c5e","34b6e53a9565a7daa010711f5bf72254a4e61da3e6a562210a9abc9e8b66d69"],["299b9fcd4fadfc4b6141457a3036aaa68501c23df579de26df69d4def89b913","b95bf2c2bb303c38bb396382edc798ca6a4847e573ce19b7b08533d1912675"],["551f5a4dae4a341a3e20336a7d2f365ddd45849351ec6dd4fcbedfe4806d5d5","5865c977a0ecf13ce85ae14c5c316872080bd36f0f614f56b6dfc7ece83792e"],["7a1d69c08e68c80ad8b310736e6247a53bcba0183b9b8798833bc696a0fb6e2","3ce803a20ebb3b120d5eaf0ad64bed0522fad1a0f2ce39a5c5cbae98c4438f6"],["28acacc0bc41d84e83663f02b36981a2c8272ecd72d3901164be2affb09c504","7a5aee0b160eaff5b5968ab1a0304ce58c3d5ae0148d9191c39e87668229e5b"],["1f78cfdbcc767b68e69a224a077468cdfcb0afd6952b85bccbdb96d1fb8500b","4772ba173c6b583284eb001cfc2a124104833f464ff9df096443e10ef3e9dd4"],["2774108962ca9897e7f22c064d2ccedac4fef5fc9569331c27cdc336c95774b","9e13d79b68e8dc8091c019618f5b07283a710ddf1733dc674a99fc32c12911"],["770d116415cd2c4ace0d8b721dd77e4a2ef766591f9ec9fa0b61304548994ed","42165d93c82f687635aa2b68492b3adffd516beb4baa94520efa11467a209fd"],["5e6e4ece6621e2275415e1fda1e7c4f496de498b77c0b913073c6a6099394b9","3d92ce044fc77fa227adc31f6fc17ef8b4ec1c5aafc44630c0d9195075bf56d"],["6e69c717b5d98807ff1e404a5187a9ceaf0110b83aa15a84f930928b1171825","1ee7cfc3a9744d7fa380ba28604af9df33ac077724374c04588bd71fa16b177"],["404318f2d2ceb44f549c80f9d7de9879d8f7da4b81e7350c00e974ebf2daef1","3934831b5af70d17a3f1da9d2931bd757e6acf2893236264fc7e0d92ff1a1cb"],["20dcb6f394fea6d549b2e75748f61b7ec03b6e52319cb14163373a9c22bb9dc","106a8c96cfb95a331618b7416d1498554730499e194a58fbf63019890480fc7"],["119000f277ccee013e6bb121194ec1ab5460fb6a96eb702a14079865f4170aa","1737a32f5415e8720a5606ec1dd4756f02e7c6817e3723b453d091f2d192773"],["45d0fb5cd95db76d05dec3faa12e467a308eabaad363a062353db3cd2d9b749","ae08691b5b0cdd19ec499132421638f470f493320e4003d123ab1da761b965"],["1257b3e65cdfb6367c6d0942327e799bc66eb221e70c6573a9862889eb51c38","593309fd45755dd2cc4afd2b9316bc4638b0c5ddb3009694fcb7b250d0c8a2f"],["186dcf9950f72e868014a8accf14aa36e82a7a2a29f86ba37f6632da4189db3","55684c9f7a043fc523ed78f756f834b4db823d5e4161bd79602c17d55a5cd8c"],["58791d5569f282f5c3b01ecdc9388df7ba3ca223a2dc1eed5edaf2a1d302fb9","6298d7dd51561a045bb4089deda9f40b2865589ed433e56d54554f8b45e79f0"],["13fd87144aa5aa4b24d5a7bf907d8280d15937fed262d41084898cb688fc28b","3fa54367770cc4479a857411ddcabe86627b405ce1cd14ad3b2863bde13abe4"],["48118139445415f0c1879224e2dee744ed35280ff00537260402a1741ec3676","4dfa39dadaabecfc54ecb7a25319444f8e952782d863790e42a9887064fc0c1"],["4ad031bb9eda84f2fe5d354c7948d41558ca657a04508654721810ee72ef158","620ebd5d0086b92c6009a42777b946a351c2c7ba852b57d3c9905fc337459ef"],["4a34abb016ad8cb4575ea5bd28385d2348e5bcc0cbba90059f90f9c71f86e8b","4f781829ad83f9ed1e1b6de0e5f4ac60dfdfe7f23cb4411e815817e705e52c8"],["7fc632d7512aab5356b7915dca854c8b12b369ab54f524fbce352f00eb9b9f9","2ce80b944fc9158005f630b34385d50c3ad84450a9e1e529925b3211dd2a1de"],["65ed10347503cbc0216ca03f7536cca16b6abd18d332a9258685907f2e5c23f","3be1a18c6bfa6f2f4898ebefad5a8e844c74626d5baa04a820d407fe28bbca6"],["1a8abba1be2e276cdd1f28c912280833a5ede1ec121738fcca47dc070dcc71d","21b724378bc029a5199799df005922590d4e59cae52976f8e437bf6693eec4a"],["3a99c22dafcfe9004ebb674805736a26aeed7ed5d465ae37226dcbe270a972b","5bf67552af08e1e6e2a24bf562c23225e89869cab9bef8becb3669175a3c94f"],["4a6a5e4b3501f2b7bbdd8da73ea81ffca347170bdfb6776a037cdd74c560fb4","5af167ebb259c2da88740ec559ee04052bb66480b836cadd0e2590c32d7111b"],["6890d95308525f0bac9dc25cc1189eb92d29d4b3fe61bc8aee1c716ac17b1e8","e6f23f78e882026b53ea4fac6950e56e3da461e52339eb43d2fdb2dade7ca9"],["748f4cf4f027efdeaed7c7f91ef3730ff2f2bb0bfc2db8f27aadde947f7d4d5","3a1cbc550699411052c76293b8c41a3a8a1ecf12cbbc029a1b2b6ea986fca93"],["7321f3f581690922cd0dec40c9c352aae412ec2ccdf718f137f7786ab452cd3","5be5130c9277cdb76d7409452438ec15d246b211dd1e276ee58e82a81c98fd4"],["6c4d6cb7e7ae70955224b8a912ff57ca218635a2436b36cee25dce8a5cdf51f","32f8c03c6db3246946e432e4148e69f5628b200c6d7d72449df6eeac0998039"],["1dad5f2e795ea6fa5177f110989516eacf8fb37bd6a091c7c93f1d73a2fe309","56b2298c538180e99dea3e171dbb5c6fba0bd0a9ed40537277c0c2373a8e2c4"],["1610605baacc9bc62c4cc923dc943347cfece7ae241e746fbe6c2c878221dbd","431a82d657e0d109d00dea88cf3fa9b999845221b7b5590a20c40fc71368c1c"],["6a4f5c787fb09a5be2b04d2eafa1e6f3d3c863ee22960eb0b64f6eaf6659162","14dbc3eaea6146ee7eaace5a91ed9430dad3a47e9ca2f68b455171f8fe6a7b3"],["738415b73e55412b0e582e45ff0d7bf4b1bf2922db581783fdcc75559f40e","33825aeb3fd8459999eb418d15102ba5864b069c6ea517f0c6e9eab8d9aca47"],["2603e72ce53985c70782774057a17944f7b4ce224a809be4e2b5af3606aa1d8","92822921809c42318f42dac4d773325f41c43069e990adac7818a45e2554dc"],["181cd967ab4615357cc96c82eae9152ce7598c1a1dfdd91a458bddb016ae9fe","5d562fdaeb0e12647e230e50eaf216bed52fa73c6b7378821a3bfc4cd66d4ff"],["1121726069b9ef5954ba6490100b226e0be53fef3e071b7c58a1286174b789a","4b25594cf4e9eb2d14b3f52f2661a9992234fc222c0a0d44517cb77deb9c16f"],["e543663969b915337f105f80995a77b356f1a51d8b4a4fb12d44364130e873","34b2e3c009fdab4cb7349a580df2e64c0098a123280078e5da6623a9ec6b44f"],["4e2f8909bb62de5ef65600e61bbf969293815296b6e23702875e049b3ce5c45","3cb81f2c21f22a7add26fa38a9ce5d9cce1bb251bd2698f90c34ff0a84f7af"],["37b546e403a1ba970c17b67c2f1361ab9c803f8d2b5cd93803014faa08861ed","37079184ea46272f5809b523d060686633f7995167897a153be1772fd6566f6"],["27bddca77f7bd7f66b3693567a4238f2e6751d95b0bcb409f6b24d08f84798c","6417a85cbfd6fc02df560d3963a241a986baacdfa423f65d7227ce49a96c57d"],["2de71a39aa043057d1bc66e45f804542acddf18f7a6d88c0d7fb0ca240debdf","306c1ce39ab46300f7cca0f3a2fbfa77296a27e24bc66b0b8044968ec0ee413"],["307c877154364c0c03534e7327d5a88e1380ceef6481567ade37a14ee7c1a72","3404bc7dbfb33b95d922d0693aaf9358f77888d7d95e773c38d83dbe2e5f995"],["79f09ff7c60850e5f5ea020722659a1ed27db4c95dca131f99552f785c8afbc","40429528c099349b426ddbf129497176951a64a53db5f9d8bd2be0252cb22b2"],["4027dc6b56d446e5972f35464eeac85c5254ef377c902d9fe37aea841bb5292","7c3ea37689ef679fa2f5c7e031a78e23d484a8317990fd34d44d95cc1db3717"],["645dbf78a3c228c4b7151450b5e65edb58e71f37e1e4bc5f471e0f1abd6d9c2","15cfe7850f327b256e23b00627451560c5c6ab60db78d45b7ab286afb6f13ab"],["1503ca373757677ad1d911a2b599d01c46eb879d1ce21ae171c7e439846a85f","583eb269b7030da6a0c324026919de3f9489d2ff6ae0e6320c36f05469ad66c"],["66e1819ba3ec4ad4ae9f7d7588d23baa004e29d3aad2393d52af204a81626ca","505249980cbe6273b82ad5038fe04a981896f4117345ac1abcc67e2525c0ee4"],["5ec20dbb290254545f9292c0a8e4fbbfb80ad9aab0a0e0e9e9923f784d70ed1","bdb1ca3a859227cf5d00eaae1f22584e826ed83b7ccdb65483ed5213dc4323"],["a5c1a5011f4b81c5c01ef0b07c0fbf0a166de77280f0ae241f2db6cba15194","4444521fb9b33d7dfeb1247d0ee1a2b854ad166cb663d9dd2e686909362a689"],["1f35335de40e00c62642dac2fda8b30f071986ce4f11db849df11bc45ad4e0c","7801a2c761b90fd4477ba0be9a775003d5dfcd959b1ed198b4681f15e7acbf"],["48db4798cf6821c1ffb8178b1d3bb6020e04186c96aaf4670972d367f4ed5f","781019494df95b888f1578f1b4a3f8e125ea60eca47ef9207a10630671217a3"],["17f653d904210148a8e74d8e719a3061683c164aa6d79c902a19f185ab437bd","6780e97985932c3860d810af1e065d454b1cb4be0e7ffe2d8cea7d52526e223"],["5c4d0c7432f9b0070436240f9855adae1467cdc9826952ae01b68cd52a3ad89","1c5747f968ed91261b7ae9bf1023c999da9816e37de602d6a1a50d397752bff"],["6fedd7639fdaa2f7bad4ca0b391710f6f8a7e890250ae8ae4252bb8b39a1e58","436a215f655a3fd3778b2335ffdc9aca6b98474e43d764c1f8362830b084f0e"],["7fbd45a889c5e9d127bb4f8474d6be7cb9796bbfff923b75e42a1ad4cae37d6","484bd12622a6ba81cd53049c550d9ed682a8e765b656b1cbff9bbea637bd1f4"],["17d984d47937263f7966a3e7b1eea04071e678494bd749c9e02b48b3234f06d","7b341ff08722c4e161005d0037204a7a2001fdda7af2cc1a0b04a027f115a0f"],["7f1822045db45ea07e1519c3ee1f7705915f35fe4dd8db1e8921b5d1c740edf","33d41e06b93320ad1b3d9580380ec797a05dac3f1cc8008899110ebefde2f78"],["7b19453ecb74b7d0e2a66b9890ff73bfbbcd61a266abd6d82dbe665bf32f34d","6dba2355420dac582b1f349609ea1c89b89bba2d1a68a0642f1dd12d86e73cb"],["273e82a15f395ddf2489a95685bec8bac62c4b459d1b28987d3cb27e4bc9128","653375b48a4cf5d5b101c9ef533039bedce5dbeef3f59e8f168bdc99b06ca5f"],["3006c9e7fc6a553d8eb4e8a47ce9f10d1a39576ac255ae9e0a4ce3869e76212","65fe9e2ef2aae608be309332d464f57e28f1df5de1a6a519751b056971f932e"],["5e8f384c8a4607fbe9789fcc52d54249d304d698562597d114c1d81452d3dee","3c8bc78066b5d947dc1e405e326ee55ea606c7988f666748d259850fa259a22"],["7841b2102e9aa103fb53a642b3e167b21113ea44751ab38e0b5ef8312654db9","71bf5c8308fcf9c4a7847494cd9bdd946fddf7d3a37e8bb0b201ff2343deb8e"],["40f68027420c11e3ade9aae041978dc18081c4f94943463aac92d887f922a62","499c6062594a6c7e21a3cb91ea451813393bff365a27a08f1a515439b83cf42"],["6ce77a50d038b222634e87948df0590b79d66087b01e42b9b6d8fa30ebb1465","35f5c46bb1be8555a93f155a174d54ec048c2ac8676e7c743054ddc52709d37"],["604f8b9f2dacb13d569262864063c2d4bb2b2cd716db6eeb2b1eeabc57746f6","68c6799e24f3b44eec3049973445174727a66970f1614a782efa2b91ab1e457"],["73d620f3bfe77f672943d448d7dc05327adf64b8e7af50039c469d7f7c994c4","4859deb36eaf0c802f0d1514602368143a33ec6ce8fd55248b59025debc6afb"],["3fd2bcd1c89d706a3647fbd354097f09c76636e93ae504973f944d8fc3bcc1","677ef842cf5eb2444941f527abec567725e469469192354ad509a26ebb3d0e0"],["39222ea924ac17b533c72ffb2c47ffdc11d6a7f7c70fbde3a10fb0b8f35eb2f","20dc4bd1089019bc1d7379b4feb3eae6eb5af59e9f253845da9fd633057e952"],["326f58994e1347f62e4102183215b5db956378d2f61f14aba4dec94577f53c","7a03284c296003bbe05178a1d82efdb7b8125511d63e20e50aed789c2e52e1"],["53aa8939c74d4ee58f03bc88bace5a45c7bfcf27466201da05dc6723a5f5632","2e32535ca7732904a048183247b04b426ecf9b39fc393a9cebe92fb1dc7a7f1"],["6cee1a03145e93b3e826e6067005f09c06099c98198c91c222407ba5c8c132e","beaecad1274e7c6e5476a100c271aa1a6f86ee5a9fa5c2f26124d5886fa63"],["3ec659b8175e1be1bd5a252108714776b813e330393f587814f5f1f32a73332","529a5cf9f8c237ae69a94217d173c8d19c156952041f5c980da557990863fa7"],["3d66ec5963d0c534d4139c8cef2e1ac48b3e7965fafabf58be26f903318af4e","3d3f2de7a95f59b683725ee6283cbaf31f97c4b600df9a4621413223a468740"],["7fb38ace8e0932fac2ea0d3eb676db8d684db1817e2e4d59da7996ce398b4a","68f92bd5768cdd4710249f9d49ef1d5654e497b9a4ba10bd2971366d83fb400"],["1c4a49314d6b4969cdd142c76ceb7682bfb868ace7f7568b0fc8635bda5a9fb","5fc0519f1f4cc10b5771312458748c036313b87707ed0540026ac64a5955aa9"],["3073c95d08d3b97caea5f0be16b2789bee766f76b7e5499f8ce8f96abb0f344","52a8974b4eb9a1f6a0ae2c83cb4715bf18d73f057255fcb3f63b74f7e78f590"],["44485b16d597a5de3604df6f7ed7e00b8aeef9e7e8dea8688255153b8bb16aa","6cccb0ba170123266f24b5d93a744397dc2c44820edc4f8f5b9a0f5c9b3b940"],["7618f77b7b32d512688dd62e0b48231d9574c6361e8be353a7dc04f7c3a115e","78ffcd16d80636381ca231aae70d99c9e20298b4f5388fd823ea9fa2b8ddfd9"],["7dc82fee1ef95cf5b3720fcc07f63246654bfe39762627839da40e51c75654d","4c0ccdd70955da74558de20c88352df8a02aa97e4d5971c500e884740a8cb62"],["7fa5d460dc10cbb418b444d9bde97e92c70a99a222b99f244dccee7e62cc04c","636163901baa5b7576c38c43407af578b8c4607e01e86011ae2dde587a89f84"],["758930d46006623a756c89bd0cc378f6a3c1f43c9a0edbb42274c35e75c16d2","1d74dd9f81c2fec811b8cbd6168a745b0a111932b2a345265ef2853b50b6245"],["7332ee0626b044d664ef228f8cb84df7c643e52f6a2591ae1c9007ad61ec16e","229bd8e630572cbdee54283234cf3e9f060e6382f99943bf234119d47b54470"],["78a16ef803aa20a075bb2f66c61bb2dae5698bebb94a0995fa74c3d53de1614","246d588b68edb6fed96c128349908c42dcd64c46341b205e79f4aed9b5d3675"],["6e1933939bd03b67bba753cc0cbe7d2f25bad68c993887ef8c9e2fcd59b0647","599413f7c204a11a5ce315eab11299ab7326603412bb00bc1c59ff75a37d6b4"],["4a79957a5a1888ad063b51c69565a2b48e8eb917183e220a1c8d3374526d30e","1f092de0e069bba7fc5386e2e9a114c1618f88c4b95e220cd35ffe96f99fcad"],["3148aa3df9ece39aca84f59489f2710522216f14be6055ee0027529d1d55e2d","617e9a52a92975db0ba1977f71116f7058a0d31b869ac7f3ee2fd80b0c5100c"],["5c1188e72384160ae39d07328346cda4f6c12d227448e6236f04dc971625287","1643006eb3a3bc6aafd5f685cf054f2a572e6ca58c0118bcec0b833741f116d"],["3f72efc93c9b71adc4c51d8fc69d3940b20d08733af2b7d05140fdb1d1c1004","7399259987c8f4ebfab46e522380707e58427d3962ee0c2a91760813f76d232"],["3129b34c03c51aa8f611e91d5cfcc9bd3ef108ee66e6d3ee35a0e0e50055bb","563b18b5650085efb4cf179a029e6afff27b1d3091cd28eaa68d24fa1f801c6"],["16eac0f9fb4c67cf89a7fa4ee615bbe731d8edcb709a1b9b50c7d873a530f52","7ff8288b6e199ca8f316192881424a37fb080c29daa76b1f0edaccaf580a80e"],["75f6b6028c43ce832f65d7e8e620d43b16cba215b4b94df5b60fc24e9655ee4","35e9ccfaed2293a8b94b28de03bcb13eb64a26c831e26cc61a39b97969a2ff0"],["3c6152fe093bd6316897917ec56a218640ec1b2148f21db9b14fc7a5ff362e8","6eef2df27ae7d63a28856b07b73e7aad7ca94f317201a1e675ffc6f9a1710dd"],["54e01b5fe4fd96052aad55b3f26b1d254dfc7e2525fffb9ae0a77eb8cc5579","7c3d39232ab333675b219abc766ed9b4782c840e6b046614dedb8a619696eb0"],["d1e63f8ea8a76429cf254a6d3b668761f0dc572d4bfac4fd56d9eaf58fb6c0","2bd0a84d3908a63085824c9329a0983913006ba155b56a58eb3f9becab29c45"],["2d6122f2a702edd4da7385b1580796a71d13bd72be94cfb3fec01149c006c2d","70eb282fae992efa6f5915e578b640653549f23385ef3a29ab29b1b9b8ad63b"],["752fec14beaadb5ddbba6b3a17fcb86579fa588ef407fad0ea07dbb22a640d3","3feb6728eca21a1e84e8f9f23010387a53a96a1cb62d86fb37996150a1299ef"],["63f94a92f27acde8f5ed949b459506f51d70c85bcc61a34d647264ecc53c65e","37e5dce0646ee66f4fdb93b82d54d83a054948fa7d7fa74ab6b36246fc7383e"],["d6aa909287a2f05b9528690c741702c4c5f4d486c19a46c38215f52ef79c7b","5ebe1128dd81093df4aca0df365d58adab848d1be1a94b95eeb649afd66a018"],["12866812b3053e2f7a9572bdaf5ef2b48c6fb62a0eed9ff0356df50e7d05557","6785f7eb2cd1c120e4c7167b46861d10117040a2e9f2ca86a71e9d67df90613"],["46a730d05330b1b13673cb8a1b8f45460035e4a9f1a1751cfba099c4355c1c","76fb0ec6cd16a8141cdcd875c8b2de9fce42d296072643d148ac7e7fa7472df"],["4bd4380a22900bd34835e0a908eacf4b6edb61eda0cf483f9212453b37e7516","5e9551cd20d8d7ddbf4366880b7d5267385afa1966ff30da4baaf273b009d29"],["71f1994ad40baa2922424ae222663a64f93d8b67929e9a10f9e4c1ab19f3833","85320fe68ec0d37cc19fdfd03589d66906ffa4046c80e1b094a85f27676346"],["5a63b1bf5232f28f808765c6be7ce1f81c52145b39f01c879fae0f4303bee61","3bc5d6df68bb6d0577bf9ae2ae59ec0e9b2dc7dd56ea179fb38a41e853db950"],["161ded55ff1087032381e6c1449704f63ad2d88df82dfc44a71890fa09b3941","78a52e0013842037274ea75daaf8eb4afc04ccc4b07bfaf3f5ee47d165e01b"],["1bfce5229c5fbff5c0f452a22317fcfcd9262f23df41840f84fe7d44cfba1a1","66b387872c00e63c73006a955d42cf49c46c5708fc9d1579b9ae38341b24a3d"],["56d47dadc9cbd1dcb2ee3efcd5d4af5e6aea71df10815c68b54a14e81d11b44","47e966ba54df48e9b612a903685e0060a67e4725402e8cb4cf654e54e813a3e"],["4b1c44438afd4ddf20a2cf612df2ee494ce84c7274c5529e857693e73018491","430403bd31d8f0677e06abff7159384560f27b9622943fea1a3192f14bf40d4"],["7f7281728fc2214aa1dbf13176a4624b53814734abd570eb6ef7c7e32379606","312da47be347fb3fa2c9089b38df372560dcace2effeeacab4d96ab11567295"],["16a28884a1be8183e0d3fc0db84a9afbf47126fd3be548c2a584aaafbfa7dfe","7c3f57b3b895564ba562c1cd80b71fda6d2e611665c6ab87744f5390858fe24"],["323339f37b327a731232a9580e79952063c7c232bd1380146d8a83c285f4b8b","4f16be1d983c7232f92cce6b9690695978d42cecc8eeb8c206e125d1098a265"],["624d26cbaa197e104eb83cebf2adeed09a5cdad359993fe5e3529d4d0def21d","261b7da3cfb55c788977e0d8d640e3e93ae5a325d962ce85c816d7d32cfc430"],["f24ecb7ee83a3e28dab54a330dc93d0429a7aea36412e922dce8fbff40d60d","b043e36a258d1df1d21b0cc7be9c4dcae1bd4ed326c110e668ac23d86805a6"],["686cea46b710bde1231483bfdbc700cfa3da6ecd5841c0e0c782f9ea24328ec","7eb7407aa58edd6911c7c7e8d1e03bb52ead4a2415a0c33325872ff3a521dd6"],["3866ee1186264549df3dfcdf8705c0380c9372eef6d4081c2454d3aded1720e","634c6d3e8eb8af652a4be73e3b613452c2213104ca875b66b4b15ee5b1716af"],["484c687cd2969a1d20a58cdfb9a60f280a473284503b1ecff5de514aaf8206b","34d44d26b7427e51a646d1b924084762f5b461685450f21d6a472de565bebd8"],["203561333771fa0fe22c4033349f7b877d15b0542a5598e81e067968768247a","2b6a533aff6e2163a36a2a89cb7415848bef48db40f952ffd380f47676707c2"],["2ffa6cca6233695760251206fc5e34c8d3692498589478cdd3d5b09f0b7c05d","6c57d605478fa9626c4ed769554d075daa53e1a1d0bd4d94174d3bfeeb11ad6"],["5dccf0fa46a5571f204d0b033b45f299cbb3d9f80fded57253ea4f1c64faaef","30a38e131ee8756ee5ea2a3e16618a5dbc28b5b9311308bf037ecc2039dfc7d"],["57b0a2eaebeafd950221facdd24790d7d1ab8883e5c5d55635f0d14a1ee4741","7b41cc478fa6be38417271db8ed12efc0da6982552c1496025d2df0576bf4ad"],["611b5725101f611c387ccaa13889ecf3bb5595071a179ce350029bfca4ad7f1","3129755977abc8995fec7eec1123a1561e429fde37ff36af002d3211831ecf4"],["1c06bbd0c52fdab9fcaf680c7a93fb821e538a2ed79f00f3c34d5afb9ea6b31","3873d3bdfe0be0157bbc141198dc95497823cc222986d24c594b87bd48dc527"],["275cdbabc989c615130d36dabfa55ca9d539ed5f67c187444b0a9a12e5b7234","2b7f723e68e579e551115d56f0ae71a3b787b843cc04a35b9f11084b006521"],["6cc702eb20f8b5940c7da71f8b1801f55c8c2d8e2e4a3c6c983f00bc1ffdd95","5d15b3727bc66f3aba6d589acdd139fae115232eb845abe61fbdfc51341352e"],["44defb418700cee8c9bd696b872adb005490512d8bba081f8f99a9f15cc981c","3b2072cdb1d919b2b65b5cb3557f0a3381d7ca293c267ca4a38f83e77bcc96e"],["fd83ce77b1578b3a9b8c3cbeaddb1504d2fd4a19c901c21ac65961224e4966","110cbe64fc10c6b9c66f15ca406a35f50b723b35d83c5eb9797a57f8395f4f9"],["9dc6ff90e341875e113bbfb507724dc7095a280d2f32cb6ba61a1e0c2d2aef","4aeb622896c852c2747454e8f172c9482955a42ecbe522d6ce07ecde79d0a51"],["71c58b0e47b9dd9107ebd8a8c8fa9f0534e78231bac612c1ddc7a94edf33eb7","7f90edaf4792bf8334adbaa0f4ee7c654312725af188682d75f34874c4eccb9"],["1f6de1f14988778ceb2dfe844f92394f1f1e72fd1581ceb3bf336c95ce50345","4f6007ed4e022d2ee9fe4ca8207c5f6c766c4f3b85260e941fb24ad0dcbf0bc"],["3ddc3ac25ede4a67a97547ed27dc920239b585fb3624177e2e8d59eba678115","a9afd8f8bb759cbd1dff2addc63f47da4ba1291ea34229c09c0637dc5c8d24"],["c56b0269d8431556e471cab9d70edda3a37b391696f107b2dc370631de51d","729c52f6b134f733eb750c14bd9f95c077f0f6f6ff4005701e5bedc6544599d"],["44d32ce19ac6807cb22e4f25fe1486a36a13926f147fbfa054b63ff0446177d","212a21e8c124c9cd37c80d2dd66913ceaa6b6f666522f115c39382b2d5925e8"],["35dfc16f3ae6ccc06a267bf6d931601e52f3e45359ffc513570b65b96adc4f","74311d10f4bece01b5ae65a6affe5c931463aa1b73a3320eeb41bbb7bb1ff62"],["e0acd9d2d907031b319b80121dc90699d003d220ea785d50e5033cdb3b1a03","3911ba78d6e507485d6374b0f7d2e6198f6462a7d6d3cf046404a07af690357"],["3c57918ca254c0cb7dac251ef4e10c7d82327969552eae15d26c4c52660922a","5fd5f5ff3f14e671548074114c72c48409df8a2e71fc8aa3c8acb506e2a88df"],["222ad8b61e219ba2b581f606b7c996516850a46a3db72fe1f72b5a9be6c324c","72015a5e2db648112abd284fd867b59fc5606645177d26cf6e9a655c9912d42"],["3c86d5d774bc614469768ad38f7be9a53e9a233942c5c553b82e49aae684764","480febea8229e130dedffff89c11f3c43e11724e6bd89d5566d78752859d41c"],["adb73bb8352d0c10175df371f7868ef2c9e0c79ac788430c480c0f7d85c187","60b564785248111502e6f39c4994d6293fac22bc25f4d764b2fb1957d3c9bd8"],["3836ab8b46cf4f453a22532c886940b982029b29c42adca90ded5bf77e6bcb9","7b15e91d6355f147b171a90b064a9d8b2d7bf3699bbf4987664c61c950d8996"],["12ed96af1a97c45ec31f1531e96f6fb28a03ba52ab8484545fbe0dddc97bb32","6d1f522b6c6cad0940cff8e23decc72bb8d4164696af031415508b025aa8be1"],["27382994ae5878223ef802e9b4882f481a1b4008f1eec8484483471f7aa742b","c31750d242b3975b0026a0e86ccdd17d0f680a8c6f53f197fc25eb1f777917"],["431677eba3715455bc235557518a74f3b111a88844ef13e159ad44bc16de3e6","30000e1eb6a17d9df776981e65c6e500fded1ac12003adc9446b269812c9197"],["4b563e6f42589671579eabfa2cda5502b361c46a5ac8d45c8ed44741a925b33","627bdb41678443fdd1aa607709e9699b652308615f4bea760a3b79ee0d9ab5c"],["2932fd3f81fc973ca9def6b7f1bb50f980fe589187cfe9e9f52ba4d356cf2c8","1e6bfd00fa976c4770263a227048214c38850fe0f059e7b3d2c7871ef07d68f"],["e44e4f3d96d9dec775b996be57e57fdc28e7c68023109b221c414a244a0dbc","58b1e52fa274812e5184e00e9ad812bec2463140adfb4bea3b2d665867dcc9"],["7fcb89be1f4bec745887bb891e53fefd665c53d00a9e74de16b8a7e1f7adfb5","74af0b06633f779897e199609c71cc5649bbb65bc2c0abd4c678f0480c198d1"],["62a381ffb904ea3ff4d451d4c8459457cdbc3dc2fd2da646a95d8c1e90c0b7b","1ba058658e09db9e319fa73de8ab4a992b71e4efc22c273725bdcab84e2a315"],["1b0fbb7a84c67e668450a54449c7a46261a2d355589f8b84ebfbaf9a77ee938","44f8fffa33dd33a6146c35d196595e22cc4a215f61ee9197cd751400970a1b"],["78fe920bd96a356d4d95ee34adafe8fecf071d3107c36f047b4024ddc4b3eea","6162f29607fdbec10181fbac6e57d5cb41b922c5791fb24bd28bcdd75d16c41"],["5629b849e026e65d119ac11821d7ab7efd9c52226f75c7427505d6818bb0c8d","1539c0f90970ee8b490e45bbe5568170e5708521a0e59f976be680595906feb"],["62bc853f349bac8c6e5921d27ba85dbd9ba20a375d70a7bc008928f3e123b04","6acfeb1de05ba43c3ef1a9110a983a320e77b3ca294abbc04aeca19b194f26f"],["4cf4bed663464418285cbae359b5d84ec76b5997d24f3640984c7663421190f","941f818e3e3e8fb1568da85217d17f9250ebc948379014d900a7b1a848494"],["52ff3d9ffe9a302f6dfaaf74bab57c08027d5cb699a69b30830540c0a2d47a1","987dd8876873778d933fbfed37aab2f7d6f669c37024f926b1edcb2ca55782"],["1109ee32f0bc53de6bfa457060b366e909d7c18061ec9845f46ac715496897f","38f36f172bdfd454b9285f86e6bdece8fdffc95182c7d801b03c671cc55139b"],["4b4482f1d84efe23dadf3bb10df3dcaa251312dcdd604f616f1eb540e1f3232","7c9c149dcae9135f940fb54482f9c3cd8193721643a6e23157b8020410d439c"],["69cb459b9e415b7581ca163611c470d875971d5d7949de732d1f0f200544a73","a7136fa9dd00c0469863b7def3f83a5611ed628810d7e807e7a873da5a9897"],["b66a4e32ac9a4baa8f64780acd94ed3628b2b0ea874ba4dece629af65f9e62","24328ba9996a24389658e3467b8b90dc3927ef8419fe28b3f55b1c1aaa51915"],["5ecc3080062dd451236de0e4eb91c5c75100733364bc5469f5fa76f79021ecb","6da4abb9031a27b5be94529324fad8026e7d871570780081b0f424d4fe543c9"],["1e3146f00880bb22486d5bc73e54367d54251f4002bcf342d0393b05a4b9ce0","23b6fb8e945d3205f633ba724202db5a99305f807137edf942cd60eef867699"],["2e1da8013285598b899f026c6974185db12c97b4c63509769d3d4ad1d18a4e5","1e7e7b668674d1593c39d58bc7bccbf568208732b3519bc2cdf93db34366862"],["d26c3f389d81709506f184b53871497c8d36c5c9eee8e3737358204c1acba3","34649c3d39f3b825947fedbca215ae30c5a5995e93b1c8efca4944cf85a082a"],["91300478a83595d548f32f259033291fc7d083953b0b8bde88c7559660c563","e5d2bff57fc6551e9b80c06ac7314a71907cdcc66ce82f2cce721a670df10a"],["1f7abcb9d462c63ffe92aa56619ae8590089cca4d93ee3e5f34a63882452cc7","7e9f85c7b7ca6e9a4f3a026d1048adbeef69ea9d876c6f647c257b879a81bdd"],["4d2caa1323012e4c83b0ad387308b8aef5637bc35ddd882e7f5e41cf2ca410f","47150e808c81a540b6f8864e9d6636589cacaa516f82caaa96506edfbd6f0e"],["3c10a6083c38351deb3e6d1b386827d0acf48979b66b95249eb8700ec26b069","47e34bfe561d903cffdd1d849b85aa3cbd31cb4a9bbd8cc2e5fd2f95016cabc"],["758bd54868eec045d0b4d3d2bc415d24bce13fee47cefdfda46425c109b657","3392a7c66ea3bd7b044680bbe9f78ae86752097404c067e9d2572f55330df83"],["19e718e0ca1d2d6fadbc6006ee7dda7a385430e29f5e239cdd4bb7c3fdcb2f8","5c68249b7fe03ea2e13481a63b6cd4bf74ce42009a89fee0b3f8f968b3ec709"],["28077f57ea62401806367e6d54fe45d02de5b072db787ffdcc3854e12a3e855","14f3762689072f5fb41d03e94b01808c739f6d42b7b785b0e464100b150efd2"],["3b8a8cefd017363ce867265af3293cec081fa589fe561830f0078778cbd338f","69ccf2383cb7b4f9c806d72535812483e7c5e9a1a5928529d64ca7e085e758d"],["77878f388d22161a2953e5aca6bac1ea480e102f329574b4b201640d44a296b","7eb35706a90a03aff7c2fecca72659136547cee98038746db5aba16fd7178df"],["97332e6da70961f2ef31b7b628f1018d21db8db015922a301fca7d6fc6a8e6","2e37b06f639fc7a82601b744570a2619e543cbfaf60e474107fcaf4686d3223"],["a81518d452d3aac48bf0386c3ff170ef4e684a4def242c964e129c64f4d647","37506e44c85908ec7b7adda9547fbdcc2e3605151fefa77fbf127ce3bc938f2"],["e80336b2220b1d666074f6b0dac85353d0e4c2e8bd0f37055a2236a6a9fadc","1cae76d73eda7a5964c5d9d3ad6748aff51f5543c56441d2fdb7b444a39846a"],["2c01fd8430ecb44e066f352c4f697fc9fda177dbe162f82862d7b9ea8c918de","6e1dfa99640fdf5b30603d34c7c97c1aa6e6b7f3a2c52a21fc64b0fcac7d591"],["744e37b511cd0ddcfe15f3581947014c159de81ed055d15a13c7a2d1fa39f0f","685caa8ff6979a6c63640ac638a3f9c75737f2031bd55322a47384357af164d"],["40e627ff84e1a7a9068b4368770f5956128a4d9e9e33e9cf5e24d9a242149fd","2465bd6cb20bbdf810e2bc5c3c458cecf4f3aa163a7ac99c2579e5f33417f2e"],["5f635af7f554a17bceb6ccb6e637abf89ab6dadd399189b0a0390e87b1896bc","2aa6238a69f89665646c0e3ca2ba5f709cc6e14351cf71e1b00ec45201417a2"],["5edad3063c9fa8305978d7e6a4e037c9fa519b8023c7608dfc3b66e5c1e8985","49f405d07d7d01919da51159ecdad1031a5ac208c026fdfc14d38f633d92183"],["2fdf2e8a45858c12926a1f25a62255fb2d02d0149a15ef669f859806683e649","61cfb686bb31e2524470d4ad2ae09e3cc91b16305a21d748098feb1d8ce3b3d"],["ecdbd7c37f1dffa3943977278da3bb429afdf948b4ea6cdebace3d3be82381","190b67fb34f7f3ad6afd3d6b6427aa327547d8ac0fb4deeb0feeba1f63d6c60"],["233021b483f578dfa5222f8cccba5766ceee0ac65f6d4a3b1673b302a21fb3c","7d4b6d44d175d4b593f06f5a6dcba2cdbc4eaa2097abaf613123546866cf4ef"],["42db4e953c2a7a743de9fe20c5798f2247f51db4eabc6f40e86c13909a310ce","12c1a0764a0b9f3666e431923ce15e7fcd0ded5ab153f0b48d362cca1604e65"],["30d539e2b545fb957e40e2255f6463b52d227c9808472cee6a3d521aa283a44","5f9eccf747fe6313570f99e845db32b40070acee9ce9e34da7f3c29ca53a07a"],["4bd64e5ade3e2733580a6116b4af328751198e7128f9acfe3a3496b545efb5a","4d584768900dabfc0dbaa086632b8051bb3905ef79b84d96c01514441d0cc93"],["62d6e771f02e591557197d13c3e77dfa2d1794ac1808407bd8227c4be31b466","5c6f5607c1808e899ba36a425911fa8566b7ea9cc80de8a80538c0fceb837c0"],["5ce406218cb2852b1d2fe1836b19462f664631785216e87ffbce26030e2101f","5225f107743c255ab50e7be4a090fe39478d1ef4ff558468559d8cfa87bb94"],["670286486e8dda3dc66b0ed3149be7697d3e06c8279844079daa7e42d5af728","26becabe7430380c56e320f5ae3329569cae7b0af06fd5327ee23979d200eb0"],["3ef448df33a4394c43e93e5850cd0c5a6dcb18ae1cd865d00fe8ede9336a9f5","56711f6ab7e0e4f7365ac34e284ac2879f40208c46f6febcc1dcf7146ecf015"],["4b63fc130288e92f2d6ba238caa7a6364804e29829ac037c57df32fbf762bc3","1eb8c80af55278b4113286c038fff2bfad2da62763bb03426506b869139da0e"],["4e7e998557b29a95f805a6e2e26efc1e970108272d4755738c04f28572295c0","97cfcc2f447bde61bde71049d8200a74a3028b21703bc139143d81a3623f09"],["574b67898f02964c408f68e9470e7b615be037e40b824e6617f89cb56c21219","49392d5f8e6740a1b0b7444f56d7a17363f8656c6e4c628678c86223f2e46c8"],["7e8cb50ea5d5c1b09e219e7305bcb601d99b6d7185b1c388aa8e36fe1e56554","47fefa308645455c12ccb5817da338f0c4f423b341aff4a9d158891a4fd69ba"],["67266dea9e71b4ed2bf24a597a823dd048cf31e725db511edceac72998c9ef6","39babd65850befde1f7c28e41dbdbb4caf82bbcf3bcb5b33161f1c2960b2d8"],["63e99c2cb9c74eb9227d48065e27abb8f606df8fc83b2c44e4ea38b046bad2b","60494a53dd13ecf34e08079d343c88fb655d6d810785af81f08d5aa9bcdcf9"],["3cf0600b0f5a2a4eb78c487cd385350e8c7848e3f6983231881d7f1bbe28543","56dee4288528de609976ef6b903b652127c37b0590e91a2fdbebc3f11df2628"],["758f09245fa4b8b23d290ee2b3bfcede199b4fdb11f3cf2502a8ceedd61b129","622d9baadfde781e985d9722e0a04715666769a4cc7a9bea0b96d6386be1746"],["38e1a45b81492aa95d7abea2b08b8c14dc0b8a41108b036871fb737910ae18c","145c611262656385e5ed6243568cd3f9f59dbfed7a01ba11e22bb8bb272e08e"],["206e54ca53a2f155bd4fc45bf2edb77798ae6623defd4cf22f2dd4a7d119dad","6c94e7f0825ad81680e4cdbcaaaf4df806d57a0d1fb2331926c3fe2b79d22e8"],["56e98d2862893caebf66180e84badf19ffc8b53041eaaa313ae7286a8fac3d","526306f9c01afd6e0c1198ea5de17630f5a39c4ecd02d8e6f0d613c355995c6"],["4fa56f376c83db33f9dab2656558f3399099ec1de5e3018b7a6932dba8aa378","3fa0984c931c9e38113e0c0e47e4401562761f92a7a23b45168f4e80ff5b54d"],["450cfaadfecdb8a2fbd4b95c44cb1db723ee5ac9677c9c188b3d7c8eff4ca58","1a552bdfc0c81be734f1f6ca9a6dd3ab4daa61c11fb53ebb7046eee25d617c7"],["6fe20e5c8a8004e33eafc84d16ef770f2f0b7bace19adaaa150f987d295a34d","28a35040a2ebe9a14a162d3208d5eabc6e2f3a8310f926bd80be65aa71775e2"],["1bd65f45a35bf62ae8f9ffcbd7de2976b90518b6820c219f039c50043bb1edf","fb5f0f8659f9b6ed7cb0ddd7999506d0c20b26bbe69d1915a31842cfac41eb"],["4ba4cc166be8dec764910f75b45f74b40c690c74709e90f3aa372f0bd2d6997","40301cf5c1751f4b971e46c4ede85fcac5c59a5ce5ae7c48151f27b24b219c"],["21cfbc678f5a279ebb6ed124273c8df37eaf12a2d04180403ae6b5ec0b1e1ef","4478ed6a346d899ad7b0b10350270aad39ddd5b68529297e4c91a54357f0a7f"],["350bfefbe3d864eaadac9cc1195c14159bb736be743aed7380d2384cadd2046","5e2a4b3ad0e1d7b9b8ef72b10d68a80e5ee691d7db591fcfbaad6240d41da8b"],["529acd569127f73c8d34345f87e96cebfb48ee12a00a3861cda209337ed94e6","3120671a89b705e5bfd99b0e7fd2118b4914a3ac309b3d74527cacb5ad7491"],["55d3d7956a97d10e65a4d8ffeba40deaf0db0b57f8e022cdb3df6df613f5c6d","159e59a6f92f48fcf85aa96c1a03749a4c4e2cf9e2bc94dd36796daebd9b8b9"],["405f019ee8f2e972a005c549b0884b5051f63d1e78480b73208dc07d8c65a1f","4301a3d0c285ad309ff24a12c100ead7f48ba1368143712f32ac141ab4d9e8d"],["376d59b298d982f02dccad0edd5bbd4e5e8fad7898750675ed0856850a7babe","5233b12bbc50564eb61cc098a17d3d97f06ec7a230380e4c5d3b725cc318eba"],["2f55624af6109ef04b2ed035a44a904ace8627f55889f011f768aabf4de9a38","7f64209ce7dfb63337ccf3d8c14f4093295f86996cabfee23b1655549aca089"],["3b8965e942bed2714bc2e685fb103496e1e3595ac6a343d6df45fb5ef6979ed","5b7cac7a165cb69ae103dd9052fb39c00ed0aad47989005aee53972d82d45b5"],["7abfe3accdec1eae1a50049efdd9a8eb7c2921a08e8bf1fe606e9d5a4039ec4","3af178e7e831f8148244d2d2b284a32991852db6212ad0a9d77540ef648a5fe"],["4983196df6ad7d6f0a8d76f86af3863ad8611374a03fc0fd00793181dbde9d","204c1f91b70f975a21d24a8face664e496f00f602daaafa69a3b56098a4cf89"],["79e2b91c1531a3b16dbd53e72d94e16bf265cbec261658151acfaea3718ea72","3d9bdb47e8b148c1c5e9e694ffbc2cf71aac74ae1a85e8d8c3f77e580f962eb"],["297efceec61b3be17565843cae465c52524b4ecd9331a4170f54f7de8c4556c","6ccef1733624cc8b973ac63dd54e7a53604929affe81c3439525ae5ed6af993"],["44f04b1966264a23ccdc870c8563ad2efcd4c8087b5469b90e792287a5581c7","1c417f0e9829fa3d3cbb7c3cf4dc7aac04c5bf66ff3f86b833a42c533aed1fc"],["6ff83f5d8b51db3be0bda80eed2e2adb7037f2f58f705e88f0f98197431ac26","64f59b8428894c2b7afd740866065ded42e716c7d48accd3f117f22768ed9fd"],["14aa8187c9559f77cd1cf96b2dfc949182529936f2b0b4050ea56e134073b24","5f36508c68b1dc586f3fd3f4e2bd29c6d8258491b8a6aa19ede811ce0d3d0a1"],["95e8882a68c5000d1c2be7c0b43e7f2a6f8de906485241f0285a5c73a27a83","1e4cb67207ab73bc1e5d19fa2146fde6d03021393b77a55df4ddda1fd28f5b1"],["2ae0704dacb3da47d564514b4c3543505b403ba09a248c6e74593cba1867ff5","5a4b5818088dc9ef4066b90a8893ae80fc89584f987ec1928ef9d72cea2bd67"],["61a10898a76fb99989e51c0e823cb60b95ec7ccccb917c42b2b28014f5fd94d","23d8ec1de45366d3b86c64c2da05a2ce3d171adf52ca5522e652ffd0eeee795"],["79884133c879cf07734976fd64de220c5a972e04c2a3afb74c362d6c3beecbf","2aaa0e6d4891b792b5643fdf09873343cd0e3fbba3cbd0601b481a4083f32b6"],["45f73d2fa82be6c5ccd0f62d2237efe8727c479967d27cce28e42b9a44bad5b","2fa4932215f72d56d8be5205c5851c9b3e5f2a14468e4a7acace5437c6b27dd"],["37f53f771850f52f9c8f87b53c6bf0c93c2bed76f5fd1d5697356d0b2325007","50f1a052b79b446fbc7b93ffa1a4515f6c3be3a76a2b0bc5eb8ff327549960c"],["71bd6d23e0d2f312d47582efa609101f15b9ccc571fca8ac4fe3457c67fbc9b","3b3fdf86bd4c7fc26d60540a6439b4d179dcbf7b91efb0ddc60dfbff9a148c6"],["78219ba049438385b829c13a4993874a4a326c4143de0dd581c7b9956f99b06","5505f1268dcdd4ee01b77abac3bfdcbf3f0513ab097c69ff777b4a631aaf256"],["b81e924a86536dcf68bc5a2ca2065a61103ba6c9eb0ae4cf8cce9dbe286f15","653a6dfb51acfe8a844fb8362795e5549d424aed88d3a090366a44f840b5b83"],["441c0d7b7aa705046dc0e07ba5f33a7d9df23f694a05192ff8c2d7be2aa3fdc","4c06568c0902bb99d428bfa0a946ed0f0ca0a51fbf07cad88e06e9c78e38a59"],["2569c8c78b6d6b92533f29f767c95720d377fa63ad5a3b9827ee0a74b0488aa","4b59c81d3cfe08834f946d9d57614f5366e0bcd9349475aaaebe01341196fe0"],["3f2fa285a0471647b214eac652bbad9d58a9f2dd2e812aff0210d0d8a6eb32f","4cdb18e1c2848c2b52c1a6557165bd1a8f55c2f7562f5cc0b326f73c25b696c"],["5bb5141ab4fcc5290ae9151b8045a2cd8391547ce7b3b33cbbb10f8fb538092","5a36bfd52acc6a83a9913b937ec086cc27fed030b5fa70dbc5d3c12c9515f56"],["3f3fed272edf91aa7f8ca5d70005d390fbc67830ffc69c5fa3ae17582d2771","459057e0883c44d8776fa217405f443e5954f08c4a5db68e437becaa664a999"],["5237ca6656237a717a739a4509f70db1b9dedbb6cd232f60c9bd8c4563a6b1f","56c7799dd02896dbe7d69dd8bb9718270549592099569d107b7b49c34bf5a49"],["1cf6b8499ac881e0b2fc7def9bc1a28937033b2fc52de99e75909a620c7a281","5769cf4f735366fa386b6858043dc99a100f86fbc77b16d57d77766197ba27a"],["1b74b8a6b86dbf9638cdb0601e1a332b8d880753423d38c3394902c57f15e40","6bb2dc10d2ecbb913219d0ebdc8d3337d644ed8b6c4e70637ef4c7e50887488"],["61e4da415661bba52a4737e2bcde1a837787c4796b2e1854778534f1582c29b","27c43e632cb7652e8508c9c38e3b4ad0d3dd6ba748d42dc84ec2685e64b9aad"],["7c460a204d23f20ce86596dae6ac9b36734e4a9f7c5b43262c97a36c6a41c6e","481a11f9300ab4c4bf6924c5ca884728cc361247377065920966785d043fbbf"],["124ff5e55e4effa40daa5b9618d75c49c8b6fad95cbe8c0bfdd83cb9bed8316","33a2ea15d0f71f58a00de71acd7f22ccf9002115e49dd1f7631faa0d32f9987"],["61c9f8fc86715e95ff43583a865c5a6515f93381839d557ef884a68637eaf4c","5877daaa42bbab9083b571e12648a9d62ced4470d71653092b6546f4a5acceb"],["70a6b9a9e5d1fcc07dd9ebef6d8f5fcf04c6cb34932d0fe2335330ac6dc8d3d","3f0cbd332ac56922e886656bee74f6e9bb4bb88f7af7bba9098678af1f38fc"],["41db8a0f1ea78443a39e08a54323743c8897eed1ddc28f41aec6f2655040d9f","7d4bf32f8f4719c2e4af8b7889f3b65cfdd033dc2f971798a12170f2b26efce"],["62f035e01acdfe841104942d6c8c07f0fbd618cb85998ea24bcc24cfac1f8","1caa886104b7d753fda93645a746989794cd825c62473b526ea34b3d51b5771"],["441c6f016d270e86c19843727b83b864cec060cafc813b23d7e41e5abb1a60a","29fece4e40400f3acae0586f4fc8ed535e805e472123ec38d662d8a0b01c086"],["2c791ba0fb0b66177815c98191fa6188dba9c795e34a7c3c8a19086215e3cee","11123151389d4b330db6a665a560407e7cd8c3807c749e2b0cffd9c3074ba77"],["5292da4ca71ae75ed0554c267747e39c7a129b3b863e1af3ebb3e368439c4ea","63af6a5016deea8cc674c44f16c63c1db31f09af4fb4d2ea7917c28116661fc"],["3367388d5d1b7758dc3d92e244f227bb8a54e3d9909e7b7dd62ab5965e3efc7","7ffb4833071e4b03ea755ccb9938487a478248fe9b1158a08f1ac298801c092"],["95c863314b7f18090f8eee602403be823a367a1b416d54c32e5f914e67d922","159c2824f899171deee23e0ed520d4825bd667983df0a8d45d3a1f7156d91f9"],["621c6e08b3c57404644ad49ac7629832c141273fa1f323781b3395393fe985c","65d1eb0140652958c4371ebec791e03317d6b2e689d90e304666f1b610783dd"],["54313129bf13993952cd2b31ed06013aba85e74c1b8a00e062031f32188a84e","680129efc9eb8ec07fc180e8f6877e5f0f9f44e3000a2c586ed4ce49d12a313"],["21ea57a1c8286bb45872e78617853c47b89091670ba51c124afa3362e7260d","7087e5c1536df233ec9bfe2f983e8d7622892b9bf64c450c9823898e2cc2fc8"],["3793b05b99e7a57d88db4ed0dbc3b771285abcd9052da50f88595354409f3f3","12164105041c056f127e737c7cd63981e05f246bd2b6b65d1f427019c7c3801"],["befd345cef5fcae22ac37dacd6b9128cc58cbba3e3fd774e11b421c2ba392","6209d25f24f88f7876ca604db23d05f78e6b3b67fb033f2f1bee221f352b8c8"],["15fa536045fda4c65ff74f10b4e669ce88b9996c6772288289d3ad725987fa6","30e0c2124a35e265e931ccc66ce5ac3697d982814beb407144ff6762cb691df"],["38b795bd77ac573576dc204857a488cac2cce19809882631ca2069598c577c8","786ba555d55ebef688b068bb9186a34a08cb00bdfef51619bbf911890ae9a13"],["6c66853592196c3eb8d9526dc155205e2c64097adf8684bb0e15eb460ce1c72","1bb4ebf654f4250c8dd1061a4e1b464b31a8a9999ac9960446ef8108a66871a"],["5b08dfbc87ad9c00b88e78816973ad2f9c10c70f2156908892cc7b7a2a1fd30","1151f407a77e2556073173d8f5c9ff561d8a23742121ca15f7d0ac391af50ea"],["309190eba106aa6ead54b5ca5817969aa68b4b4c627700799a49fc6bdd32ba1","505b6a2bc7b0d78ca6ce2abe7dfb7312369918a4599cccf8a615f6701cfd851"],["89cc205966af08acc8910d563af7443d5dfbb5d88dae79c013c678c65dcecc","1f8cf955694b246a423ac725791231257b88936e00347ecaa1e17045c0ab540"],["480086b61a80c36cf1e1a350baf554e58ee8d9333186b70c9c512fb9e9d5a84","511edfe58f8d36a6170df743731da1ff525cfd5108be20e30ac4183d1281570"],["3caf14fb1d2e90a13ad4eb091250fe37133aabf6029633e905e5a93ead41dbb","49122aff6059dfda19e4b973aba5ebe3804c91728936c6381c1ed1ea9380920"],["66d1b8fb2cabc46cd79741ce1cb7326077ad8ea3227a6427244bdd3806bdadd","4a52eb74f4d5371ba3265dffd61c844f9e68d4ff0b44dc4936182f9280bb66b"],["373330c5afd53c31257fcc9050fef873e15ea9f81d9810f30744309b04e02b3","5889806607b3dc97a9c5b0c8a2f16d1792099a22866b879ca480cb89a11ef5c"],["26840d0ec69a22c6818ff64b8b14633b531508c866e21d1dc9239778ae9e8c7","157971f9a6e3a24d3b307be0e7c8cd352e2eb5cad33cf276270c0f309ee63fc"],["ebb84848f1c38c19a754d1b5d9460e39624dadbb30800987c9419c0f933b9f","517b297cf32f4064e6d6c8e761ba8db89809604a701c7b3aa1a9c6beb370ea7"],["25780380bc0795ed0dca727c55240f1d63593e552d224adb40df2d3721c0f66","10215fb5a893e0275e9f1f66b217dde35addee91ed0e8f7d79531a2ff57b8c8"],["243e1581cd1abfbf18c31c19a4c3d1cedfe69a40bb57b607c9af2717eefc742","1296c27929f14535718c3a4ebe045f00afdc60afc74c7d398d8ce1b6609dc0f"],["48babb8649e054bc8e0b902c89e6940c265f48464520649502ef1064eb94562","3235be7852b0526d1a16f6969ec0e5b0e09cedaadc65863dea4e47f4f398264"],["592db7c27e63489ef4bcef2eafce89f40067cd9a1ba48bc3dc76b5fc62ad9ca","48b7711b570cd9ac65910e75e752f4b751fdbfb4091a28f59b8c046d3d9f8bc"],["31d133456222586ae42a9ec7ce8539ee04afbe0b2ed00a2564dab0798d9b55d","a77c52fa1fd718db5c83e7fda6d7d4d9aafef9ad95cad621470f2b753729e5"],["4651668379883521e7983aafcb93811b4a72ef2975b3277773746708ef3e3fc","512507f3f544d80ba5d47f73b571881e8d70d7b1d305b9704bdad036b7abc47"],["26069e359b2e847affaef604f772f36224608b7642245d0e643889ed231bddc","75ae1ec379f074ebc91270077c74b4d34347ce183b676b4dbe100bfff143b9e"],["3196d01d1fa11dc3803b4813c4bbc6326869f61410f2bd14bc0f570d875aebe","20313217cac79875bd2a503db1e86d1e5559911667a02524759344468d9561d"],["483256607f75f06fb126addc60cadddd602154cc4782bcc08351a48745d0b97","2950a7e500ebbe9775f08be37cc2e62ccf9030de18948d1bab07a4a9173f75d"],["65f07b6050a2fc6eebe2c29ffa62f764060f7f9d3c82d2cb5e4e368aaa442c9","562c9654b646cb84a213b41de203c871b3eae0a05c9c105a66a53c319c06373"],["284870f6181c43f3b01d94baa9c5b6ada0deb861145523ad9169580eb7bed35","5e03e6c40c1cfa3cafb01fd0622349871832a9d35499d06408a83edc1b76d02"],["32229810a52137f0e6c3d37595c46f6132822d4b05f42674b48d7a7ac3ad85","7babde959a0cf2c53ee59fc52c77c3adf899453f077f441965629f9aead30cd"],["1ea8b98a6b85e74e0a2fbc18b206e290f3ed94ce99ca665e8e2351dfade990a","478e93c4724115fb1648c8d5347422adbc1a0bbf962b2312e14aec80e1be742"],["270cbaa08c79140c85b864475a0bf569cc03ac785e57f543dc444f37ce746cf","3a9b8d894016680ae9d1bf3deb931d8987d4d8d8bfed45b81ccc595ec79046b"],["6943922708b8ae5b40dd7031ef2e487abc4ac39a3591368285e83d6c9c51f4d","5f157c37d09634e8cbfbef90ea50af59815d011e419a691c67ca3402b5efc33"],["48ac6a80979fab4912cf0cb557d917a0bd68825d8658ec100496eaae6ff62e1","2b6931350ab183402e39476340eb1177b7006f7a552915581e29a79bd7203a0"],["e3adf9517d92ef22d1e2a787740a292ba32d5ca69faa9e8675f63ed816dce5","36bccf69bb12dadd610145a3399213248d193660d8dc90a2e206f23bf2c7997"],["5e6c8ae5afb2fa470f767581f3d578cf6a49547e4b78665edfd45776948bef8","6cbfc11953dd7e195d2ce74e52a60df524767b44c4608bdd755be4bc85eb74c"],["15a576a1242d39300f0db3ad770983825988da0457718ecd596c63a0a0eb4a6","69a42e5f6f5a63349b57683a4609bba90f556a1680fa1ec3b02ee7d3211f903"],["274cd14e4fbf2ed07402e8ad8075b320c5f76b7ea45ea36af523e95ed63ab50","6ca640f9557c5f2d8b27f6ce95b108880ff4e4816b26b70b6506114389ce656"],["4d8284e132e2fe81c5f71be1e3c79ab51b229e2c56c323e207cda179999d123","116cfc00e9fbee1cf16af6282123cdf20eed13021c2037ef4c86f94eb6e6cba"],["4056194fb5643e97991942ef5b63cadd89080bf57a01489c4398aca03f0980a","2e2cddb434fa6f6da7859c3d518f0ced8795eea043a6c9613fb3e020103339f"],["5d119d5c5ce532afc0875e0ee9b026d878c8773d34237f90a0d0670da6f01b3","4a79fc025ce076b6a4742fbcc8cad313d0a8220c58024a41a5a674c0947e64b"],["11800ce4061d99b9d53fd4138802335258f7798c5a935c9979f5a949ce1d483","36745a4741a5c7290eaa8f2a3f9ec955ccb7ca323272e5d35d35c2a724ffac8"],["4302525bceb97fa642fd5560a4a39fba3d2c06f68e6aff3332ff1854439ebb3","e31edfd081ce82f8177b2d7d96e69851d09e908c2517114ffb37ee12c0ac64"],["2f5fcbb96f0a66fd3bdfbcc78bda361cb812570f50e7c476533d56eee01c0e3","527428a34855b5695c479d8fb7e831a299f7897f36682a74169cc60d160df2d"],["52167df045ad0dc999b98de3d035aced9da4434211149b8cf4bf20e774580cf","19051d2a1ad3fab190c5dfaf45188b49b4e90cca22aae54f0a785562d3d3f41"],["541b5332491dbdb2b6f6bccceb7634970c046963891fae936dd950f4432b961","78fa54da996a51e3a9c06091d58c2405a806649da2bb1f323807c4eec50eda2"],["5f11e973da659b7738f87ca5bd4f3bd02207dd3c8d978f0d3e83fe81030febd","137aba7027069f62d25caed416e13537687bb1428e71e5f0a0c52d52f2e65bc"],["15ec941ee6c2110b819b5541be52981c09d83484c9dc735c43f39f5778718b4","4561826142dc5b56acfcf605a78a4090472bb61235bcd605a765e05d0a7e549"],["68ba398736d659522f484406110b43c68158bf4992094acf797a38979c587a4","7c1d9e1702e28afddf22fed7a7a79df4315c174d0c6c4f4c75bc77d9b56777f"],["67889cea31c81a429fbae643a4fce0ecd690a5c32b99397e39ed6d7a08702df","7ea277c80b671146c9e455b98f42f45b941ac95ca2d15c8fa9ea82ee9b45e01"],["596f2c68390ac26505d3c2eca5c77d46f8f3acbed192a2649d8c525a58d2334","49f3bd8c62c610d5c19c52d970bde24b270c4ff7ae900453b909e72483974a0"],["567779fb8b0afe592cea284629e3621ccfae3c4d7d3dc559c9fed750591a395","6010bdc33f1cdb374facefff537e7910b72a1120502f312a7ce41df0d552ddd"],["cebed0233e810aa6a29a8b0829d28f1c92f303d14dd73d6b12da98117dfc7","4bdd51e1192a00df23aa8d0673e4915877ca41ddb8c9eaf21d39dd167fde7b7"],["4c7085f066adeb6781596771972b188177e63f2e2b3788d03e033cdd5af1f06","2929ee89f525862b0cedb3ab9b5166e1680cb77fb4668f10a6a3d76b5434566"],["760e341bd836899c226176f47685f69438270c150c6fe7744cd723cd1e72359","1bf09f2f1aac1a10ce8bdf20d5d178db747f01a4aa0aa8a5e4bfeef562cd94e"],["6016b94c00b54920027ef64902c61478244b1936337d2ad41d9a8d43dd6a4b2","3bf3dd9bce7f6d6f120de87fcbce6219340b59c2c1d75ee0d45105d33aab1cd"],["4929e44ff692eb944d1045bee96e750219cda3bda0500029f0df49a1db30b5b","2e138dcbd092242699004b4ce98764ffe4e892841f56830af298581cd1e523f"],["5972d0e526311bacb70a04e88969b6c63c7399b578f0dc28bbd00d65ef01da7","76b22bca9ac12d26530e7b0757e646beb3bbc5680d0f3f82fb8ee57ed4b5e39"],["2ca0a42a26e26934ca2d48db960b4719113d87c5e57fb437d557c5eb4e03ac7","62778c02561d4ec5d83a132afd7763a8349207c6b5d01fba70b56ba660cba2e"],["5137ee53f076e21a2c23da09f63c0d275408c31e4634a6b6373be5cf13e6c00","14fb446c077beb78e04de3282a63bfde12f9af85caaca4ddfab506cee31c0c1"],["7d944853d1627b63f560aeda33acf640d35a4ee4d23a744957a2dae9d5b7c6c","bcb411a210710acbcb9ea12680d89e3e4e652228b6786d3886e95f4d9e6970"],["37d412c2ffb173a728477446b60b2b702d07a5243cb5fc8963e623a5ee75843","672c79968908f92cd0cb0b4c65ba86e8f359b015623a89441e1bf859bba84cb"],["5b37f472aa80398bff12cc74c8ee784c4fc89757292580d3a498bff17e9f114","7d79da1aab9cfef58a5f3d1c9ec466956a45f8d2af0c1da6dd4c93f720fae6e"],["25c09b3f1188c562571536202eb0f5fc4b9a7590417b8ea58b4343685d88a63","3d5b817c73b37e9a1d24ca923351359b42ced2f3cafbcac8c2d6322dc767bb"],["32e60904e73f9756f71e0a918d302aeca17cad4acacc81bab15702ab5ff78f0","bcf4c0204f8275072f98a65b09ac58b87cdc9c70c4edfe99fe18870a3a5459"],["49c35575996c1517d2daed90d2fe4a58e674d6b4aaa7288d0642c8bf59e562f","57eeee00adea4ca80eeabab57852cbf03f1a57e21872cd44221e0550b9193b8"],["10e1776b4c2a867bf1b028c6edec224cc6616c747e272f49e69b67b02a893dd","8d45d62ec8e627b56950f2f7622a0438647f9e9f28e723e4a37cebc039a1b0"],["79a93a75ecbe943acc964fd39ecfc971dc6555b2bc335e7b53f52f4eb16cd36","146132a68ce2ca8b48363612226771ac547eb3cf52b6eb7981718faac08aa3c"],["6b22d32e0590e169504e7f19864fd646d0994e7ed3e578a5b88f6e095913439","68c3b22d859fb85e5c8fa0a8aea932285945b230957e603394333e9ad5acd82"],["71ce5ec8286eb8c93b8481c6d19cf0a288ef4da4397e9c80f65023e516bc097","54470babc742780cd8a05499026e738ccbf81d4170d1731734de68a8e5b402c"],["27beb13a43bc6a1f6ce046da438b0beac5899ff4d57962dcfb6476b563f74b","14074e9e93ee45394dfbe833998b9d1691961f8ba3166224b36404448c61bb3"],["6b1de6c8f161aa6509a1dcacf2c0aa1bcf6ee9d9b40e032a9d72f77a6fa298c","5e9312eb5b59d6cbadd7d3dcbc39f1b5bd9a8346fdcfdf1107bada6f9cc048"],["32670fc3fa43bf39974ba72ea51f0d045d92d084a81fe5282dfc8309aa900b9","518fee521bf1af62356aac3b7e53fdbf57121e030c6e9572b3de69912ca4eb4"],["4b9ca363eabed9c66091a347375f7065cd28f49f914447de7cc1461f1375f1e","3a1a3a2e5e7e72476befe2571ece708052d740d02cbe6fed58740968ae609c4"],["4cc6da42863a3deca62fa218b7a3b50e034eb4bafd393eccba3f4cbe192ef10","20bfa683c884f203713953b26d2821287ecd305fa2cb70570474533fc07f918"],["87705353c44a5ccec8de65cf5433be6b3d9bd21eea49b60e6c907cf1a67a6a","112804b13eee56e3b01aff75fa08fa8374c44fc461aed8a30ad54acd09c24eb"],["6cf6eeeb9d339c0a05f72fd5af73fc7588e6d957100ee8999109437bc126cae","54fa257cea22032eac272fcd034dadf2e00d602ef9e519cf7072023c130aad1"],["19b32925048c5519d929650c833661b452ef7be7963fab0b6b328ab7dd7a28a","1bd0c14a10bf9b88ea61011c0b2e64d07da151c6203800d5a5d12063838a510"],["12a5fc5559428bc3b4eff97b21b63668b866e0722807f1db1f19696bacd9b0d","4c2eb07f0c24047a3d73b560144f3fd32c99d6dbd9fc7cd2fd2a72a6e4b24c7"],["13662b7a7d390aa76eb86a7c3bff6d9913eb28db6bd1a7c42de5cdad2e35ce2","40626aded7f56f82cc431ae30527b096f57fbfbc04d3e12a5abae3edf301cf1"],["255825bd49b8a2cce114360bd9c8fe8c641af64c8e7710107213cfcb006f43d","3619cce4482335232f9e76a1460be9d296f2d468d26e4f95a78c71524fe59cc"],["7f83009eeed4f12f54d341bbf06066480cfcdf51dda103ac54d4bcecf6b3b31","4269519d28faafd7fd68bebfd8404d71ba05d62c4bb6d65d24aa6802fb84ab6"],["2f325650eb316646b4eec903fe44828fcb11054f1bd42ca3a77f7e734110b35","44f976082271016f9048e22c507d97d628722bb431f8d5cc1890524e6c386bf"],["750b166bb6edc0ee80fae39c7c106879036738df2d79fb2294e1c21e9a24d6b","54f8aa297a1afafe2a17a3254f45861167414327e918d17003c6aad01d0b24c"],["3aedb10db9cf3285cdeee375879396fac1fb50dd259e1716f8c01e66f67ca72","7feb9400f621f58c21601f23b7ec7c94a9b6b193c1cd74a8a60846aedadd359"],["4ab7151702de76faa493e7a0b1ac20ee4d10c33b83fec9477547cb1236973eb","63f1f122e3ef3acc46b0915ac69c3f5772879799cad889a817f55f5853d1235"],["1675ead0d20e5bc3a7a7331999a87ac4c916ae29669e54197bb02aa6364520f","4d1122da90d49e491922d9b533a6a668e2f65a2737ebb391ebb29fb7c1f8a9d"],["2f7148111ef53c613157aeec12e16a20f13481da4390b6ce18a85d1d8547087","2eeda779ab395597651d2a0b833ccf53b10280750139916ae2baf4ec57c633d"],["4439c7810e7b2ba772b701ec3acdca0b80c9df23047710b87f7dc3f13b337d3","5029cfe704c602a8a4662af0a5860ec03fb88f046d0e3400f2ce7638014c621"],["2248eec40b5732a6a488b681f093643af7937071bc73118acae295a32b51b05","1577e4aec30a97b648de4d0b19cf8891151b4eb11f8de9c6d7312f091552e19"],["4738424e558d4e0d87a3124ca02ea24f0adc6b7a9768b0d3945ed2a6104857c","33576f92aca3f0c8ae689c3c274c2de6b918940d86a6852e02fc99e35d1614"],["7829edd8b866ebf7baaf604ed13d19a9797578f44bbc51b1cd67ca53803e96b","5559040a6083f2af1f9133ccaf5bc2ce06e56ddfc7dd410e9635c0116b62722"],["7f927b881f2cdc05e1a69e40bb714af47b630d1425f08ab5d574ee698f33d51","26a465288e96572de303203bd38f4a03031e8158da0591cb037c0a5111d1056"],["36a65598552f8753580d1655417d645a140966e10a1e1663015f9fdfae44881","33d5bbfaebf59eae72b89b1aea12ab2ba3c9617f8c3baed1ec16bdf668381b5"],["403becfa545c826782026ff409cc16c9d4fe428f1b5b6e630c92439d2fa5fd","47bd6f2bf5d74f710ecb479c79b01fb774fbdad590e683a415cdedf33f71dc5"],["3a747826d241b877d3d56b16e0b810cf088eda4fd6048da174c9991a942a5eb","2c7ba19b0a3486a2cdb84d4a388d34beb077a0e467ba44590166f93f6a09d2e"],["3d60cd375842714b37bda89dd1f13a7e0f3ff133b522209617d031bce05a537","f77f216451ab01ad5226844d2162a7f32744688bcb4325445539e2ce5cec4"],["235bf66f67c9100e7f0e22bb299cdfaa603644b240e0770aec7e7fd163e2a65","37110b3fa83ece3990afca2bea8d5ebb3c7aace60a0147f8e6ab733e2f2b4d5"],["3b796d4eb69a55471fa86108f787b3604874e92b6887a7667a6c2bfbbd9a42b","4912d6dc0419732ef82cb3278415851d4e2d7ca89e0f4d7128cc9de51b810fe"],["48d53516dd51e49faa7ab46c8c10db1befd10f23c6a9d9bc3640a2f0da44518","73a2fb3d064adadf21aa1362c04affc660598f38a9e069b3afb74d0a99ae9ee"],["48c32cff161ed145da0d5b73084897647abb777adf65738559ceab6939cf3e0","3d99308978e828f857c382df32b472bda81e8ec8e30c8844077ba6d6d2ba903"],["2947ff091a8ec9684affbc9a62e09e598841c4a6dc638088492aa47dea57097","19a2cc97975e547f97a4d02e42f89e6ced6f5a953cfccdec347867d26926541"],["1960d85f30475615f82484eba0bdafb7ea7cac3809f0518a757d66f02b01676","36c8f77baabf0cc8805d993bbe62041fcf4e3239cf9d53278a4fbd91e75eeb7"],["2765f28074d21d5a055340b6d40092d2bbef807e02009fabfa08ec0b9bdf38b","7fb189e0553d5df52b6843661814824b3f3cbebbd54988f042fb256c6bf30b"],["348836cb2aaa00212f4b1a4e2d7fc5417f246bf2fe5c9a16ebabda449e2e08a","3f7276fd7d69e0d55ce5ee1d2d830534a27227fe0b6d8a36c93f9a78b872969"],["7afb9d34b6a42ea8c6d870e4b8191c274201dc1f93a1a2219a2392b7e345a31","42bbc20dc7115e0758b364a110227b16b64ec58fc535ce5ff1a9ad8b8a09fdd"],["2cae0c2afee1767fd4c66f52e1f176d217e92e89cc19eb36d5a6c1715f641a","5335efe2d9bc3667d25ea88bf76438a4d6ab9ba5c512f9da7d0529b79b62d83"],["1cc5fde334707723c3a06f00c106db88664284a2df47bb6b144d9f960aea3e2","dbbf610d100316938bcd8bcd078513512ecb50d4579690dbefaa419c05980d"],["54e90cb8f3a2998d2675c5780679e06c0556b1e618f8fdf07f9a4b2466fbf1e","16248676b6f06ec5e34994bc3115f85c8147b54f34d8500928f2fdc051e2089"],["525c70a2ba0dbdd68d75640f47f13d0d415ea595f7030f533f4625c2a46523b","58292c8675e5e1a438f49e0c05648d9a7aa997f2f1fd77d5de1944afe5d7eea"],["54726d78d099007393348787a03107ab492e59690a46c87fb02ec554f2353bd","53b54b77184ba75a3391e0ebfa6d6974db028f3f8e34bbd5460759a5848dd76"],["4ac81a66903537769d3aac6c483ccc08535cb767b6b5e1ec8017a7393ab70ae","2cb22b77a8a05d26f11a4dec80eff292633aa05553a889c5ab16b6ac6e2ab17"],["21d0175349e21114988a2930b9a607d43245783cb4a0c984ce27f4c4206708","59f1f49342cc5496213d3329bf4ca7fb0044337449c579bf53147a1dac9e67c"],["167f821b381f4c8adcc39789475fb55ba639e5124fe75f26dd61be396dd5e66","22002c87d4cafb47ac9d27286d5cf5ff7a6715d69814118269b0729be9e4b3a"],["31010666c6db83a9f9e4db4c48173afd405783ac53852a6e38a8ff925528843","1f466dc9b5d9094107c741dbf380f9fd98d8549cd50f67169901516f8cce74c"],["1ad3875769a5053388a86edc85dd80fdffbbda6a456aea497ff81a0f1f6707b","2de7cdec5e2bad56a71bd2f33a4ae4c874e1ad4210a6ac32b443cfa34e85b1b"],["c489650fb7f459ce09cd05a456fc5a46b849b38a671298ed645bcdaab168b0","45610d092b8af1c43ceed474cd17f7bbee65120aa6fa4d37f949e7e41f25327"],["394256a5ef4d7af5459587a0bd2edb8acaf5ecfef2563c9a04daf34a4abe4c6","1ebee390dae1403c0c53994e1d064fa64e20fcb45392e209b2b99486a559ffd"],["410a1511fead6151e9bedb089b9832d0fe01fab76d3f8459929f767525aeb27","361f0a5ffe09fcc3ad4eff3f5e89508ac247af80267100b69de3c59df561cfa"],["38cd437c9f659e110a869605c182ee9fdc26de36baf559d9229e258267bb734","624b1128ea7739bf1cbd0e423af92a4884323c868d2ba0ee9d362946edee2d1"],["78b126e50b7042d2a019f95cb87a3213c664ca1bafe345999b1e9e2dac1e608","19e398196b22f4488cbe854c614ad8c353839abc5ab3a4f3f5c03c16ba8a198"],["6d3a5ce91132f385a91823c5c8046c4b638f5fe63357424410d901457cdb867","7b80bae16d2d487e122495174f7a70992bc5dafbed72bf84127ead7c57302bb"],["32d053a904dc4d88fbe7d0b96e0cbeca22a00aa5c79c753d52b0b60abf31602","3af6a02e5cae6d6490354ae51185149e3fdb6d0d9caab90e95ff58aa0c40377"],["49b1fbff5bdb0aa6938b066dde0ed772c0d81f9eff52e7fe038b0ccbd78adb5","1c6e57834eb14d507eed8b36c81ddf92fa91c242467061927a742fafa82b43d"],["2f28b8994ca6f234d9293d26196b43b9d1d5306844348c4a638102c05de85f5","759cfb172eab065d477248b3569f4ff5791055f01e95fe71b94b8e615d73c96"],["3c2ee954ff534f856f59188fa0f29ed8a022aee0cac52d634f6dc58cd514d70","22bd162e74925f0a876bd8a206b8767dfdd7c898576a73a490f138d9a7f99c6"],["5763a7cab001e1aaeabf9ab5b9b2fffe6cc2b299ab04ec4933da74d960e1ab","715ee4f8ee93ab5a1dba00f0a6abc4eec47d49b61254cc27fc36a031e32f0f8"],["19976ad8d7b7f47c785408243a227401996b36e47c7a78a7bc7d4256233ba9a","896b713c5d7777b0703821a73c1d9a4c3755501042120534ff13990975e1f5"],["61674b992c29827186cab5ff454758dbbed8e89bc23d0bd33193afccc3a04bc","38e1020744c13903809ea30a0662fdb5226ae760cdcf10800faabec452e00f8"],["2ea2d48bcb83c0c9cda4efe11f07165cfcbc9ccd26526e5fb12556316d4b1df","1d2d68b74ad384c5c4a9c85453104216357bfcdf635680b40215f0f800974cb"],["7881212050264c40c336ed3a15dd2cd868ec9a558f5b728869eab66e8b8ed54","21aaefcc8ad8a161b8971d6880321781dbd939570c540da4c330922b8c81e9b"],["b6be88ce0461d20f59c5199573cda0170b61decf6e8e69a6d32f1695adc4ed","5536e4808370716f2bb3423a9a49a38ddbfe91faf3b7a35eb53d3519238b6cf"],["e5972af1655eb6dde2e8c77cc58044299922441b5ee41ceaf5cafedc765bcc","550282f37a4783dd60801c237045992d6fbe82a5902e7d837ea25f6f98c7b3a"],["7efc1aad1f580d8f50274f1c114c40056be19a8c96fa8c4cb5bf85e1e7f3e4","2689f1c3898b114d668be6413643ee9f879913d40c262541fd0316264c60a4f"],["7939db98037f59b0113e9d60051f75ac9c3cfd1a3eb535c73e2d945068c6c5c","410914ca8bbf3c65cdf3e9772ca790c19131c50068d34b7346c10260a578a8e"],["225b77ad00a2b83d26690190b74867326eca4f55bfbc3a13be036225ca3b1b5","411faafef89042ce6beb64309fdaff70fa53e9d32d79a21e7f82f80e79ff05e"],["1501e64c99c8b6658b0479f2c05c9142d246eaabfccf2fcec8dc4399539d8e1","3bab1e3339e42c9ee66c65b0b20236fdd9362d3ce786ad3a9779ab578af50a8"],["59b907b941f24fb8ea2458153e55f07534b388e835af7b69f3c9f54392a335","1d5438c4f2f68a417f3d56f916d899a6ffe910f5f2989ca31687f1b10f60db8"],["2887d08a26f484546f360e33abbf7a998b7170a5b30070938b84f072c676bf3","62a78e8d00e5d3a59e2fc424ffa08961567ba1ef24c8531cd7bceee6074a535"],["6e3cc8076b3d45377929033af35aab0c6d19ae4fd47c0daf844079ca04c46eb","7b90f338e4d848aa8f19d0b5c3bca916a2a9024acbf14bddb278bca2aa39e5f"],["34844dacdd3ec54a3af328bb9d67715ab33425e194ac9977ca02ef22e8f7a88","3c1affc6372f32a1634748124f9e1a03c4f0c993971da0dc28888b0801279d"],["436b192e03a49796cf9bc5e93c88268b71c9c24f9c3a85322bba634ebea309d","67a8091ef69d62abcb28ce5df4dc7d53f8dc2b9690344f75ecd03a6d9386044"],["592d25b68baff87a6d7fd41ff0dadbddc1bd1316683de3b2d677501c0eb14e4","27ad1e1099683f54589010faeefb19e38569ace43653be8787a42b0591e7bc5"],["89a5111ae911512ba62e87b97f643c0219702f235c70f62c6678a129302009","557fa3d98e9ce7b83b47545013a4498f3de43787fb66b1a54521222242f7c1b"],["1c9b5e53377e72da5066cb08566bbf9ec31ec1877f455d932cd9b1aa375d34e","72f79555a8bc207863f32d482fca54692825449fd8963fcea3de3a8183a739a"],["574a6e05eb14591729515be239ea8c1fa9e12d4049d42876f76c8ff37bca03","5f99b3af43ca68c1c73e8190d5f73c8de162ba643d7d5f0cd73cfa8135db6d3"],["513fc5c2e16505b2b25a2f284e167d5401194bcac0dc3ecf8b7c9acb560daa1","687ee7a1a8954d08d3856e1a16ded808e419e789736d3f55f79f7693bad69f5"],["53d48bd1205274b1c2b0a0ceb3d21c5fcd7c8892a784931603240b288a598b9","35387abd7ea59c9b956de44d36533cad1f6668c438d666651695ff3862159be"],["213eb1ea99e08825110dd61094eb6e8145119dc1c507636f068730b1e086d44","744f6853f4f02f4f042468d0739e0c9f64df720b87ed77d1979547084ef7a89"],["735ef017d091ca23264ad0aa7bb9b2be3309b4539605e79ed4a652ccb2fbe3c","7f0ccc7a5747c4e921fff97d431169f690763427e2cfd1ad74d7a0308d7faa9"],["3f36babc5a30070b610ed97db44997e6d9115c9c0579ad8f75d295a17130001","79047908a2474e32d5c712a07bf5c4ad522590bb5d6cefda410d30528e12ca8"],["51c04907ae88a5926b242fb2862cb1f2c651a94e6caad5bff8601c079fded74","10a585a269f460aed43f54c7de13cdf623fc8de5957526997278be939ef32ad"],["c1e1bd626a735aa2c065831317217ecce68e377eb1f67e54ce2e97bc2ef2dc","53c5af23a9b482f420be6dfd37b6886154cfd130794098e1f51c1885ac2556a"],["5aff3b30775ae4758e604a4a6262803a545f5ef4e7855fa245ac6a6431a9ece","39a4799e5519047f29333bee9c86c99bfa8056d4aa381c396c4a44331fe795f"],["3d753e9723701a8e9d99b91bb93dee2eda7ffa5072fb2cd5c5fd99aebcdb299","15798bf5c17d6d5880fed1553af32dd8d8baf2888c715a886575448a24c7975"],["6593e5078466b07a4222d2e544da826d2c583c9cc5f2eaea148b129b00d4aa0","11b352b08a0a61d3cd67d1dc08069dec3bde907b3da0f56de5011b956bf8744"],["7a6eb353c5be9ff03fe4a06c01fb71aad2b38144179a291ebcbb2c2417cca65","3de3ecb12f2fa699b46a9d399abf77ca17bebc3e491bfb2542dd0fba991e2bb"],["2c7ead583d6c32162091034a9eddfa775b4e84b8bdbea939edb2a80dcf64f6","461790ce40d9c276d962b2a1e9a74d66e9d7335962e234e8a2fc6963d31722d"],["34285af023d9b4c2c2b88e8704bf2c05a9b553b00b2e70ff05f8c2970cb134f","33fe678e7671760a83836107428dbade68c3593fbe568f3f8f1b2c568099c44"],["6222f720a24466263db6a11842f117fc4bb78da6705f140e48869db3e087441","6eff5b9bf3aeedc962bc5a24b66e7bdad2153450ed53a058bf2c8dbf2907693"],["17c6ec5ea206eb97cbf53851e37ce391080e0d2bf1e5395610f79ab0503f7ce","3adb71ca3523d88ceb1e365f12dfb24895453c14daf0046b2626cddadfdf5f7"],["70859f9771a713e54974ce11cdaf44b0dcc3e9befa0c0834908d877eeaafd27","d18f794bf0cc0623b711e7450030424e52326c45ba9b03341883ae4828a5f8"],["2a820cfd0fd4ab0871e7b303cd545a3086caf8fa818c087a4017197da74efbf","5f992683ff37f6c041b84bfc01503d333ac9763505cc8f69473da01812969d1"],["5b0526de2c07fe7cd73e3884f642d57a0ac5e13c68590ed03a14e530616e8c1","eec69d0cbd92c9fca31ec967dba848bec368e792d6678797946a5e34fe3487"],["6cf6b3efee707210cb3a72f1e885c3d0953aefb43e5e148c740aa1641725c61","911cb630b898e2c1a9115f9e45bafe3b819edfb1eab6e15612d14289939984"],["74e913de55f1e46143cb2ecfc580f8d3d3908f200281322b84e21c989cda293","761d2736c9ac7670ba905bc2629c6c0dbe988820a4454ff415ba68710f7df92"],["44084305e0c911a40b7cbefe5f13cffe9a99375d1a584c4a2200958050af7a9","249c83877371564708ea525b64b1e7e12785460d83364446531c9adcacba5f0"],["2bf71ad4d1bee1a67fb300477029f54bdb0e09f78bf2ac2e8afc7465a7adbcc","6244dd6cad282539049be57487bfd9900bb0d5da805d02b535096368fcb4cd5"],["3a62d8f763b62def36e4089458046a49c5ecb91b861549530773e0548ff2bb","6a10a03ba61e6ac657270465c09aa9526cf1ebe96bdecdf0e7000476a47b9eb"],["284eed3a17c51e0677d4fe897f056abe9def8af07a4630e6ca5723e2aa6677","516a06ac1d5626ed03d2eee9de6f60f0311eca703a99b0fb31b9c66b01c27c7"],["2a2c63b16cccd685f731d06fe93ce2cffb358d34d03dda9a7368185c1eb0c32","7180baca0ba81284809f92eca1654cd76b925a9242e5d5e0f18d0a55d13c6ec"],["5f9466017ec09769611389ea5370ad68dda936d3f5816c9e928ff9574abf9a7","6619b5b145bb5f4f29deb7a4cd68ef4da3995312fa6537f0d01684da4267ece"],["74f229babe01b4962b3307589c1a13019134b1db6822698388bebb55d21c30f","156ae857ab3279f754facba0db36398dffec8c31e5e160473198f2f891b7531"],["334b9fe3a5fd99bc966ddd1309698fd32afd1f235062f2c275b6616a185de45","221a60053583cc0607f6f2e6966b62fc9dac00538bb7eb1148e007a92116d2"],["7ad710ba002a67c731efbaba2149d16fec5d2f7aa3d126fd9886172e9f4ea30","3a10f8e902a7a13aec94d66415347e1314f9bac83a7db176096b809b25ffb86"],["4306dd0a184a3283c3097ff8f7434cec80912e9dc04b7df21ba73fda9f8e6d8","6d42bd3d1a8dbddafd09e872e2aa3891ae79ec939dc1b382196bc21c4ab749"],["1c3f2124e1135c32a426d1d14e471edd9e0f2c7bd703ee123cbbd608e8c4be7","3cc607a3c3f1ab68dd5fa56c65996002721b8ad8ad4b0dd9e5b1467d316583"],["294af33272ffcee0b56a436de1b73759cbddebef4c07888b42c2f92b0b68e1","d837164311d5dca8d37b99ef9eb22708643c83d1cbdfe852f63ea07b06fbad"],["753bdb5439a19bbffdfa02b1dc24e8368f22d0a8276b109c11e6feb26f56f39","6ed396231af93647633eab467f1a034f38e76823eb85baf97cae56e2dcd9f75"],["5674f0cb892b733fc0b50e121d8679afed0a925c32594cc65ffe83bebe7748e","7fbf0325dd38dd94905adab2c52758552292a6a103d9edfcb11938828e828c8"],["4a8f053573a0a74251059d0229d89b6660407ba0b491779fd10f87a5117c81f","21b70112485398bf67ec9d733df24a1df30dea718a93b786f41ed04e3ae3c5e"],["726c01ec4a08df8fc8de173311f50d4f3b97c5a9cf68c1536146f827db95ae8","15013cafadefa7f1c4e4dfdd70bd4d3979dd18bd7f0332572ce2a3fd8773d12"],["38ac0fbfa98937257460db7e6645d7e5112b6fce7234813fc8a704e8ade8da2","73c0109f86048aad08c443f781ae60ad13b99f7b9cfdf3128fe6d6eeb799a7b"],["6f6d3a38621582ace092eb50ecfe9eff265df141ebdcab8653299116fcea291","4a1bf3f39bc919c8f1b720a0b1ce952cad17f2ba98308ee6b76dd9b6f3d7b75"],["6a307fc28e1df8d9ad01766419e097797d65cb674436fa1c8f012d3de2c2a1f","26911a635ba824db004875d79dd84834a97ac12643e42829015bf88c1fd6f05"],["2a74860e3336d6db916555894cc8028f41508812925db1925457afe40257155","5f8da573f4c39816ce2dba8a20224223a7cfec53117ec78973930c0e9b60244"],["4d2b49e1ed0799f719b8269f092cb489a466a645bc0ccabafdc678864c176d7","5410083df7d256f18cbf5697ae5e52c31e075d8a3b27e21d6f5177ca882f6c1"],["110ecb9fbf6c333d168cee473cc5ad98809b6cb9eb5d1f6cd28ab5fab504fd3","7e3c54d7533d9f8c3310f219dab0cc3ea4d39b418a748eeffd6bae2b8637a43"],["5be4d711b80da70e6d3ac493250bbfd16f20b25f31919b3a91cf14ffbac1096","7f55a0919f082e8885f1515e83c5b39b6022404503507498e1b4422d79c43e2"],["2605125b95ca4ba93a21cbbba5762898a7cf9e988f07ab9e64cb3868e3b139d","62f0ccf55b9fc0eaf9736fc8ee484e2acdbe259813af9803cf815829a5e9d3b"],["1092bbbf206f2a3068167c3dd99a72de31e206f6c504c071c8214d105ff814d","309f489f68a62089f53b96df5d4fbc3ecc5a1a42eb7ece0e49bad17ad490ff4"],["2abdee9409d9c92559ca3f4e6bddd649c31aa09b90bfcb4a612af491241e18d","3ffa8eac180a29de3f8a69efca84bac046f921f5725e96a6ff0530be1436aaf"],["376313f27d00bb1aae7ec991745efe6ee28c6b50de0c6cd9845cc4bb4f83543","6a8e0a9389ba528b156fa94ac090a895d7b795818d4941c29415d9e2984c547"],["a80380c71bd466a696b3f0fbf02817c9459d9798f4f3899cf32edf647fe066","6a09805e814e7cdfc76eba4b79f1df5ae559e0f0aba9f728d3cba4ea5c57471"],["223694b921d247d989a79b9b2b2f07496036c40cb043eab074a9d6a2cd2ffed","c247217f1b1df35e30d9e15fdaadf42d6fb0edd3a5a7e265d4cdc426c120aa"],["102333620df278c6714bbc880fc087db58c1b9b4d77ed4d61b32a74bfc7c3e2","6a77d37727ccf71c2caeb151faf4404d4b94e9047f9f0a7c3966367f3b53c65"],["891626f466536929ee7eadcd18b41925706dedab7528ed5f0f7abf039eb9d2","5f73d11c141c933a35b2d0d06e5cbae614a20d17dc3b439f8bcdc3413c5ea37"],["215c23fd3f073f870e5e80303967391bf173f8adcdbeec72d131c557babc203","10634332e9d9439a321597dc5b0fac9ff478834c3d6e281735f21a4a5e13266"],["21ea0bdc1332bc36e6aeb43be9071651c27e4ea2eadec636c8d818d4af72a36","3a523d9643dccc6bb9c7c58413312caa3e60ba9c7c7f0177e0f3f469a3241e3"],["60deaed1bffb6190beed40caaf2bfab5e43d3707aff7ad3f278d571aa247eae","e41f71ff254c1418e6a66992af307789fe04d6606fb2670900bb1a089fd879"],["1e1fac4a1646253fb1332fadc21fbdd3e3a24a840d129400f520ae4116a4cf5","69c406f9f46576afad68808de0ab7e8922b6226af748e721d9097e21f1800f3"],["5db0ddcdf79ffe74d6454c12d2bc60b06776db03c75dc413f5be42ea9a91b5e","134c3d6c699841f17306835bb193785228ffe7ab212a01a861c56b086a18cec"],["626814e320fb5bea505b248fd1c1389ad586c1cfe04923fe2f83173e915f4f8","7ae407a926e887206a8b85cf485f1f327c9bb8ccbb6897024e2d122877d8ee0"],["23186237dc7d3b570cea645282ad4c359731bbfa54e7f036426bf6493812cd","7d1fbab7e61a22d3b00993290d9f4cd5d820061573e787f66c2cff9a18e1eaf"],["54302dcb0e6cc1c6e44cca8f61a63bb2ca65048d53fb325d36ff12c49a58202","1b77b3e37d13504b348046268d8ae25ce98ad783c25561a879dcc77e99c2426"],["13961b56b9fc0e412e468c385c22bd0680a25624ec211ffbb6bc877b2a6926c","62f7f7792c77cd981fad13cb6863fe099c4d971c1374109185eae99943f16e9"],["47abd7308c70659af3f00fafe6837298af3cb530b6c2ba710ffd07a6bc1ae98","75d0c8a7377aa9f0663d0c124a5659750847afabc29e39893fd27534a4a03cb"],["2c6276b764fb398fa555857dbe0ce0ec18fab7a233bf23851295739801f0585","5d8f4897ce44007ec5bfcb9aeb78b8f6e1d40a514f72d213c9300d2770d2b8c"]],Ev={};lt(Ev,{BlockStatus:()=>qu,BlockTag:()=>ad,EntryPointType:()=>ju,RPC:()=>hn,SIMULATION_FLAG:()=>Mu,Sequencer:()=>Iv,TransactionExecutionStatus:()=>Hu,TransactionFinalityStatus:()=>Fu,TransactionStatus:()=>$u,TransactionType:()=>zu,Uint:()=>nd,ValidateType:()=>Bu});var Mu=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_EXECUTE="SKIP_EXECUTE",e))(Mu||{}),Bu=(e=>(e.DEPLOY="DEPLOY",e.CALL="CALL",e.INVOKE="INVOKE",e))(Bu||{}),nd=(e=>(e.u8="core::integer::u8",e.u16="core::integer::u16",e.u32="core::integer::u32",e.u64="core::integer::u64",e.u128="core::integer::u128",e.u256="core::integer::u256",e))(nd||{}),ju=(e=>(e.EXTERNAL="EXTERNAL",e.L1_HANDLER="L1_HANDLER",e.CONSTRUCTOR="CONSTRUCTOR",e))(ju||{}),zu=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE_FUNCTION",e))(zu||{}),$u=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.REJECTED="REJECTED",e.REVERTED="REVERTED",e))($u||{}),Fu=(e=>(e.NOT_RECEIVED="NOT_RECEIVED",e.RECEIVED="RECEIVED",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(Fu||{}),Hu=(e=>(e.REJECTED="REJECTED",e.REVERTED="REVERTED",e.SUCCEEDED="SUCCEEDED",e))(Hu||{}),qu=(e=>(e.PENDING="PENDING",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.REJECTED="REJECTED",e))(qu||{}),ad=(e=>(e.pending="pending",e.latest="latest",e))(ad||{}),hn={};lt(hn,{SimulationFlag:()=>nc,TransactionExecutionStatus:()=>ic,TransactionFinalityStatus:()=>ac,TransactionType:()=>Sv});var Vu=(e=>(e.DECLARE="DECLARE",e.DEPLOY="DEPLOY",e.DEPLOY_ACCOUNT="DEPLOY_ACCOUNT",e.INVOKE="INVOKE",e.L1_HANDLER="L1_HANDLER",e))(Vu||{}),Ku=(e=>(e.ACCEPTED_ON_L2="ACCEPTED_ON_L2",e.ACCEPTED_ON_L1="ACCEPTED_ON_L1",e))(Ku||{}),Gu=(e=>(e.SUCCEEDED="SUCCEEDED",e.REVERTED="REVERTED",e))(Gu||{}),Wu=(e=>(e.SKIP_VALIDATE="SKIP_VALIDATE",e.SKIP_FEE_CHARGE="SKIP_FEE_CHARGE",e))(Wu||{}),Sv=Vu,nc=Wu,ac=Ku,ic=Gu,Iv={};function _t(e,t){if(!e)throw new Error(t||"Assertion failure")}var Ov={};lt(Ov,{assertInRange:()=>xv,bigNumberishArrayToDecimalStringArray:()=>Xu,bigNumberishArrayToHexadecimalStringArray:()=>Ju,cleanHex:()=>sc,getDecimalString:()=>Qu,getHexString:()=>sd,getHexStringArray:()=>eb,hexToBytes:()=>tb,hexToDecimalString:()=>Zu,isBigInt:()=>Us,isHex:()=>mr,isStringWholeNumber:()=>ha,toBigInt:()=>ne,toCairoBool:()=>oc,toHex:()=>ee,toHexString:()=>id,toStorageKey:()=>Yu});function mr(e){return/^0x[0-9a-f]*$/i.test(e)}function ne(e){return BigInt(e)}function Us(e){return typeof e=="bigint"}function ee(e){return Ut(ne(e).toString(16))}function Yu(e){return Ut(ne(e).toString(16).padStart(64,"0"))}function Zu(e){return BigInt(Ut(e)).toString(10)}var sc=e=>e.toLowerCase().replace(/^(0x)0+/,"$1");function xv(e,t,r,n=""){const a=n===""?"invalid length":`invalid ${n} length`,i=BigInt(e),s=BigInt(t),o=BigInt(r);_t(i>=s&&i<=o,`Message not signable, ${a}.`)}function Xu(e){return e.map(t=>ne(t).toString(10))}function Ju(e){return e.map(t=>ee(t))}var ha=e=>/^\d+$/.test(e),id=e=>ee(e);function Qu(e){if(mr(e))return Zu(e);if(ha(e))return e;throw new Error(`${e} need to be hex-string or whole-number-string`)}function sd(e){if(mr(e))return e;if(ha(e))return id(e);throw new Error(`${e} need to be hex-string or whole-number-string`)}function eb(e){return e.map(t=>sd(t))}var oc=e=>(+e).toString();function tb(e){if(!mr(e))throw new Error(`${e} need to be a hex-string`);let t=fa(e);return t.length%2!==0&&(t=`0${t}`),Wr(t)}var Av={};lt(Av,{getSelector:()=>cd,getSelectorFromName:()=>rr,keccakBn:()=>rb,starknetKeccak:()=>od});function rb(e){const t=fa(ee(BigInt(e))),r=t.length%2===0?t:`0${t}`;return Ut(oi(tb(Ut(r))).toString(16))}function Tv(e){return Ut(oi(Ls(e)).toString(16))}function od(e){return BigInt(Tv(e))&Cu}function rr(e){return ee(od(e))}function cd(e){return mr(e)?e:ha(e)?id(e):rr(e)}var Nv={};lt(Nv,{decodeShortString:()=>ld,encodeShortString:()=>en,isASCII:()=>dd,isDecimalString:()=>ab,isLongText:()=>fd,isShortString:()=>pi,isShortText:()=>kv,isText:()=>gi,splitLongString:()=>hd});var nb=31;function dd(e){return/^[\x00-\x7F]*$/.test(e)}function pi(e){return e.length<=nb}function ab(e){return/^[0-9]*$/i.test(e)}function gi(e){return typeof e=="string"&&!mr(e)&&!ha(e)}var kv=e=>gi(e)&&pi(e),fd=e=>gi(e)&&!pi(e);function hd(e){const t=RegExp(`[^]{1,${nb}}`,"g");return e.match(t)||[]}function en(e){if(!dd(e))throw new Error(`${e} is not an ASCII string`);if(!pi(e))throw new Error(`${e} is too long`);return Ut(e.replace(/./g,t=>t.charCodeAt(0).toString(16)))}function ld(e){if(!dd(e))throw new Error(`${e} is not an ASCII string`);if(mr(e))return fa(e).replace(/.{2}/g,t=>String.fromCharCode(parseInt(t,16)));if(ab(e))return ld("0X".concat(BigInt(e).toString(16)));throw new Error(`${e} is not Hex or decimal`)}var Cv={};lt(Cv,{felt:()=>Yt,getArrayType:()=>yi,isCairo1Abi:()=>cb,isCairo1Type:()=>Zr,isLen:()=>Sn,isTypeArray:()=>Nr,isTypeBool:()=>Ms,isTypeContractAddress:()=>ob,isTypeFelt:()=>ns,isTypeNamedTuple:()=>sb,isTypeStruct:()=>Qn,isTypeTuple:()=>pr,isTypeUint:()=>pd,isTypeUint256:()=>kr,tuple:()=>Lv,uint256:()=>gd});var Rv={};lt(Rv,{UINT_128_MAX:()=>ud,UINT_256_MAX:()=>ib,bnToUint256:()=>Pv,isUint256:()=>bd,uint256ToBN:()=>Ds});function Ds(e){return(ne(e.high)<<128n)+ne(e.low)}var ud=(1n<<128n)-1n,ib=(1n<<256n)-1n;function bd(e){return ne(e)<=ib}function Pv(e){const t=ne(e);if(!bd(t))throw new Error("Number is too large");return{low:Ut((t&ud).toString(16)),high:Ut((t>>128n).toString(16))}}var Sn=e=>/_len$/.test(e),ns=e=>e==="felt"||e==="core::felt252",Nr=e=>/\*/.test(e)||e.startsWith("core::array::Array::"),pr=e=>/^\(.*\)$/i.test(e),sb=e=>/\(.*\)/i.test(e)&&e.includes(":"),Qn=(e,t)=>e in t,pd=e=>Object.values(nd).includes(e),kr=e=>e==="core::integer::u256",Ms=e=>e==="core::bool",ob=e=>e==="core::starknet::contract_address::ContractAddress",Zr=e=>e.includes("core::"),yi=e=>Zr(e)?e.substring(e.indexOf("<")+1,e.lastIndexOf(">")):e.replace("*","");function cb(e){const t=e.find(r=>r.type==="function");if(!t){if(e.find(r=>r.type==="interface"))return!0;throw new Error("Error in ABI. No function in ABI.")}if(t.inputs.length)return Zr(t.inputs[0].type);if(t.outputs.length)return Zr(t.outputs[0].type);throw new Error(`Error in ABI. No input/output in function ${t.name}`)}var gd=e=>{const t=BigInt(e);if(!bd(t))throw new Error("Number is too large");return{low:(t&ud).toString(10),high:(t>>128n).toString(10)}},Lv=(...e)=>({...e});function Yt(e){if(Us(e)||typeof e=="number"&&Number.isInteger(e))return e.toString();if(gi(e)){if(!pi(e))throw new Error(`${e} is a long string > 31 chars, felt can store short strings, split it to array of short strings`);const t=en(e);return BigInt(t).toString()}if(typeof e=="string"&&mr(e))return BigInt(e).toString();if(typeof e=="string"&&ha(e))return e;if(typeof e=="boolean")return`${+e}`;throw new Error(`${e} can't be computed by felt()`)}var yo={isBN:(e,t,r)=>{if(!Us(e[r]))throw new Error(`Data and formatter mismatch on ${r}:${t[r]}, expected response data ${r}:${e[r]} to be BN instead it is ${typeof e[r]}`)},unknown:(e,t,r)=>{throw new Error(`Unhandled formatter type on ${r}:${t[r]} for data ${r}:${e[r]}`)}};function Hi(e,t,r){return Object.entries(e).reduce((n,[a,i])=>{const s=r??t[a];if(!(a in t)&&!r)return n[a]=i,n;if(s==="string"){if(Array.isArray(e[a])){const o=Hi(e[a],e[a].map(d=>s));return n[a]=Object.values(o).join(""),n}return yo.isBN(e,t,a),n[a]=ld(i),n}if(s==="number")return yo.isBN(e,t,a),n[a]=Number(i),n;if(typeof s=="function")return n[a]=s(i),n;if(Array.isArray(s)){const o=Hi(e[a],s,s[0]);return n[a]=Object.values(o),n}return typeof s=="object"?(n[a]=Hi(e[a],s),n):(yo.unknown(e,t,a),n)},{})}var Uv=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.reduce((t,r)=>Sn(r.name)?t:t+1,0)}getMethod(e){return this.abi.find(t=>t.name===e)}getLegacyFormat(){return this.abi}},Dv=class{constructor(e){this.abi=e}methodInputsLength(e){return e.inputs.length}getMethod(e){return this.abi.find(t=>t.type==="interface").items.find(t=>t.name===e)}getLegacyFormat(){return this.abi.flatMap(e=>e.type==="interface"?e.items:e)}};function Mv(e){const t=Bv(e);if(t===0||t===1)return new Uv(e);if(t===2)return new Dv(e);throw Error(`Unsupported ABI version ${t}`)}function Bv(e){return e.find(t=>t.type==="interface")?2:cb(e)?1:0}function g0(e,t,r){return e==="constructor"&&!r&&!t.length}function jv(e){const t=e.substring(0,e.indexOf(":")),r=e.substring(t.length+1);return{name:t,type:r}}function db(e){if(!e.includes("("))return{subTuple:[],result:e};const t=[];let r="",n=0;for(;n<e.length;){if(e[n]==="("){let a=1;const i=n;for(n++;a;)e[n]===")"&&a--,e[n]==="("&&a++,n++;t.push(e.substring(i,n)),r+=" ",n--}else r+=e[n];n++}return{subTuple:t,result:r}}function zv(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=db(t);let a=n.split(",").map(i=>r.length?i.replace(" ",r.shift()):i);return sb(e)&&(a=a.reduce((i,s)=>i.concat(jv(s)),[])),a}function $v(e){const t=e.replace(/\s/g,"").slice(1,-1),{subTuple:r,result:n}=db(t);return n.split(",").map(a=>r.length?a.replace(" ",r.shift()):a)}function yd(e){return Zr(e)?$v(e):zv(e)}function mo(e){return Error(`Your object includes the property : ${e}, containing an Uint256 object without the 'low' and 'high' keys.`)}function Fv(e,t,r){const n=(s,o)=>o.reduce((d,f)=>{const h=p=>Object.defineProperty(d,f.name,{enumerable:!0,value:p??s[f.name]});if(s[f.name]==="undefined"&&(Zr(f.type)||!Sn(f.name)))throw Error(`Your object needs a property with key : ${f.name} .`);switch(!0){case Qn(f.type,r):h(n(s[f.name],r[f.type].members));break;case kr(f.type):{const p=s[f.name];if(typeof p!="object"){h();break}if(!("low"in p&&"high"in p))throw mo(f.name);h({low:p.low,high:p.high});break}case pr(f.type):h(i(s[f.name],f));break;case Nr(f.type):h(a(s[f.name],f));break;case(!Zr(f.type)&&Sn(f.name)):break;default:h()}return d},{});function a(s,o){const d=yi(o.type);if(typeof s=="string")return s;switch(!0){case d in r:return s.map(f=>n(f,r[d].members));case d==="core::integer::u256":return s.map(f=>{if(typeof f!="object")return f;if(!("low"in f&&"high"in f))throw mo(o.name);return{low:f.low,high:f.high}});case pr(d):return s.map(f=>i(f,{name:"0",type:d}));case Nr(d):return s.map(f=>a(f,{name:"0",type:d}));default:return s}}function i(s,o){return yd(o.type).reduce((d,f,h)=>{const p=Object.keys(s),y=I=>Object.defineProperty(d,h.toString(),{enumerable:!0,value:I??s[p[h]]}),g=f!=null&&f.type?f.type:f;switch(!0){case Qn(g,r):y(n(s[p[h]],r[g].members));break;case kr(g):{const I=s[p[h]];if(typeof I!="object"){y();break}if(!("low"in I&&"high"in I))throw mo(o.name);y({low:I.low,high:I.high});break}case pr(g):y(i(s[p[h]],{name:"0",type:g}));break;case Nr(g):y(a(s[p[h]],{name:"0",type:g}));break;default:y()}return d},{})}return n(e,t)}function fb(e,t){switch(!0){case kr(e):const r=gd(t);return[Yt(r.low),Yt(r.high)];default:return Yt(t)}}function Hv(e,t){const r=yd(t),n=Object.values(e);if(n.length!==r.length)throw Error(`ParseTuple: provided and expected abi tuple size do not match.
      provided: ${n} 
      expected: ${r}`);return r.map((a,i)=>({element:n[i],type:a.type??a}))}function y0(e){if(typeof e=="object"){const{low:r,high:n}=e;return[Yt(r),Yt(n)]}const t=gd(e);return[Yt(t.low),Yt(t.high)]}function Ma(e,t,r){if(e===void 0)throw Error(`Missing parameter for type ${t}`);if(Array.isArray(e)){const n=[];n.push(Yt(e.length));const a=yi(t);return e.reduce((i,s)=>i.concat(Ma(s,a,r)),n)}if(r[t]&&r[t].members.length){if(kr(t))return y0(e);const{members:n}=r[t],a=e;return n.reduce((i,s)=>i.concat(Ma(a[s.name],s.type,r)),[])}if(pr(t))return Hv(e,t).reduce((n,a)=>{const i=Ma(a.element,a.type,r);return n.concat(i)},[]);if(kr(t))return y0(e);if(typeof e=="object")throw Error(`Parameter ${e} do not align with abi parameter ${t}`);return fb(t,e)}function qv(e,t,r){const{name:n,type:a}=t;let{value:i}=e.next();switch(!0){case Nr(a):if(!Array.isArray(i)&&!gi(i))throw Error(`ABI expected parameter ${n} to be array or long string, got ${i}`);return typeof i=="string"&&(i=hd(i)),Ma(i,t.type,r);case(Qn(a,r)||pr(a)||kr(a)):return Ma(i,a,r);default:return fb(a,i)}}function hb(e,t){let r;switch(!0){case Ms(e):return r=t.next().value,!!BigInt(r);case kr(e):const n=t.next().value,a=t.next().value;return Ds({low:n,high:a});default:return r=t.next().value,BigInt(r)}}function Gn(e,t,r){if(kr(t.type)){const n=e.next().value,a=e.next().value;return Ds({low:n,high:a})}if(t.type in r&&r[t.type])return r[t.type].members.reduce((n,a)=>(n[a.name]=Gn(e,a,r),n),{});if(pr(t.type))return yd(t.type).reduce((n,a,i)=>{const s=a!=null&&a.name?a.name:i,o=a!=null&&a.type?a.type:a,d={name:s,type:o};return n[s]=Gn(e,d,r),n},{});if(Nr(t.type)){const n=[],a={name:"",type:yi(t.type)},i=BigInt(e.next().value);for(;n.length<i;)n.push(Gn(e,a,r));return n}return hb(t.type,e)}function Vv(e,t,r,n){const{name:a,type:i}=t;let s;switch(!0){case Sn(a):return s=e.next().value,BigInt(s);case(i in r||pr(i)):return Gn(e,t,r);case Nr(i):if(Zr(i))return Gn(e,t,r);const o=[];if(n&&n[`${a}_len`]){const d=n[`${a}_len`];for(;o.length<d;)o.push(Gn(e,{name:a,type:t.type.replace("*","")},r))}return o;default:return hb(i,e)}}var lb=(e,t)=>{_t(typeof e=="string"||typeof e=="number"||typeof e=="bigint",`Validate: arg ${t.name} should be a felt typed as (String, Number or BigInt)`)},md=(e,t)=>{typeof e=="number"&&_t(e<=Number.MAX_SAFE_INTEGER,"Validation: Parameter is to large to be typed as Number use (BigInt or String)"),_t(typeof e=="string"||typeof e=="number"||typeof e=="bigint"||typeof e=="object"&&"low"in e&&"high"in e,`Validate: arg ${t.name} of cairo ZORG type ${t.type} should be type (String, Number or BigInt)`);const r=typeof e=="object"?Ds(e):ne(e);switch(t.type){case"core::integer::u8":_t(r>=0n&&r<=255n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0 - 255]`);break;case"core::integer::u16":_t(r>=0n&&r<=65535n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 65535]`);break;case"core::integer::u32":_t(r>=0n&&r<=4294967295n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 4294967295]`);break;case"core::integer::u64":_t(r>=0n&&r<=2n**64n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^64-1]`);break;case"core::integer::u128":_t(r>=0n&&r<=2n**128n-1n,`Validate: arg ${t.name} cairo typed ${t.type} should be in range [0, 2^128-1]`);break;case"core::integer::u256":_t(r>=0n&&r<=2n**256n-1n,`Validate: arg ${t.name} is ${t.type} 0 - 2^256-1`);break}},ub=(e,t)=>{_t(typeof e=="boolean",`Validate: arg ${t.name} of cairo type ${t.type} should be type (Boolean)`)},bb=(e,t,r)=>{if(t.type==="core::integer::u256"){md(e,t);return}_t(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} is cairo type struct (${t.type}), and should be defined as js object (not array)`),r[t.type].members.forEach(({name:n})=>{_t(Object.keys(e).includes(n),`Validate: arg ${t.name} should have a property ${n}`)})},pb=(e,t)=>{_t(typeof e=="object"&&!Array.isArray(e),`Validate: arg ${t.name} should be a tuple (defined as object)`)},gb=(e,t,r)=>{const n=yi(t.type);if(!(ns(n)&&fd(e)))switch(_t(Array.isArray(e),`Validate: arg ${t.name} should be an Array`),!0){case ns(n):e.forEach(a=>lb(a,t));break;case pr(n):e.forEach(a=>pb(a,{name:t.name,type:n}));break;case Qn(n,r):e.forEach(a=>bb(a,{name:t.name,type:n},r));break;case pd(n):e.forEach(a=>md(a,t));break;case Ms(n):e.forEach(a=>ub(a,t));break;case Nr(n):e.forEach(a=>gb(a,{name:"",type:n},r));break;default:throw new Error(`Validate Unhandled: argument ${t.name}, type ${t.type}, value ${e}`)}};function m0(e,t,r){e.inputs.reduce((n,a)=>{const i=t[n];switch(!0){case Sn(a.name):return n;case ns(a.type):lb(i,a);break;case pd(a.type):md(i,a);break;case Ms(a.type):ub(i,a);break;case ob(a.type):break;case Qn(a.type,r):bb(i,a,r);break;case pr(a.type):pb(i,a);break;case Nr(a.type):gb(i,a,r);break;default:throw new Error(`Validate Unhandled: argument ${a.name}, type ${a.type}, value ${i}`)}return n+1},0)}var Ce=class{constructor(e){this.structs=Ce.getAbiStruct(e),this.parser=Mv(e),this.abi=this.parser.getLegacyFormat()}validate(e,t,r=[]){if(e!=="DEPLOY"){const i=this.abi.filter(s=>{if(s.type!=="function")return!1;const o=s.stateMutability==="view"||s.state_mutability==="view";return e==="INVOKE"?!o:o}).map(s=>s.name);_t(i.includes(t),`${e==="INVOKE"?"invocable":"viewable"} method not found in abi`)}const n=this.abi.find(i=>e==="DEPLOY"?i.name===t&&i.type==="constructor":i.name===t&&i.type==="function");if(g0(t,r,n))return;const a=this.parser.methodInputsLength(n);if(r.length!==a)throw Error(`Invalid number of arguments, expected ${a} arguments, but got ${r.length}`);m0(n,r,this.structs)}compile(e,t){const r=this.abi.find(s=>s.name===e);if(g0(e,t,r))return[];let n;if(Array.isArray(t))n=t;else{const s=Fv(t,r.inputs,this.structs);n=Object.values(s),m0(r,n,this.structs)}const a=n[Symbol.iterator](),i=r.inputs.reduce((s,o)=>Sn(o.name)?s:s.concat(qv(a,o,this.structs)),[]);return Object.defineProperty(i,"__compiled__",{enumerable:!1,writable:!1,value:!0}),i}static compile(e){const t=n=>{const a=(i,s="")=>{const o=Array.isArray(i)?[i.length.toString(),...i]:i;return Object.entries(o).flatMap(([d,f])=>{let h=f;fd(h)&&(h=hd(h)),d==="entrypoint"&&(h=rr(h));const p=Array.isArray(o)&&d==="0"?"$$len":d;return Us(h)?[[`${s}${p}`,Yt(h)]]:Object(h)===h?a(h,`${s}${p}.`):[[`${s}${p}`,Yt(h)]]})};return Object.fromEntries(a(n))};let r;if(Array.isArray(e)){const n={...e},a=t(n);r=Object.values(a)}else{const n=t(e);r=Object.values(n)}return Object.defineProperty(r,"__compiled__",{enumerable:!1,writable:!1,value:!0}),r}parse(e,t){const{outputs:r}=this.abi.find(i=>i.name===e),n=t.flat()[Symbol.iterator](),a=r.flat().reduce((i,s,o)=>{const d=s.name??o;return i[d]=Vv(n,s,this.structs,i),i[d]&&i[`${d}_len`]&&delete i[`${d}_len`],i},{});return Object.keys(a).length===1&&0 in a?a[0]:a}format(e,t,r){const n=this.parse(e,t);return Hi(n,r)}static getAbiStruct(e){return e.filter(t=>t.type==="struct").reduce((t,r)=>({...t,[r.name]:r}),{})}static toCalldata(e=[]){return Ce.compile(e)}static toHex(e=[]){return Ce.compile(e).map(t=>ee(t))}},Kv={};lt(Kv,{calculateContractAddressFromHash:()=>qi,calculateDeclareTransactionHash:()=>mb,calculateDeployAccountTransactionHash:()=>wb,calculateDeployTransactionHash:()=>Xv,calculateTransactionHash:()=>_b,calculateTransactionHashCommon:()=>mi,computeCompiledClassHash:()=>Sb,computeContractClassHash:()=>Ob,computeHashOnElements:()=>Ot,computeLegacyContractClassHash:()=>Eb,computeSierraContractClassHash:()=>Ib,default:()=>vb,feeTransactionVersion:()=>$n,feeTransactionVersion_2:()=>as,formatSpaces:()=>Za,getSelector:()=>cd,getSelectorFromName:()=>rr,getVersionsByType:()=>wd,keccakBn:()=>rb,poseidon:()=>Lg,starknetKeccak:()=>od,transactionVersion:()=>Fr,transactionVersion_2:()=>ea});var Gv={};lt(Gv,{starkCurve:()=>my,weierstrass:()=>Fg});var Wv={};lt(Wv,{parse:()=>Xr,parseAlwaysAsBig:()=>yb,stringify:()=>Cr,stringifyAlwaysAsBig:()=>Zv});var Yv=e=>{if(!di(e))return parseFloat(e);const t=parseInt(e,10);return Number.isSafeInteger(t)?t:BigInt(e)},Xr=e=>P1(String(e),void 0,Yv),yb=e=>P1(String(e),void 0,Ly),Cr=(e,t,r,n)=>L1(e,t,r,n),Zv=Cr,Fr=1n,ea=2n,$n=2n**128n+Fr,as=2n**128n+ea;function wd(e){return e==="fee"?{v1:$n,v2:as}:{v1:Fr,v2:ea}}function Ot(e){return[...e,e.length].reduce((t,r)=>ia(ne(t),ne(r)),0).toString()}function mi(e,t,r,n,a,i,s,o=[]){const d=Ot(a),f=[e,t,r,n,d,i,s,...o];return Ot(f)}function Xv(e,t,r,n,a="constructor"){return mi("0x6465706c6f79",r,e,rr(a),t,0,n)}function mb(e,t,r,n,a,i,s){return mi("0x6465636c617265",r,t,0,[e],n,a,[i,...s?[s]:[]])}function wb(e,t,r,n,a,i,s,o){const d=[t,n,...r];return mi("0x6465706c6f795f6163636f756e74",a,e,0,d,i,s,[o])}function _b(e,t,r,n,a,i){return mi("0x696e766f6b65",t,e,0,r,n,a,[i])}function qi(e,t,r,n){const a=Ce.compile(r),i=Ot(a),s=Yt("0x535441524b4e45545f434f4e54524143545f41444452455353");return Ot([s,n,e,t,i])}function Jv(e,t){return e==="attributes"||e==="accessible_scopes"?Array.isArray(t)&&t.length===0?void 0:t:e==="debug_info"?null:t===null?void 0:t}function Za(e){let t=!1;const r=[];for(const n of e)n==='"'&&!(r.length>0&&r.slice(-1)[0]==="\\")&&(t=!t),t?r.push(n):r.push(n===":"?": ":n===","?", ":n);return r.join("")}function vb(e){const{abi:t,program:r}=e,n=Za(Cr({abi:t,program:r},Jv));return Ut(oi(Ls(n)).toString(16))}function Eb(e){const t=typeof e=="string"?Xr(e):e,r=ee(Ru),n=Ot(t.entry_points_by_type.EXTERNAL.flatMap(f=>[f.selector,f.offset])),a=Ot(t.entry_points_by_type.L1_HANDLER.flatMap(f=>[f.selector,f.offset])),i=Ot(t.entry_points_by_type.CONSTRUCTOR.flatMap(f=>[f.selector,f.offset])),s=Ot(t.program.builtins.map(f=>en(f))),o=vb(t),d=Ot(t.program.data);return Ot([r,n,a,i,s,o,d])}function Qv(e){return Yr(e.flatMap(t=>BigInt(en(t))))}function wo(e){const t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.offset),Qv(r.builtins)]);return Yr(t)}function Sb(e){const t=BigInt(en("COMPILED_CLASS_V1")),r=wo(e.entry_points_by_type.EXTERNAL),n=wo(e.entry_points_by_type.L1_HANDLER),a=wo(e.entry_points_by_type.CONSTRUCTOR),i=Yr(e.bytecode.map(s=>BigInt(s)));return ee(Yr([t,r,n,a,i]))}function _o(e){const t=e.flatMap(r=>[BigInt(r.selector),BigInt(r.function_idx)]);return Yr(t)}function eE(e){const t=Za(Cr(e.abi,null));return BigInt(Ut(oi(Ls(t)).toString(16)))}function Ib(e){const t=BigInt(en("CONTRACT_CLASS_V0.1.0")),r=_o(e.entry_points_by_type.EXTERNAL),n=_o(e.entry_points_by_type.L1_HANDLER),a=_o(e.entry_points_by_type.CONSTRUCTOR),i=eE(e),s=Yr(e.sierra_program.map(o=>BigInt(o)));return ee(Yr([t,r,n,a,i,s]))}function Ob(e){const t=typeof e=="string"?Xr(e):e;return"sierra_program"in t?Ib(t):Eb(t)}var tE={};lt(tE,{compressProgram:()=>_d,decompressProgram:()=>cc,estimatedFeeToMaxFee:()=>yn,formatSignature:()=>Bs,makeAddress:()=>rE,randomAddress:()=>vd,signatureToDecimalArray:()=>jn,signatureToHexArray:()=>zn});function _d(e){const t=typeof e=="string"?e:Cr(e),r=G_(t);return Iu(r)}function cc(e){if(Array.isArray(e))return e;const t=rd(W_(Su(e)));return Xr(t)}function vd(){const e=jc.randomPrivateKey();return $c(e)}function rE(e){return Ut(e).toLowerCase()}function Bs(e){if(!e)throw Error("formatSignature: provided signature is undefined");if(Array.isArray(e))return e.map(t=>ee(t));try{const{r:t,s:r}=e;return[ee(t),ee(r)]}catch{throw new Error("Signature need to be weierstrass.SignatureType or an array for custom")}}function jn(e){return Xu(Bs(e))}function zn(e){return Ju(Bs(e))}function yn(e,t=.5){const r=Math.round((1+t)*100);return ne(e)*ne(r)/100n}function gr(e){return"sierra_program"in(typeof e=="string"?Xr(e):e)}function vo(e){const t={...e};if(gr(e.contract)&&(!e.compiledClassHash&&e.casm&&(t.compiledClassHash=Sb(e.casm)),!t.compiledClassHash))throw new Error("Extract compiledClassHash failed, provide (CairoAssembly).casm file or compiledClassHash");if(t.classHash=e.classHash??Ob(e.contract),!t.classHash)throw new Error("Extract classHash failed, provide (CompiledContract).json file or classHash");return t}var xb=typeof window<"u"&&window.fetch||typeof global<"u"&&global.fetch||ov,nE={};lt(nE,{createSierraContractClass:()=>Ab,parseContract:()=>Ed,wait:()=>is});function is(e){return new Promise(t=>{setTimeout(t,e)})}function Ab(e){const t={...e};return delete t.sierra_program_debug_info,t.abi=Za(Cr(e.abi)),t.sierra_program=Za(Cr(e.sierra_program)),t.sierra_program=_d(t.sierra_program),t}function Ed(e){const t=typeof e=="string"?Xr(e):e;return gr(e)?Ab(t):{...t,..."program"in t&&{program:_d(t.program)}}}var aE=class{parseGetBlockResponse(e){return{timestamp:e.timestamp,block_hash:e.block_hash,block_number:e.block_number,new_root:e.new_root,parent_hash:e.parent_hash,status:e.status,transactions:e.transactions}}parseGetTransactionResponse(e){return{calldata:e.calldata||[],contract_address:e.contract_address,sender_address:e.contract_address,max_fee:e.max_fee,nonce:e.nonce,signature:e.signature||[],transaction_hash:e.transaction_hash,version:e.version}}parseFeeEstimateResponse(e){return{overall_fee:ne(e[0].overall_fee),gas_consumed:ne(e[0].gas_consumed),gas_price:ne(e[0].gas_price)}}parseFeeEstimateBulkResponse(e){return e.map(t=>({overall_fee:ne(t.overall_fee),gas_consumed:ne(t.gas_consumed),gas_price:ne(t.gas_price)}))}parseCallContractResponse(e){return{result:e}}parseSimulateTransactionResponse(e){return e.map(t=>({...t,suggestedMaxFee:yn(BigInt(t.fee_estimation.overall_fee))}))}parseContractClassResponse(e){return{...e,abi:typeof e.abi=="string"?JSON.parse(e.abi):e.abi}}};function iE(e,t=e.constructor){const{captureStackTrace:r}=Error;r&&r(e,t)}function sE(e,t){const{setPrototypeOf:r}=Object;r?r(e,t):e.__proto__=t}var oE=class extends Error{constructor(e){super(e),Object.defineProperty(this,"name",{value:new.target.name,enumerable:!1,configurable:!0}),sE(this,new.target.prototype),iE(this)}},ta=class extends oE{},cE=class extends ta{constructor(e,t){super(e),this.errorCode=t}},dE=class extends ta{constructor(e,t){super(e),this.errorCode=t}},fE={};lt(fE,{StarknetIdContract:()=>kb,getStarknetIdContract:()=>Sd,useDecoded:()=>Tb,useEncoded:()=>Nb});var lr="abcdefghijklmnopqrstuvwxyz0123456789-",Fn=BigInt(lr.length+1),ft="",w0=BigInt(lr.length),dc=BigInt(ft.length),_0=BigInt(ft.length+1);function fc(e){let t=0;for(;e.endsWith(ft[ft.length-1]);)e=e.substring(0,e.length-1),t+=1;return[e,t]}function Tb(e){let t="";return e.forEach(r=>{for(;r!==zt;){const i=r%Fn;if(r/=Fn,i===BigInt(lr.length)){const s=r/_0;if(s===zt){const o=r%_0;r=s,o===zt?t+=lr[0]:t+=ft[Number(o)-1]}else{const o=r%dc;t+=ft[Number(o)],r/=dc}}else t+=lr[Number(i)]}const[n,a]=fc(t);a&&(t=n+(a%2===0?ft[ft.length-1].repeat(a/2-1)+ft[0]+lr[1]:ft[ft.length-1].repeat((a-1)/2+1))),t+="."}),t&&t.concat("stark")}function Nb(e){let t=BigInt(0),r=BigInt(1);if(e.endsWith(ft[0]+lr[1])){const[n,a]=fc(e.substring(0,e.length-2));e=n+ft[ft.length-1].repeat(2*(a+1))}else{const[n,a]=fc(e);a&&(e=n+ft[ft.length-1].repeat(1+2*(a-1)))}for(let n=0;n<e.length;n+=1){const a=e[n],i=lr.indexOf(a),s=BigInt(lr.indexOf(a));if(i!==-1)n===e.length-1&&e[n]===lr[0]?(t+=r*w0,r*=Fn,r*=Fn):(t+=r*s,r*=Fn);else if(ft.indexOf(a)!==-1){t+=r*w0,r*=Fn;const o=(n===e.length-1?1:0)+ft.indexOf(a);t+=r*BigInt(o),r*=dc}}return t}var kb=(e=>(e.MAINNET="0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678",e.TESTNET="0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce",e))(kb||{});function Sd(e){switch(e){case"0x534e5f4d41494e":return"0x6ac597f8116f886fa1c97a23fa4e08299975ecaf6b598873ca6792b9bbfb678";case"0x534e5f474f45524c49":return"0x3bab268e932d2cecd1946f100ae67ce3dff9fd234119ea2f6da57d16d29fce";default:throw new Error("Starknet.id is not yet deployed on this network")}}async function Id(e,t,r){const n=await e.getChainId(),a=r??Sd(n);try{const i=(await e.callContract({contractAddress:a,entrypoint:"address_to_domain",calldata:Ce.compile({address:t})})).result.map(o=>BigInt(o)).slice(1),s=Tb(i);if(!s)throw Error("Starkname not found");return s}catch(i){throw i instanceof Error&&i.message==="Starkname not found"?i:Error("Could not get stark name")}}async function Od(e,t,r){const n=await e.getChainId(),a=r??Sd(n);try{return(await e.callContract({contractAddress:a,entrypoint:"domain_to_address",calldata:Ce.compile({domain:[Nb(t.replace(".stark","")).toString(10)]})})).result[0]}catch{throw Error("Could not get address from stark name")}}var hE=Object.values(ad),Je=class{constructor(e){this.hash=null,this.number=null,this.tag=null,this.valueOf=()=>this.number,this.toString=()=>this.hash,this.setIdentifier(e)}setIdentifier(e){typeof e=="string"&&mr(e)?this.hash=e:typeof e=="bigint"?this.hash=ee(e):typeof e=="number"?this.number=e:typeof e=="string"&&hE.includes(e)?this.tag=e:this.tag="pending"}get queryIdentifier(){return this.number!==null?`blockNumber=${this.number}`:this.hash!==null?`blockHash=${this.hash}`:`blockNumber=${this.tag}`}get identifier(){return this.number!==null?{block_number:this.number}:this.hash!==null?{block_hash:this.hash}:this.tag}set identifier(e){this.setIdentifier(e)}get sequencerIdentifier(){return this.hash!==null?{blockHash:this.hash}:{blockNumber:this.number??this.tag}}},Eo={headers:{"Content-Type":"application/json"},blockIdentifier:"pending",retries:200},v0=class{constructor(e){this.responseParser=new aE;const{nodeUrl:t,retries:r,headers:n,blockIdentifier:a,chainId:i}=e;this.nodeUrl=t,this.retries=r||Eo.retries,this.headers={...Eo.headers,...n},this.blockIdentifier=a||Eo.blockIdentifier,this.chainId=i,this.getChainId()}fetch(e,t){const r=Cr({method:e,jsonrpc:"2.0",params:t,id:0});return xb(this.nodeUrl,{method:"POST",body:r,headers:this.headers})}errorHandler(e){if(e){const{code:t,message:r}=e;throw new ta(`${t}: ${r}`)}}async fetchEndpoint(e,t){var r;try{const n=await this.fetch(e,t),{error:a,result:i}=await n.json();return this.errorHandler(a),i}catch(n){throw this.errorHandler((r=n==null?void 0:n.response)==null?void 0:r.data),n}}async getChainId(){return this.chainId??(this.chainId=await this.fetchEndpoint("starknet_chainId")),this.chainId}async getBlock(e=this.blockIdentifier){return this.getBlockWithTxHashes(e).then(this.responseParser.parseGetBlockResponse)}async getBlockHashAndNumber(){return this.fetchEndpoint("starknet_blockHashAndNumber")}async getBlockWithTxHashes(e=this.blockIdentifier){const t=new Je(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxHashes",{block_id:t})}async getBlockWithTxs(e=this.blockIdentifier){const t=new Je(e).identifier;return this.fetchEndpoint("starknet_getBlockWithTxs",{block_id:t})}async getClassHashAt(e,t=this.blockIdentifier){const r=new Je(t).identifier;return this.fetchEndpoint("starknet_getClassHashAt",{block_id:r,contract_address:e})}async getNonceForAddress(e,t=this.blockIdentifier){const r=new Je(t).identifier;return this.fetchEndpoint("starknet_getNonce",{contract_address:e,block_id:r})}async getPendingTransactions(){return this.fetchEndpoint("starknet_pendingTransactions")}async getProtocolVersion(){throw new Error("Pathfinder does not implement this rpc 0.1.0 method")}async getStateUpdate(e=this.blockIdentifier){const t=new Je(e).identifier;return this.fetchEndpoint("starknet_getStateUpdate",{block_id:t})}async getStorageAt(e,t,r=this.blockIdentifier){const n=Yu(t),a=new Je(r).identifier;return this.fetchEndpoint("starknet_getStorageAt",{contract_address:e,key:n,block_id:a})}async getTransaction(e){return this.getTransactionByHash(e).then(this.responseParser.parseGetTransactionResponse)}async getTransactionByHash(e){return this.fetchEndpoint("starknet_getTransactionByHash",{transaction_hash:e})}async getTransactionByBlockIdAndIndex(e,t){const r=new Je(e).identifier;return this.fetchEndpoint("starknet_getTransactionByBlockIdAndIndex",{block_id:r,index:t})}async getTransactionReceipt(e){return this.fetchEndpoint("starknet_getTransactionReceipt",{transaction_hash:e})}async getClassByHash(e){return this.getClass(e)}async getClass(e,t=this.blockIdentifier){const r=new Je(t).identifier;return this.fetchEndpoint("starknet_getClass",{class_hash:e,block_id:r}).then(this.responseParser.parseContractClassResponse)}async getClassAt(e,t=this.blockIdentifier){const r=new Je(t).identifier;return this.fetchEndpoint("starknet_getClassAt",{block_id:r,contract_address:e}).then(this.responseParser.parseContractClassResponse)}async getCode(e,t){throw new Error("RPC does not implement getCode function")}async getEstimateFee(e,t,r=this.blockIdentifier){return this.getInvokeEstimateFee(e,t,r)}async getInvokeEstimateFee(e,t,r=this.blockIdentifier){const n=new Je(r).identifier,a=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[a],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,t,r=this.blockIdentifier){const n=new Je(r).identifier,a=this.buildTransaction({type:"DECLARE",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[a],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,t,r=this.blockIdentifier){const n=new Je(r).identifier,a=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...t},"fee");return this.fetchEndpoint("starknet_estimateFee",{request:[a],block_id:n}).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1}){r&&console.warn("getEstimateFeeBulk RPC does not support skipValidate");const n=new Je(t).identifier;return this.fetchEndpoint("starknet_estimateFee",{request:e.map(a=>this.buildTransaction(a,"fee")),block_id:n}).then(this.responseParser.parseFeeEstimateBulkResponse)}async declareContract({contract:e,signature:t,senderAddress:r,compiledClassHash:n},a){return gr(e)?this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:hn.TransactionType.DECLARE,contract_class:{sierra_program:cc(e.sierra_program),contract_class_version:e.contract_class_version,entry_points_by_type:e.entry_points_by_type,abi:e.abi},compiled_class_hash:n||"",version:ku,max_fee:ee(a.maxFee||0),signature:zn(t),sender_address:r,nonce:ee(a.nonce)}}):this.fetchEndpoint("starknet_addDeclareTransaction",{declare_transaction:{type:hn.TransactionType.DECLARE,contract_class:{program:e.program,entry_points_by_type:e.entry_points_by_type,abi:e.abi},version:Nu,max_fee:ee(a.maxFee||0),signature:zn(t),sender_address:r,nonce:ee(a.nonce)}})}async deployAccountContract({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},a){return this.fetchEndpoint("starknet_addDeployAccountTransaction",{deploy_account_transaction:{constructor_calldata:Ce.toHex(t||[]),class_hash:ee(e),contract_address_salt:ee(r||0),type:hn.TransactionType.DEPLOY_ACCOUNT,max_fee:ee(a.maxFee||0),version:ee(a.version||0),signature:zn(n),nonce:ee(a.nonce)}})}async invokeFunction(e,t){return this.fetchEndpoint("starknet_addInvokeTransaction",{invoke_transaction:{sender_address:e.contractAddress,calldata:Ce.toHex(e.calldata),type:hn.TransactionType.INVOKE,max_fee:ee(t.maxFee||0),version:"0x1",signature:zn(e.signature),nonce:ee(t.nonce)}})}async callContract(e,t=this.blockIdentifier){const r=new Je(t).identifier,n=await this.fetchEndpoint("starknet_call",{request:{contract_address:e.contractAddress,entry_point_selector:rr(e.entrypoint),calldata:Ce.toHex(e.calldata)},block_id:r});return this.responseParser.parseCallContractResponse(n)}async traceTransaction(e){return this.fetchEndpoint("starknet_traceTransaction",{transaction_hash:e})}async traceBlockTransactions(e){return this.fetchEndpoint("starknet_traceBlockTransactions",{block_hash:e})}async waitForTransaction(e,t){let{retries:r}=this,n=!1,a=!1,i={};const s=(t==null?void 0:t.retryInterval)??5e3,o=(t==null?void 0:t.errorStates)??[ic.REVERTED],d=(t==null?void 0:t.successStates)??[ic.SUCCEEDED,ac.ACCEPTED_ON_L1,ac.ACCEPTED_ON_L2];for(;!n;){await is(s);try{i=await this.getTransactionReceipt(e);const f=rc(i.execution_status),h=rc(i.finality_status);if(!f||!h)throw new Error("waiting for transaction status");if(d.includes(f)||d.includes(h))n=!0;else if(o.includes(f)||o.includes(h)){const p=`${f}: ${h}: ${i.revert_reason}`,y=new Error(p);throw y.response=i,a=!0,y}}catch(f){if(f instanceof Error&&a)throw f;if(r===0)throw new Error(`waitForTransaction timed-out with retries ${this.retries}`)}r-=1}return await is(s),i}async getTransactionCount(e=this.blockIdentifier){const t=new Je(e).identifier;return this.fetchEndpoint("starknet_getBlockTransactionCount",{block_id:t})}async getBlockNumber(){return this.fetchEndpoint("starknet_blockNumber")}async getSyncingStats(){return this.fetchEndpoint("starknet_syncing")}async getEvents(e){return this.fetchEndpoint("starknet_getEvents",{filter:e})}async getSimulateTransaction(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1,skipExecute:n=!1,skipFeeCharge:a=!0}){const i=new Je(t).identifier,s=[];return r&&s.push(nc.SKIP_VALIDATE),(n||a)&&s.push(nc.SKIP_FEE_CHARGE),this.fetchEndpoint("starknet_simulateTransactions",{block_id:i,transactions:e.map(o=>this.buildTransaction(o)),simulation_flags:s}).then(this.responseParser.parseSimulateTransactionResponse)}async getStarkName(e,t){return Id(this,e,t)}async getAddressFromStarkName(e,t){return Od(this,e,t)}buildTransaction(e,t){const r=wd(t),n={signature:zn(e.signature),nonce:ee(e.nonce),max_fee:ee(e.maxFee||0)};if(e.type==="INVOKE_FUNCTION")return{type:hn.TransactionType.INVOKE,sender_address:e.contractAddress,calldata:Ce.toHex(e.calldata),version:ee(e.version||r.v1),...n};if(e.type==="DECLARE")return gr(e.contract)?{type:e.type,contract_class:{...e.contract,sierra_program:cc(e.contract.sierra_program)},compiled_class_hash:e.compiledClassHash||"",sender_address:e.senderAddress,version:ee(e.version||r.v2),...n}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:ee(e.version||r.v1),...n};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:Ce.toHex(e.constructorCalldata||[]),class_hash:ee(e.classHash),contract_address_salt:ee(e.addressSalt||0),version:ee(e.version||r.v1),...n};throw Error("RPC buildTransaction received unknown TransactionType")}},lE=class{},uE=class extends lE{parseGetBlockResponse(e){return{...e,new_root:e.state_root,parent_hash:e.parent_block_hash,transactions:Object.values(e.transactions).map(t=>"transaction_hash"in t&&t.transaction_hash).filter(Boolean)}}parseGetTransactionResponse(e){if(e.status==="NOT_RECEIVED"&&e.finality_status==="NOT_RECEIVED")throw new ta;return{...e,calldata:"calldata"in e.transaction?e.transaction.calldata:[],contract_class:"contract_class"in e.transaction?e.transaction.contract_class:void 0,entry_point_selector:"entry_point_selector"in e.transaction?e.transaction.entry_point_selector:void 0,max_fee:"max_fee"in e.transaction?e.transaction.max_fee:void 0,nonce:e.transaction.nonce,sender_address:"sender_address"in e.transaction?e.transaction.sender_address:void 0,signature:"signature"in e.transaction?e.transaction.signature:void 0,transaction_hash:"transaction_hash"in e.transaction?e.transaction.transaction_hash:void 0,version:"version"in e.transaction?e.transaction.version:void 0}}parseGetTransactionReceiptResponse(e){return{...e,messages_sent:e.l2_to_l1_messages,..."revert_error"in e&&{revert_reason:e.revert_error}}}parseFeeEstimateResponse(e){if("overall_fee"in e){let t={};try{t={gas_consumed:ne(e.gas_usage),gas_price:ne(e.gas_price)}}catch{}return{overall_fee:ne(e.overall_fee),...t}}return{overall_fee:ne(e.amount)}}parseFeeEstimateBulkResponse(e){return[].concat(e).map(t=>{if("overall_fee"in t){let r={};try{r={gas_consumed:ne(t.gas_usage),gas_price:ne(t.gas_price)}}catch{}return{overall_fee:ne(t.overall_fee),...r}}return{overall_fee:ne(t.amount)}})}parseSimulateTransactionResponse(e){const t="overall_fee"in e.fee_estimation?e.fee_estimation.overall_fee:e.fee_estimation.amount;return[{transaction_trace:e.trace,fee_estimation:e.fee_estimation,suggestedMaxFee:yn(BigInt(t))}]}parseCallContractResponse(e){return{result:e.result}}parseInvokeFunctionResponse(e){return{transaction_hash:e.transaction_hash}}parseDeployContractResponse(e){return{transaction_hash:e.transaction_hash,contract_address:e.address}}parseDeclareContractResponse(e){return{transaction_hash:e.transaction_hash,class_hash:e.class_hash}}parseGetStateUpdateResponse(e){const t=Object.entries(e.state_diff.nonces).map(([n,a])=>({contract_address:n,nonce:a})),r=Object.entries(e.state_diff.storage_diffs).map(([n,a])=>({address:n,storage_entries:a}));return{...e,state_diff:{...e.state_diff,storage_diffs:r,nonces:t}}}parseContractClassResponse(e){const t=gr(e)?e:Ed(e);return{...t,abi:typeof t.abi=="string"?JSON.parse(t.abi):t.abi}}},bE=/^(?:\w+:)?\/\/(\S+)$/,pE=/^localhost[:?\d]*(?:[^:?\d]\S*)?$/,gE=/^[^\s.]+\.\S{2,}$/;function yE(e){if(!e||typeof e!="string")return!1;const t=e.match(bE);if(!t)return!1;const r=t[1];return r?!!(pE.test(r)||gE.test(r)):!1}function Aa(e,t,r){return yE(r)?r:_u(e,r??t)}function mE(e){return e===void 0||Object.keys(e).length===0||Object.keys(e).length===1&&Object.entries(e).every(([t,r])=>t==="blockIdentifier"&&r===null)}var E0={network:"SN_GOERLI2",blockIdentifier:"pending"},Ba=class{constructor(e=E0){this.responseParser=new uE,"network"in e?(this.baseUrl=Ba.getNetworkFromName(e.network),this.feederGatewayUrl=Aa(this.baseUrl,"feeder_gateway"),this.gatewayUrl=Aa(this.baseUrl,"gateway")):(this.baseUrl=e.baseUrl,this.feederGatewayUrl=Aa(this.baseUrl,"feeder_gateway",e.feederGatewayUrl),this.gatewayUrl=Aa(this.baseUrl,"gateway",e.gatewayUrl)),this.chainId=(e==null?void 0:e.chainId)??Ba.getChainIdFromBaseUrl(this.baseUrl),this.headers=e.headers,this.blockIdentifier=(e==null?void 0:e.blockIdentifier)||E0.blockIdentifier}static getNetworkFromName(e){switch(e){case"SN_MAIN":return"https://alpha-mainnet.starknet.io";case"SN_GOERLI":return"https://alpha4.starknet.io";case"SN_GOERLI2":return"https://alpha4-2.starknet.io";default:throw new Error("Could not detect base url from NetworkName")}}static getChainIdFromBaseUrl(e){try{const t=new URL(e);return t.host.includes("mainnet.starknet.io")?"0x534e5f4d41494e":t.host.includes("alpha4-2.starknet.io")?"0x534e5f474f45524c4932":"0x534e5f474f45524c49"}catch{return console.error(`Could not parse baseUrl: ${e}`),"0x534e5f474f45524c49"}}getFetchUrl(e){return["add_transaction"].includes(e)?this.gatewayUrl:this.feederGatewayUrl}getFetchMethod(e){return["add_transaction","call_contract","estimate_fee","estimate_message_fee","estimate_fee_bulk","simulate_transaction"].includes(e)?"POST":"GET"}getQueryString(e){return mE(e)?"":`?${Object.entries(e).map(([t,r])=>t==="blockIdentifier"?`${new Je(r).queryIdentifier}`:`${t}=${r}`).join("&")}`}getHeaders(e){return e==="POST"?{"Content-Type":"application/json",...this.headers}:this.headers}async fetchEndpoint(e,...[t,r]){const n=this.getFetchUrl(e),a=this.getFetchMethod(e),i=this.getQueryString(t),s=_u(n,e,i);return this.fetch(s,{method:a,body:r})}async fetch(e,t){const r=Aa(this.baseUrl,"",e),n=(t==null?void 0:t.method)??"GET",a=this.getHeaders(n),i=Cr(t==null?void 0:t.body);try{const s=await xb(r,{method:n,body:i,headers:a}),o=await s.text();if(!s.ok){let d;try{d=Xr(o)}catch{throw new dE(s.statusText,s.status)}throw new cE(d.message,d.code)}return(t!=null&&t.parseAlwaysAsBigInt?yb:Xr)(o)}catch(s){throw s instanceof Error&&!(s instanceof ta)?Error(`Could not ${n} from endpoint \`${r}\`: ${s.message}`):s}}async getChainId(){return Promise.resolve(this.chainId)}async callContract({contractAddress:e,entrypoint:t,calldata:r=[]},n=this.blockIdentifier){return this.fetchEndpoint("call_contract",{blockIdentifier:n},{contract_address:e,entry_point_selector:rr(t),calldata:Ce.compile(r)}).then(this.responseParser.parseCallContractResponse)}async getBlock(e=this.blockIdentifier){return this.fetchEndpoint("get_block",{blockIdentifier:e}).then(this.responseParser.parseGetBlockResponse)}async getNonceForAddress(e,t=this.blockIdentifier){return this.fetchEndpoint("get_nonce",{contractAddress:e,blockIdentifier:t})}async getStorageAt(e,t,r=this.blockIdentifier){const n=ne(t).toString(10);return this.fetchEndpoint("get_storage_at",{blockIdentifier:r,contractAddress:e,key:n})}async getTransaction(e){const t=ee(e);return this.fetchEndpoint("get_transaction",{transactionHash:t}).then(r=>{if(Object.values(r).length===1)throw new ta(r.status);return this.responseParser.parseGetTransactionResponse(r)})}async getTransactionReceipt(e){const t=ee(e);return this.fetchEndpoint("get_transaction_receipt",{transactionHash:t}).then(this.responseParser.parseGetTransactionReceiptResponse)}async getClassAt(e,t=this.blockIdentifier){return this.fetchEndpoint("get_full_contract",{blockIdentifier:t,contractAddress:e}).then(this.responseParser.parseContractClassResponse)}async getClassHashAt(e,t=this.blockIdentifier){return this.fetchEndpoint("get_class_hash_at",{blockIdentifier:t,contractAddress:e})}async getClassByHash(e,t=this.blockIdentifier){return this.fetchEndpoint("get_class_by_hash",{classHash:e,blockIdentifier:t}).then(this.responseParser.parseContractClassResponse)}async getCompiledClassByClassHash(e,t=this.blockIdentifier){return this.fetchEndpoint("get_compiled_class_by_class_hash",{classHash:e,blockIdentifier:t})}async invokeFunction(e,t){return this.fetchEndpoint("add_transaction",void 0,{type:"INVOKE_FUNCTION",sender_address:e.contractAddress,calldata:Ce.compile(e.calldata??[]),signature:jn(e.signature),nonce:ee(t.nonce),max_fee:ee(t.maxFee||0),version:"0x1"}).then(this.responseParser.parseInvokeFunctionResponse)}async deployAccountContract({classHash:e,constructorCalldata:t,addressSalt:r,signature:n},a){return this.fetchEndpoint("add_transaction",void 0,{type:"DEPLOY_ACCOUNT",contract_address_salt:r??vd(),constructor_calldata:Ce.compile(t??[]),class_hash:ee(e),max_fee:ee(a.maxFee||0),version:ee(a.version||0),nonce:ee(a.nonce),signature:jn(n)}).then(this.responseParser.parseDeployContractResponse)}async declareContract({senderAddress:e,contract:t,signature:r,compiledClassHash:n},a){return gr(t)?this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",sender_address:e,compiled_class_hash:n,contract_class:t,nonce:ee(a.nonce),signature:jn(r),max_fee:ee(a.maxFee||0),version:ee(ea)}).then(this.responseParser.parseDeclareContractResponse):this.fetchEndpoint("add_transaction",void 0,{type:"DECLARE",contract_class:t,nonce:ee(a.nonce),signature:jn(r),sender_address:e,max_fee:ee(a.maxFee||0),version:ee(Fr)}).then(this.responseParser.parseDeclareContractResponse)}async getEstimateFee(e,t,r=this.blockIdentifier,n=!1){return this.getInvokeEstimateFee(e,t,r,n)}async getInvokeEstimateFee(e,t,r=this.blockIdentifier,n=!1){const a=this.buildTransaction({type:"INVOKE_FUNCTION",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},a).then(this.responseParser.parseFeeEstimateResponse)}async getDeclareEstimateFee(e,t,r=this.blockIdentifier,n=!1){const a=this.buildTransaction({type:"DECLARE",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},a).then(this.responseParser.parseFeeEstimateResponse)}async getDeployAccountEstimateFee(e,t,r=this.blockIdentifier,n=!1){const a=this.buildTransaction({type:"DEPLOY_ACCOUNT",...e,...t},"fee");return this.fetchEndpoint("estimate_fee",{blockIdentifier:r,skipValidate:n},a).then(this.responseParser.parseFeeEstimateResponse)}async getEstimateFeeBulk(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1}){const n=e.map(a=>this.buildTransaction(a,"fee"));return this.fetchEndpoint("estimate_fee_bulk",{blockIdentifier:t,skipValidate:r},n).then(this.responseParser.parseFeeEstimateBulkResponse)}async getCode(e,t=this.blockIdentifier){return this.fetchEndpoint("get_code",{contractAddress:e,blockIdentifier:t})}async waitForTransaction(e,t){let r,n=!1,a=0;const i=(t==null?void 0:t.retryInterval)??5e3,s=(t==null?void 0:t.errorStates)??["REJECTED","NOT_RECEIVED","REVERTED"],o=(t==null?void 0:t.successStates)??["SUCCEEDED","ACCEPTED_ON_L1","ACCEPTED_ON_L2"];for(;!n;)if(await is(i),r=await this.getTransactionStatus(e),r.finality_status==="NOT_RECEIVED"&&a<3)a+=1;else if(o.includes(r.finality_status)||o.includes(r.execution_status))n=!0;else if(s.includes(r.finality_status)||s.includes(r.execution_status)){let d;r.tx_failure_reason?d=`${r.tx_status}: ${r.tx_failure_reason.code}
${r.tx_failure_reason.error_message}`:r.tx_revert_reason?d=`${r.tx_status}: ${r.tx_revert_reason}`:d=r.tx_status;const f=new Error(d);throw f.response=r,f}return await this.getTransactionReceipt(e)}async getTransactionStatus(e){const t=ee(e);return this.fetchEndpoint("get_transaction_status",{transactionHash:t})}async getContractAddresses(){return this.fetchEndpoint("get_contract_addresses")}async getTransactionTrace(e){const t=ee(e);return this.fetchEndpoint("get_transaction_trace",{transactionHash:t})}async estimateMessageFee({from_address:e,to_address:t,entry_point_selector:r,payload:n},a=this.blockIdentifier){const i={from_address:Qu(e),to_address:sd(t),entry_point_selector:cd(r),payload:eb(n)};return this.fetchEndpoint("estimate_message_fee",{blockIdentifier:a},i)}async getSimulateTransaction(e,{blockIdentifier:t=this.blockIdentifier,skipValidate:r=!1,skipExecute:n=!1}){e.length>1&&console.warn("Sequencer simulate process only first element from invocations list"),n&&console.warn("Sequencer can't skip account __execute__");const a=this.buildTransaction(e[0]);return this.fetchEndpoint("simulate_transaction",{blockIdentifier:t,skipValidate:r??!1},a).then(this.responseParser.parseSimulateTransactionResponse)}async getStateUpdate(e=this.blockIdentifier){const t=new Je(e).sequencerIdentifier;return this.fetchEndpoint("get_state_update",{...t}).then(this.responseParser.parseGetStateUpdateResponse)}async getBlockTraces(e=this.blockIdentifier){const t=new Je(e).sequencerIdentifier;return this.fetchEndpoint("get_block_traces",{...t})}async getStarkName(e,t){return Id(this,e,t)}async getAddressFromStarkName(e,t){return Od(this,e,t)}buildTransaction(e,t){const r=wd(t),n={signature:jn(e.signature),nonce:ee(e.nonce)};if(e.type==="INVOKE_FUNCTION")return{type:e.type,sender_address:e.contractAddress,calldata:Ce.compile(e.calldata??[]),version:ee(e.version||r.v1),...n};if(e.type==="DECLARE")return gr(e.contract)?{type:e.type,contract_class:e.contract,compiled_class_hash:e.compiledClassHash,sender_address:e.senderAddress,version:ee(e.version||r.v2),...n}:{type:e.type,contract_class:e.contract,sender_address:e.senderAddress,version:ee(e.version||r.v1),...n};if(e.type==="DEPLOY_ACCOUNT")return{type:e.type,constructor_calldata:Ce.compile(e.constructorCalldata||[]),class_hash:ee(e.classHash),contract_address_salt:ee(e.addressSalt||0),version:ee(e.version||r.v1),...n};throw Error("Sequencer buildTransaction received unknown TransactionType")}},Xa=class{constructor(e){e instanceof Xa?this.provider=e.provider:e instanceof v0||e instanceof Ba?this.provider=e:e&&"rpc"in e?this.provider=new v0(e.rpc):e&&"sequencer"in e?this.provider=new Ba(e.sequencer):this.provider=new Ba}async getChainId(){return this.provider.getChainId()}async getBlock(e){return this.provider.getBlock(e)}async getClassAt(e,t){return this.provider.getClassAt(e,t)}async getClassHashAt(e,t){return this.provider.getClassHashAt(e,t)}getClassByHash(e){return this.provider.getClassByHash(e)}async getEstimateFee(e,t,r){return this.provider.getEstimateFee(e,t,r)}async getInvokeEstimateFee(e,t,r,n){return this.provider.getInvokeEstimateFee(e,t,r,n)}async getEstimateFeeBulk(e,t){return this.provider.getEstimateFeeBulk(e,t)}async getNonceForAddress(e,t){return this.provider.getNonceForAddress(e,t)}async getStorageAt(e,t,r){return this.provider.getStorageAt(e,t,r)}async getTransaction(e){return this.provider.getTransaction(e)}async getTransactionReceipt(e){return this.provider.getTransactionReceipt(e)}async callContract(e,t){return this.provider.callContract(e,t)}async invokeFunction(e,t){return this.provider.invokeFunction(e,t)}async deployAccountContract(e,t){return this.provider.deployAccountContract(e,t)}async declareContract(e,t){return this.provider.declareContract(e,t)}async getDeclareEstimateFee(e,t,r,n){return this.provider.getDeclareEstimateFee(e,t,r,n)}getDeployAccountEstimateFee(e,t,r,n){return this.provider.getDeployAccountEstimateFee(e,t,r,n)}async getCode(e,t){return this.provider.getCode(e,t)}async waitForTransaction(e,t){return this.provider.waitForTransaction(e,t)}async getSimulateTransaction(e,t){return this.provider.getSimulateTransaction(e,t)}async getStateUpdate(e){return this.provider.getStateUpdate(e)}async getStarkName(e,t){return Id(this,e,t)}async getAddressFromStarkName(e,t){return Od(this,e,t)}},wE={};lt(wE,{fromCallsToExecuteCalldata:()=>xd,fromCallsToExecuteCalldataWithNonce:()=>_E,fromCallsToExecuteCalldata_cairo1:()=>Rb,getExecuteCalldata:()=>ss,transformCallsToMulticallArrays:()=>Cb,transformCallsToMulticallArrays_cairo1:()=>vE});var Cb=e=>{const t=[],r=[];return e.forEach(n=>{const a=Ce.compile(n.calldata||[]);t.push({to:ne(n.contractAddress).toString(10),selector:ne(rr(n.entrypoint)).toString(10),data_offset:r.length.toString(),data_len:a.length.toString()}),r.push(...a)}),{callArray:t,calldata:Ce.compile({calldata:r})}},xd=e=>{const{callArray:t,calldata:r}=Cb(e);return[...Ce.compile({callArray:t}),...r]},_E=(e,t)=>[...xd(e),ne(t).toString()],vE=e=>e.map(t=>({to:ne(t.contractAddress).toString(10),selector:ne(rr(t.entrypoint)).toString(10),calldata:Ce.compile(t.calldata||[])})),Rb=e=>{const t=e.map(r=>({contractAddress:r.contractAddress,entrypoint:r.entrypoint,calldata:r.calldata}));return Ce.compile({orderCalls:t})},ss=(e,t="0")=>t==="1"?Rb(e):xd(e),EE={};lt(EE,{encodeData:()=>Bb,encodeType:()=>Db,encodeValue:()=>Td,getDependencies:()=>Ad,getMessageHash:()=>Nd,getStructHash:()=>Ja,getTypeHash:()=>Mb,isMerkleTreeType:()=>Ub,prepareSelector:()=>Lb});var SE={};lt(SE,{MerkleTree:()=>Wn,proofMerklePath:()=>Pb});var Wn=class{constructor(e){this.branches=[],this.leaves=e,this.root=this.build(e)}build(e){if(e.length===1)return e[0];e.length!==this.leaves.length&&this.branches.push(e);const t=[];for(let r=0;r<e.length;r+=2)r+1===e.length?t.push(Wn.hash(e[r],"0x0")):t.push(Wn.hash(e[r],e[r+1]));return this.build(t)}static hash(e,t){const[r,n]=[ne(e),ne(t)].sort((a,i)=>a>=i?1:-1);return ia(r,n)}getProof(e,t=this.leaves,r=[]){const n=t.indexOf(e);if(n===-1)throw new Error("leaf not found");if(t.length===1)return r;const a=n%2===0,i=(a?t[n+1]:t[n-1])??"0x0",s=[...r,i],o=this.leaves.length===t.length?-1:this.branches.findIndex(f=>f.length===t.length),d=this.branches[o+1]??[this.root];return this.getProof(Wn.hash(a?e:i,a?i:e),d,s)}};function Pb(e,t,r){if(r.length===0)return e===t;const[n,...a]=r;return Pb(e,Wn.hash(t,n),a)}function IE(e){try{return ee(e)}catch{if(typeof e=="string")return ee(en(e));throw new Error(`Invalid BigNumberish: ${e}`)}}var OE=e=>{const t=e;return!!(t.types&&t.primaryType&&t.message)};function Lb(e){return mr(e)?e:rr(e)}function Ub(e){return e.type==="merkletree"}var Ad=(e,t,r=[])=>(t[t.length-1]==="*"&&(t=t.slice(0,-1)),r.includes(t)||!e[t]?r:[t,...e[t].reduce((n,a)=>[...n,...Ad(e,a.type,n).filter(i=>!n.includes(i))],[])]);function xE(e,t){if(t.parent&&t.key){const r=e[t.parent].find(n=>n.name===t.key);if(!Ub(r))throw new Error(`${t.key} is not a merkle tree`);if(r.contains.endsWith("*"))throw new Error(`Merkle tree contain property must not be an array but was given ${t.key}`);return r.contains}return"raw"}var Db=(e,t)=>{const[r,...n]=Ad(e,t);return(r?[r,...n.sort()]:[]).map(a=>`${a}(${e[a].map(i=>`${i.name}:${i.type}`)})`).join("")},Mb=(e,t)=>rr(Db(e,t)),Td=(e,t,r,n={})=>{if(e[t])return[t,Ja(e,t,r)];if(Object.keys(e).map(a=>`${a}*`).includes(t)){const a=r.map(i=>Ja(e,t.slice(0,-1),i));return[t,Ot(a)]}if(t==="merkletree"){const a=xE(e,n),i=r.map(o=>Td(e,a,o)[1]),{root:s}=new Wn(i);return["felt",s]}return t==="felt*"?["felt*",Ot(r)]:t==="selector"?["felt",Lb(r)]:[t,IE(r)]},Bb=(e,t,r)=>{const[n,a]=e[t].reduce(([i,s],o)=>{if(r[o.name]===void 0||r[o.name]===null)throw new Error(`Cannot encode data: missing data for '${o.name}'`);const d=r[o.name],[f,h]=Td(e,o.type,d,{parent:t,key:o.name});return[[...i,f],[...s,h]]},[["felt"],[Mb(e,t)]]);return[n,a]},Ja=(e,t,r)=>Ot(Bb(e,t,r)[1]),Nd=(e,t)=>{if(!OE(e))throw new Error("Typed data does not match JSON schema");const r=[en("StarkNet Message"),Ja(e.types,"StarkNetDomain",e.domain),t,Ja(e.types,e.primaryType,e.message)];return Ot(r)},AE=class{constructor(e=jc.randomPrivateKey()){this.pk=e instanceof Uint8Array?Ou(e):ee(e)}async getPubKey(){return $c(this.pk)}async signMessage(e,t){const r=Nd(e,t);return Ta(r,this.pk)}async signTransaction(e,t,r){if(r&&r.length!==e.length)throw new Error("ABI must be provided for each transaction or no transaction");const n=ss(e,t.cairoVersion),a=_b(t.walletAddress,t.version,n,t.maxFee,t.chainId,t.nonce);return Ta(a,this.pk)}async signDeployAccountTransaction({classHash:e,contractAddress:t,constructorCalldata:r,addressSalt:n,maxFee:a,version:i,chainId:s,nonce:o}){const d=wb(t,e,Ce.compile(r),n,i,a,s,o);return Ta(d,this.pk)}async signDeclareTransaction({classHash:e,senderAddress:t,chainId:r,maxFee:n,version:a,nonce:i,compiledClassHash:s}){const o=mb(e,t,a,n,r,i,s);return Ta(o,this.pk)}};function TE(e){if(!e.events)throw new Error("UDC emited event is empty");const t=e.events.find(r=>sc(r.from_address)===sc(fn.ADDRESS))||{data:[]};return{transaction_hash:e.transaction_hash,contract_address:t.data[0],address:t.data[0],deployer:t.data[1],unique:t.data[2],classHash:t.data[3],calldata_len:t.data[4],calldata:t.data.slice(5,5+parseInt(t.data[4],16)),salt:t.data[t.data.length-1]}}var NE=class extends Xa{constructor(e,t,r,n="0"){super(e),this.deploySelf=this.deployAccount,this.address=t.toLowerCase(),this.signer=typeof r=="string"||r instanceof Uint8Array?new AE(r):r,this.cairoVersion=n}async getNonce(e){return super.getNonceForAddress(this.address,e)}async getNonceSafe(e){try{return ne(e??await this.getNonce())}catch{return 0n}}async estimateFee(e,t){return this.estimateInvokeFee(e,t)}async estimateInvokeFee(e,{nonce:t,blockIdentifier:r,skipValidate:n}={}){const a=Array.isArray(e)?e:[e],i=ne(t??await this.getNonce()),s=ne($n),o=await this.getChainId(),d={walletAddress:this.address,nonce:i,maxFee:zt,version:s,chainId:o,cairoVersion:this.cairoVersion},f=await this.buildInvocation(a,d),h=await super.getInvokeEstimateFee({...f},{version:s,nonce:i},r,n),p=yn(h.overall_fee);return{...h,suggestedMaxFee:p}}async estimateDeclareFee({contract:e,classHash:t,casm:r,compiledClassHash:n},{blockIdentifier:a,nonce:i,skipValidate:s}={}){const o=ne(i??await this.getNonce()),d=gr(e)?as:$n,f=await this.getChainId(),h=await this.buildDeclarePayload({classHash:t,contract:e,casm:r,compiledClassHash:n},{nonce:o,chainId:f,version:d,walletAddress:this.address,maxFee:zt,cairoVersion:this.cairoVersion}),p=await super.getDeclareEstimateFee(h,{version:d,nonce:o},a,s),y=yn(p.overall_fee);return{...p,suggestedMaxFee:y}}async estimateAccountDeployFee({classHash:e,addressSalt:t=0,constructorCalldata:r=[],contractAddress:n},{blockIdentifier:a,skipValidate:i}={}){const s=ne($n),o=zt,d=await this.getChainId(),f=await this.buildAccountDeployPayload({classHash:e,addressSalt:t,constructorCalldata:r,contractAddress:n},{nonce:o,chainId:d,version:s,walletAddress:this.address,maxFee:zt,cairoVersion:this.cairoVersion}),h=await super.getDeployAccountEstimateFee({...f},{version:s,nonce:o},a,i),p=yn(h.overall_fee);return{...h,suggestedMaxFee:p}}async estimateDeployFee(e,t){const r=this.buildUDCContractPayload(e);return this.estimateInvokeFee(r,t)}async estimateFeeBulk(e,{nonce:t,blockIdentifier:r,skipValidate:n}={}){const a=await this.accountInvocationsFactory(e,{versions:[$n,as],nonce:t,blockIdentifier:r}),i=await super.getEstimateFeeBulk(a,{blockIdentifier:r,skipValidate:n});return[].concat(i).map(s=>{const o=yn(s.overall_fee);return{...s,suggestedMaxFee:o}})}async buildInvocation(e,t){const r=ss(e,this.cairoVersion),n=await this.signer.signTransaction(e,t);return{contractAddress:this.address,calldata:r,signature:n}}async execute(e,t=void 0,r={}){const n=Array.isArray(e)?e:[e],a=ne(r.nonce??await this.getNonce()),i=r.maxFee??await this.getSuggestedMaxFee({type:"INVOKE_FUNCTION",payload:e},r),s=ne(Fr),o=await this.getChainId(),d={walletAddress:this.address,nonce:a,maxFee:i,version:s,chainId:o,cairoVersion:this.cairoVersion},f=await this.signer.signTransaction(n,d,t),h=ss(n,this.cairoVersion);return this.invokeFunction({contractAddress:this.address,calldata:h,signature:f},{nonce:a,maxFee:i,version:s})}async declareIfNot(e,t={}){const r=vo(e);try{await this.getClassByHash(r.classHash)}catch{return this.declare(e,t)}return{transaction_hash:"",class_hash:r.classHash}}async declare(e,t={}){const r=vo(e),n={};n.nonce=ne(t.nonce??await this.getNonce()),n.maxFee=t.maxFee??await this.getSuggestedMaxFee({type:"DECLARE",payload:r},t),n.version=gr(e.contract)?ea:Fr,n.chainId=await this.getChainId();const a=await this.buildDeclarePayload(r,{...n,walletAddress:this.address,cairoVersion:this.cairoVersion});return this.declareContract(a,n)}async deploy(e,t){const r=[].concat(e).map(i=>{const{classHash:s,salt:o,unique:d=!0,constructorCalldata:f=[]}=i,h=Ce.compile(f),p=o??vd();return{call:{contractAddress:fn.ADDRESS,entrypoint:fn.ENTRYPOINT,calldata:[s,p,oc(d),h.length,...h]},address:qi(d?ia(this.address,p):p,s,h,d?fn.ADDRESS:0)}}),n=r.map(i=>i.call),a=r.map(i=>i.address);return{...await this.execute(n,void 0,t),contract_address:a}}async deployContract(e,t){const r=await this.deploy(e,t),n=await this.waitForTransaction(r.transaction_hash);return TE(n)}async declareAndDeploy(e,t){const{constructorCalldata:r,salt:n,unique:a}=e;let i=await this.declareIfNot(e,t);if(i.transaction_hash!==""){const o=await this.waitForTransaction(i.transaction_hash);i={...i,...o}}const s=await this.deployContract({classHash:i.class_hash,salt:n,unique:a,constructorCalldata:r},t);return{declare:{...i},deploy:s}}async deployAccount({classHash:e,constructorCalldata:t=[],addressSalt:r=0,contractAddress:n},a={}){const i=ne(Fr),s=zt,o=await this.getChainId(),d=Ce.compile(t),f=n??qi(r,e,d,0),h=a.maxFee??await this.getSuggestedMaxFee({type:"DEPLOY_ACCOUNT",payload:{classHash:e,constructorCalldata:d,addressSalt:r,contractAddress:f}},a),p=await this.signer.signDeployAccountTransaction({classHash:e,constructorCalldata:d,contractAddress:f,addressSalt:r,chainId:o,maxFee:h,version:i,nonce:s});return this.deployAccountContract({classHash:e,addressSalt:r,constructorCalldata:t,signature:p},{nonce:s,maxFee:h,version:i})}async signMessage(e){return this.signer.signMessage(e,this.address)}async hashMessage(e){return Nd(e,this.address)}async verifyMessageHash(e,t){try{return await this.callContract({contractAddress:this.address,entrypoint:"isValidSignature",calldata:Ce.compile({hash:ne(e).toString(),signature:Bs(t)})}),!0}catch{return!1}}async verifyMessage(e,t){const r=await this.hashMessage(e);return this.verifyMessageHash(r,t)}async getSuggestedMaxFee({type:e,payload:t},r){let n;switch(e){case"INVOKE_FUNCTION":n=await this.estimateInvokeFee(t,r);break;case"DECLARE":n=await this.estimateDeclareFee(t,r);break;case"DEPLOY_ACCOUNT":n=await this.estimateAccountDeployFee(t,r);break;case"DEPLOY":n=await this.estimateDeployFee(t,r);break;default:n={suggestedMaxFee:zt,overall_fee:zt};break}return n.suggestedMaxFee}async buildDeclarePayload(e,{nonce:t,chainId:r,version:n,walletAddress:a,maxFee:i}){const{classHash:s,contract:o,compiledClassHash:d}=vo(e),f=Ed(o),h=await this.signer.signDeclareTransaction({classHash:s,compiledClassHash:d,senderAddress:a,chainId:r,maxFee:i,version:n,nonce:t});return{senderAddress:a,signature:h,contract:f,compiledClassHash:d}}async buildAccountDeployPayload({classHash:e,addressSalt:t=0,constructorCalldata:r=[],contractAddress:n},{nonce:a,chainId:i,version:s,maxFee:o}){const d=Ce.compile(r),f=n??qi(t,e,d,0),h=await this.signer.signDeployAccountTransaction({classHash:e,contractAddress:f,chainId:i,maxFee:o,version:s,nonce:a,addressSalt:t,constructorCalldata:d});return{classHash:e,addressSalt:t,constructorCalldata:d,signature:h}}buildUDCContractPayload(e){return[].concat(e).map(t=>{const{classHash:r,salt:n="0",unique:a=!0,constructorCalldata:i=[]}=t,s=Ce.compile(i);return{contractAddress:fn.ADDRESS,entrypoint:fn.ENTRYPOINT,calldata:[r,n,oc(a),s.length,...s]}})}async simulateTransaction(e,{nonce:t,blockIdentifier:r,skipValidate:n,skipExecute:a}={}){const i=await this.accountInvocationsFactory(e,{versions:[Fr,ea],nonce:t,blockIdentifier:r});return super.getSimulateTransaction(i,{blockIdentifier:r,skipValidate:n,skipExecute:a})}async accountInvocationsFactory(e,{versions:t,nonce:r,blockIdentifier:n}){const a=t[0],i=await this.getNonceSafe(r),s=await this.getChainId();return Promise.all([].concat(e).map(async(o,d)=>{const f={walletAddress:this.address,nonce:ne(Number(i)+d),maxFee:zt,version:a,chainId:s,cairoVersion:this.cairoVersion},h="payload"in o?o.payload:o,p={type:o.type,version:a,nonce:ne(Number(i)+d),blockIdentifier:n};if(o.type==="INVOKE_FUNCTION"){const y=await this.buildInvocation([].concat(h),f);return{...p,...y}}if(o.type==="DECLARE"){f.version=gr(h.contract)?ne(t[1]):ne(t[0]);const y=await this.buildDeclarePayload(h,f);return{...p,...y,version:f.version}}if(o.type==="DEPLOY_ACCOUNT"){const y=await this.buildAccountDeployPayload(h,f);return{...p,...y}}if(o.type==="DEPLOY"){const y=this.buildUDCContractPayload(h),g=await this.buildInvocation(y,f);return{...p,...g,type:"INVOKE_FUNCTION"}}throw Error(`accountInvocationsFactory: unsupported transaction type: ${o}`)}))}async getStarkName(e=this.address,t){return super.getStarkName(e,t)}};new Xa;function kE(e){return typeof e<"u"&&typeof e.context<"u"}const fr={init:"signer_init",uri:"signer_uri",created:"signer_created",updated:"signer_updated",deleted:"signer_deleted",event:"signer_event"};class CE extends w4{constructor(t){super(),this.events=new Ft.EventEmitter,this.pending=!1,this.initializing=!1,this.requiredNamespaces=(t==null?void 0:t.requiredNamespaces)||{},this.opts=t==null?void 0:t.client}get connected(){return typeof this.session<"u"}get connecting(){return this.pending}get chains(){return this.session?bl(this.session.namespaces):Q3(this.requiredNamespaces)}get accounts(){return this.session?ul(this.session.namespaces):[]}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(){if(this.pending)return new Promise((t,r)=>{this.events.once("open",()=>{if(this.events.once("open_error",n=>{r(n)}),typeof this.client>"u")return r(new Error("Sign Client not initialized"));t()})});try{this.pending=!0;const t=await this.register(),r=t.find({requiredNamespaces:this.requiredNamespaces});if(r.length)return this.onOpen(r[0]);const{uri:n,approval:a}=await t.connect({requiredNamespaces:this.requiredNamespaces});this.events.emit(fr.uri,{uri:n}),this.session=await a(),this.events.emit(fr.created,this.session),this.onOpen()}catch(t){throw this.events.emit("open_error",t),t}}async close(){typeof this.session>"u"||(await(await this.register()).disconnect({topic:this.session.topic,reason:Qe("USER_DISCONNECTED")}),this.onClose())}async send(t,r){if(typeof this.client>"u"&&(this.client=await this.register(),this.connected||await this.open()),typeof this.session>"u")throw new Error("Signer connection is missing session");this.client.request({topic:this.session.topic,request:t,chainId:r==null?void 0:r.chainId}).then(n=>this.events.emit("payload",ys(t.id,n))).catch(n=>this.events.emit("payload",ms(t.id,n.message)))}async register(t=this.opts){if(typeof this.client<"u")return this.client;if(this.initializing)return new Promise((r,n)=>{this.events.once("register_error",a=>{n(a)}),this.events.once(fr.init,()=>{if(typeof this.client>"u")return n(new Error("Sign Client not initialized"));r(this.client)})});if(kE(t))return this.client=t,this.registerEventListeners(),this.client;try{return this.initializing=!0,this.client=await Es.init(t),this.initializing=!1,this.registerEventListeners(),this.events.emit(fr.init),this.client}catch(r){throw this.events.emit("register_error",r),r}}onOpen(t){this.pending=!1,t&&(this.session=t),this.events.emit("open")}onClose(){this.pending=!1,this.client&&(this.client=void 0),this.events.emit("close")}registerEventListeners(){typeof this.client<"u"&&(this.client.on("session_event",t=>{var r;this.session&&((r=this.session)==null?void 0:r.topic)!==t.topic||this.events.emit(fr.event,t.params)}),this.client.on("session_update",t=>{var r;typeof this.client<"u"&&(this.session&&((r=this.session)==null?void 0:r.topic)!==t.topic||(this.session=this.client.session.get(t.topic),this.events.emit(fr.updated,this.session)))}),this.client.on("session_delete",t=>{var r;this.session&&(this.session&&((r=this.session)==null?void 0:r.topic)!==t.topic||(this.onClose(),this.events.emit(fr.deleted,this.session),this.session=void 0))}))}}class RE{constructor(){Ee(this,"accounts",[]),Ee(this,"eventEmitter",new Ft.EventEmitter),Ee(this,"updateSession",t=>{if(!this.isValidSession(t))throw console.warn("updateSession incompatible session",t,"for adapter",this.formatChainId(this.chainId)),new Error("Invalid session");this.session=t;const r=bl(t.namespaces,[this.namespace]);this.setChainIds(r);const n=ul(t.namespaces,[this.namespace]);this.setAccounts(n)}),Ee(this,"isValidSession",({namespaces:t,requiredNamespaces:r})=>{var a,i;const n=this.formatChainId(this.chainId);return r?!!((a=r[this.namespace])!=null&&a.chains.includes(n)):!!((i=t==null?void 0:t[this.namespace])!=null&&i.accounts.some(s=>s.startsWith(n)))})}getRequiredNamespaces(){const t=[this.formatChainId(this.chainId)];return{[this.namespace]:{chains:t,methods:this.methods,events:this.events}}}isCompatibleChainId(t){return typeof t=="string"?t.startsWith(`${this.namespace}:`):!1}setChainIds(t){const r=t.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n)).filter(n=>n!==this.chainId);r.length&&(this.chainId=r[0],this.eventEmitter.emit("chainChanged",this.chainId))}setChainId(t){if(this.isCompatibleChainId(t)){const r=this.parseChainId(t);this.chainId=r,this.eventEmitter.emit("chainChanged",this.chainId)}}parseAccountId(t){const[r,n,a]=t.split(":");return{chainId:`${r}:${n}`,address:a}}getSignerConnection(t){return new CE({requiredNamespaces:{[this.namespace]:{chains:this.rpc.chains,methods:this.rpc.methods,events:this.rpc.events}},client:t})}registerEventListeners(){this.rpcProvider.on("connect",()=>{const{chains:t,accounts:r}=this.signerConnection;t!=null&&t.length&&this.setChainIds(t),r!=null&&r.length&&this.setAccounts(r)}),this.signerConnection.on(fr.created,this.updateSession),this.signerConnection.on(fr.updated,this.updateSession),this.signerConnection.on(fr.event,t=>{if(!this.rpc.chains.includes(t.chainId))return;const{event:r}=t;r.name==="accountsChanged"?(this.accounts=r.data,this.eventEmitter.emit("accountsChanged",this.accounts)):r.name==="chainChanged"?this.setChainId(r.data):this.eventEmitter.emit(r.name,r.data)}),this.rpcProvider.on("disconnect",()=>{this.eventEmitter.emit("disconnect")})}}class S0 extends NE{constructor(t,r,n,a){super(t,r,n),this.wallet=a}async execute(t,r=void 0,n={}){return t=Array.isArray(t)?t:[t],await this.wallet.starknet_requestAddInvokeTransaction({accountAddress:this.address,executionRequest:{calls:t,abis:r,invocationDetails:n}})}async declare(t,r){throw new Error("Not supported via Argent Login")}async deployAccount(t,r){throw new Error("Not supported via Argent Login")}}class PE{constructor(t){this.wallet=t}async getPubKey(){throw new Error("Not supported via Argent Login")}async signMessage(t,r){const{signature:n}=await this.wallet.starknet_signTypedData({accountAddress:r,typedData:t});return n}async signTransaction(t,r,n){throw new Error("Not supported via Argent Login")}async signDeployAccountTransaction(t){throw new Error("Not supported via Argent Login")}async signDeclareTransaction(t){throw new Error("Not supported via Argent Login")}}const LE=e=>e.replace(/^SN_/,"SN"),UE=e=>e.replace(/^SN/,"SN_");class DE extends RE{constructor({client:t,chainId:r,rpcUrl:n}){if(super(),Ee(this,"id","liftoff"),Ee(this,"name","Argent Liftoff"),Ee(this,"version","0.1.0"),Ee(this,"icon",""),Ee(this,"provider"),Ee(this,"signer"),Ee(this,"account"),Ee(this,"selectedAddress",""),Ee(this,"namespace","starknet"),Ee(this,"methods",["starknet_signTypedData","starknet_requestAddInvokeTransaction"]),Ee(this,"events",["chainChanged","accountsChanged"]),Ee(this,"remoteSigner"),Ee(this,"signerConnection"),Ee(this,"rpcProvider"),Ee(this,"chainId"),Ee(this,"client"),Ee(this,"session"),Ee(this,"rpc"),Ee(this,"walletRpc"),Ee(this,"on",(a,i)=>{this.eventEmitter.on(a,i)}),Ee(this,"off",(a,i)=>{this.eventEmitter.off(a,i)}),this.chainId=String(r||"SN_GOERLI"),this.rpc={chains:r?[this.formatChainId(this.chainId)]:[],methods:this.methods,events:this.events},this.signerConnection=this.getSignerConnection(t),this.rpcProvider=new Rl(this.signerConnection),this.client=t,this.registerEventListeners(),this.walletRpc=new Proxy({},{get:(a,i)=>s=>this.requestWallet({method:i,params:s})}),this.remoteSigner=new PE(this.walletRpc),n)this.provider=new Xa({rpc:{nodeUrl:n}});else{const a=this.getNetworkName(this.chainId);this.provider=new Xa({sequencer:{network:a}})}this.account=new S0(this.provider,"",this.remoteSigner,this.walletRpc)}getNetworkName(t){if(t==="SN_GOERLI"||t==="SN_GOERLI2"||t==="SN_MAIN")return vu.NetworkName.SN_GOERLI;throw new Error(`Unknown starknet.js network name for chainId ${t}`)}async request(t){throw new Error("Not implemented: .request()")}async enable(){return await this.rpcProvider.connect(),this.accounts}get isConnected(){return this.signerConnection.connected}async isPreauthorized(){throw new Error("Not implemented: .isPreauthorized()")}async requestWallet(t){if(!this.session)throw new Error("No session");try{const{topic:r}=this.session,n=this.formatChainId(this.chainId);return await this.client.request({topic:r,chainId:n,request:t})}catch(r){throw new Error(r)}}get isConnecting(){return this.signerConnection.connecting}async disable(){await this.rpcProvider.disconnect()}get isWalletConnect(){return!0}registerEventListeners(){super.registerEventListeners(),this.eventEmitter.on("chainChanged",t=>{throw new Error("Not implemented: chainChanged")})}formatChainId(t){return`${this.namespace}:${LE(t)}`}parseChainId(t){return UE(t.split(":")[1])}setAccounts(t){this.accounts=t.filter(a=>this.parseChainId(this.parseAccountId(a).chainId)===this.chainId).map(a=>this.parseAccountId(a).address);const{address:r}=this.parseAccountId(t[0]),n=r.startsWith("0x")?r:`0x${r}`;this.account=new S0(this.provider,n,this.remoteSigner,this.walletRpc),this.eventEmitter.emit("accountsChanged",this.accounts)}}const HE=async e=>O7(e,DE);export{HE as getStarknetWindowObject};
